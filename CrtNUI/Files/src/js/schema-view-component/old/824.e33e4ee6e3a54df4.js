(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[824],{77819:(rt,G,m)=>{"use strict";m.d(G,{n2:()=>s});var c=m(36599),E=m.n(c),g=m(33376),_=m.n(g),d=m(26903);const o=new c.InjectionToken("LOCAL_STORAGE_SERVICE_CONFIG");let u=null;(function(){typeof ngDevMode>"u"||ngDevMode})();const i="This function is deprecated.",p="LOCAL_STORAGE_NOT_SUPPORTED";class s{constructor(t={}){this.isSupported=!1,this.notifyOptions={setItem:!1,removeItem:!1},this.prefix="ls",this.storageType="localStorage",this.errors=new g.Subscriber,this.removeItems=new g.Subscriber,this.setItems=new g.Subscriber,this.warnings=new g.Subscriber;let{notifyOptions:e,prefix:n,storageType:a}=t;if(e!=null){let{setItem:l,removeItem:T}=e;this.setNotify(!!l,!!T)}n!=null&&this.setPrefix(n),a!=null&&this.setStorageType(a),this.errors$=new g.Observable(l=>this.errors=l).pipe((0,d.B)()),this.removeItems$=new g.Observable(l=>this.removeItems=l).pipe((0,d.B)()),this.setItems$=new g.Observable(l=>this.setItems=l).pipe((0,d.B)()),this.warnings$=new g.Observable(l=>this.warnings=l).pipe((0,d.B)()),this.isSupported=this.checkSupport()}add(t,e){return console&&console.warn&&(console.warn(i),console.warn("Use `LocalStorageService.set` instead.")),this.set(t,e)}clearAll(t){let e=this.prefix?new RegExp("^"+this.prefix):new RegExp(""),n=t?new RegExp(t):new RegExp("");if(!this.isSupported)return this.warnings.next(p),!1;let a=this.prefix.length;for(let l in this.webStorage)if(e.test(l)&&n.test(l.substr(a)))try{this.remove(l.substr(a))}catch(T){return this.errors.next(T.message),!1}return!0}deriveKey(t){return`${this.prefix}${t}`}get(t){if(!this.isSupported)return this.warnings.next(p),null;let e=this.webStorage?this.webStorage.getItem(this.deriveKey(t)):null;if(!e||e==="null")return null;try{return JSON.parse(e)}catch{return null}}getStorageType(){return this.storageType}keys(){if(!this.isSupported)return this.warnings.next(p),[];let t=this.prefix.length,e=[];for(let n in this.webStorage)if(n.substr(0,t)===this.prefix)try{e.push(n.substr(t))}catch(a){return this.errors.next(a.message),[]}return e}length(){let t=0,e=this.webStorage;for(let n=0;n<e.length;n++)e.key(n).indexOf(this.prefix)===0&&(t+=1);return t}remove(...t){let e=!0;return t.forEach(n=>{this.isSupported||(this.warnings.next(p),e=!1);try{this.webStorage.removeItem(this.deriveKey(n)),this.notifyOptions.removeItem&&this.removeItems.next({key:n,storageType:this.storageType})}catch(a){this.errors.next(a.message),e=!1}}),e}set(t,e){if(e===void 0?e=null:e=JSON.stringify(e),!this.isSupported)return this.warnings.next(p),!1;try{this.webStorage&&this.webStorage.setItem(this.deriveKey(t),e),this.notifyOptions.setItem&&this.setItems.next({key:t,newvalue:e,storageType:this.storageType})}catch(n){return this.errors.next(n.message),!1}return!0}checkSupport(){try{let t=this.storageType in window&&window[this.storageType]!==null;if(t){this.webStorage=window[this.storageType];let e=this.deriveKey(`__${Math.round(Math.random()*1e7)}`);this.webStorage.setItem(e,""),this.webStorage.removeItem(e)}return t}catch(t){return this.errors.next(t.message),!1}}setPrefix(t){this.prefix=t;const e=".";this.prefix&&!this.prefix.endsWith(e)&&(this.prefix=this.prefix?`${this.prefix}${e}`:"")}setStorageType(t){this.storageType=t}setNotify(t,e){t!=null&&(this.notifyOptions.setItem=t),e!=null&&(this.notifyOptions.removeItem=e)}}s.\u0275fac=function(t){return new(t||s)(c.\u0275\u0275inject(o,8))},s.\u0275prov=c.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s.ngInjectableDef=(0,c.defineInjectable)({factory:function(){return new s((0,c.inject)(o,8))},token:s,providedIn:"root"}),function(){typeof ngDevMode>"u"||ngDevMode}()},52243:function(rt){/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */(function(G,m){rt.exports=m(G)})(typeof global<"u"?global:this,function(G){if(G.CSS&&G.CSS.escape)return G.CSS.escape;var m=function(c){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var E=String(c),g=E.length,_=-1,d,o="",u=E.charCodeAt(0);++_<g;){if(d=E.charCodeAt(_),d==0){o+="\uFFFD";continue}if(d>=1&&d<=31||d==127||_==0&&d>=48&&d<=57||_==1&&d>=48&&d<=57&&u==45){o+="\\"+d.toString(16)+" ";continue}if(_==0&&g==1&&d==45){o+="\\"+E.charAt(_);continue}if(d>=128||d==45||d==95||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122){o+=E.charAt(_);continue}o+="\\"+E.charAt(_)}return o};return G.CSS||(G.CSS={}),G.CSS.escape=m,m})},11524:(rt,G,m)=>{var c;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(E,g,_,d){"use strict";var o=["","webkit","Moz","MS","ms","o"],u=g.createElement("div"),i="function",p=Math.round,s=Math.abs,r=Date.now;function t(R,B,Z){return setTimeout(S(R,Z),B)}function e(R,B,Z){return Array.isArray(R)?(n(R,Z[B],Z),!0):!1}function n(R,B,Z){var et;if(!!R)if(R.forEach)R.forEach(B,Z);else if(R.length!==d)for(et=0;et<R.length;)B.call(Z,R[et],et,R),et++;else for(et in R)R.hasOwnProperty(et)&&B.call(Z,R[et],et,R)}function a(R,B,Z){var et="DEPRECATED METHOD: "+B+`
`+Z+` AT 
`;return function(){var at=new Error("get-stack-trace"),ct=at&&at.stack?at.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ht=E.console&&(E.console.warn||E.console.log);return ht&&ht.call(E.console,et,ct),R.apply(this,arguments)}}var l;typeof Object.assign!="function"?l=function(B){if(B===d||B===null)throw new TypeError("Cannot convert undefined or null to object");for(var Z=Object(B),et=1;et<arguments.length;et++){var at=arguments[et];if(at!==d&&at!==null)for(var ct in at)at.hasOwnProperty(ct)&&(Z[ct]=at[ct])}return Z}:l=Object.assign;var T=a(function(B,Z,et){for(var at=Object.keys(Z),ct=0;ct<at.length;)(!et||et&&B[at[ct]]===d)&&(B[at[ct]]=Z[at[ct]]),ct++;return B},"extend","Use `assign`."),O=a(function(B,Z){return T(B,Z,!0)},"merge","Use `assign`.");function y(R,B,Z){var et=B.prototype,at;at=R.prototype=Object.create(et),at.constructor=R,at._super=et,Z&&l(at,Z)}function S(R,B){return function(){return R.apply(B,arguments)}}function L(R,B){return typeof R==i?R.apply(B&&B[0]||d,B):R}function D(R,B){return R===d?B:R}function I(R,B,Z){n(Y(B),function(et){R.addEventListener(et,Z,!1)})}function U(R,B,Z){n(Y(B),function(et){R.removeEventListener(et,Z,!1)})}function A(R,B){for(;R;){if(R==B)return!0;R=R.parentNode}return!1}function N(R,B){return R.indexOf(B)>-1}function Y(R){return R.trim().split(/\s+/g)}function Q(R,B,Z){if(R.indexOf&&!Z)return R.indexOf(B);for(var et=0;et<R.length;){if(Z&&R[et][Z]==B||!Z&&R[et]===B)return et;et++}return-1}function it(R){return Array.prototype.slice.call(R,0)}function tt(R,B,Z){for(var et=[],at=[],ct=0;ct<R.length;){var ht=B?R[ct][B]:R[ct];Q(at,ht)<0&&et.push(R[ct]),at[ct]=ht,ct++}return Z&&(B?et=et.sort(function(yt,mt){return yt[B]>mt[B]}):et=et.sort()),et}function $(R,B){for(var Z,et,at=B[0].toUpperCase()+B.slice(1),ct=0;ct<o.length;){if(Z=o[ct],et=Z?Z+at:B,et in R)return et;ct++}return d}var H=1;function M(){return H++}function f(R){var B=R.ownerDocument||R;return B.defaultView||B.parentWindow||E}var x=/mobile|tablet|ip(ad|hone|od)|android/i,h="ontouchstart"in E,v=$(E,"PointerEvent")!==d,C=h&&x.test(navigator.userAgent),P="touch",j="pen",b="mouse",F="kinect",V=25,X=1,q=2,nt=4,W=8,z=1,K=2,w=4,k=8,J=16,ot=K|w,st=k|J,ut=ot|st,ft=["x","y"],lt=["clientX","clientY"];function vt(R,B){var Z=this;this.manager=R,this.callback=B,this.element=R.element,this.target=R.options.inputTarget,this.domHandler=function(et){L(R.options.enable,[R])&&Z.handler(et)},this.init()}vt.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(f(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(f(this.element),this.evWin,this.domHandler)}};function dt(R){var B,Z=R.options.inputClass;return Z?B=Z:v?B=Ut:C?B=Jt:h?B=se:B=Rt,new B(R,pt)}function pt(R,B,Z){var et=Z.pointers.length,at=Z.changedPointers.length,ct=B&X&&et-at===0,ht=B&(nt|W)&&et-at===0;Z.isFirst=!!ct,Z.isFinal=!!ht,ct&&(R.session={}),Z.eventType=B,Ot(R,Z),R.emit("hammer.input",Z),R.recognize(Z),R.session.prevInput=Z}function Ot(R,B){var Z=R.session,et=B.pointers,at=et.length;Z.firstInput||(Z.firstInput=Kt(B)),at>1&&!Z.firstMultiple?Z.firstMultiple=Kt(B):at===1&&(Z.firstMultiple=!1);var ct=Z.firstInput,ht=Z.firstMultiple,gt=ht?ht.center:ct.center,yt=B.center=zt(et);B.timeStamp=r(),B.deltaTime=B.timeStamp-ct.timeStamp,B.angle=At(gt,yt),B.distance=Lt(gt,yt),ie(Z,B),B.offsetDirection=Gt(B.deltaX,B.deltaY);var mt=kt(B.deltaTime,B.deltaX,B.deltaY);B.overallVelocityX=mt.x,B.overallVelocityY=mt.y,B.overallVelocity=s(mt.x)>s(mt.y)?mt.x:mt.y,B.scale=ht?Ft(ht.pointers,et):1,B.rotation=ht?Zt(ht.pointers,et):0,B.maxPointers=Z.prevInput?B.pointers.length>Z.prevInput.maxPointers?B.pointers.length:Z.prevInput.maxPointers:B.pointers.length,re(Z,B);var St=R.element;A(B.srcEvent.target,St)&&(St=B.srcEvent.target),B.target=St}function ie(R,B){var Z=B.center,et=R.offsetDelta||{},at=R.prevDelta||{},ct=R.prevInput||{};(B.eventType===X||ct.eventType===nt)&&(at=R.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},et=R.offsetDelta={x:Z.x,y:Z.y}),B.deltaX=at.x+(Z.x-et.x),B.deltaY=at.y+(Z.y-et.y)}function re(R,B){var Z=R.lastInterval||B,et=B.timeStamp-Z.timeStamp,at,ct,ht,gt;if(B.eventType!=W&&(et>V||Z.velocity===d)){var yt=B.deltaX-Z.deltaX,mt=B.deltaY-Z.deltaY,St=kt(et,yt,mt);ct=St.x,ht=St.y,at=s(St.x)>s(St.y)?St.x:St.y,gt=Gt(yt,mt),R.lastInterval=B}else at=Z.velocity,ct=Z.velocityX,ht=Z.velocityY,gt=Z.direction;B.velocity=at,B.velocityX=ct,B.velocityY=ht,B.direction=gt}function Kt(R){for(var B=[],Z=0;Z<R.pointers.length;)B[Z]={clientX:p(R.pointers[Z].clientX),clientY:p(R.pointers[Z].clientY)},Z++;return{timeStamp:r(),pointers:B,center:zt(B),deltaX:R.deltaX,deltaY:R.deltaY}}function zt(R){var B=R.length;if(B===1)return{x:p(R[0].clientX),y:p(R[0].clientY)};for(var Z=0,et=0,at=0;at<B;)Z+=R[at].clientX,et+=R[at].clientY,at++;return{x:p(Z/B),y:p(et/B)}}function kt(R,B,Z){return{x:B/R||0,y:Z/R||0}}function Gt(R,B){return R===B?z:s(R)>=s(B)?R<0?K:w:B<0?k:J}function Lt(R,B,Z){Z||(Z=ft);var et=B[Z[0]]-R[Z[0]],at=B[Z[1]]-R[Z[1]];return Math.sqrt(et*et+at*at)}function At(R,B,Z){Z||(Z=ft);var et=B[Z[0]]-R[Z[0]],at=B[Z[1]]-R[Z[1]];return Math.atan2(at,et)*180/Math.PI}function Zt(R,B){return At(B[1],B[0],lt)+At(R[1],R[0],lt)}function Ft(R,B){return Lt(B[0],B[1],lt)/Lt(R[0],R[1],lt)}var Vt={mousedown:X,mousemove:q,mouseup:nt},Pt="mousedown",Yt="mousemove mouseup";function Rt(){this.evEl=Pt,this.evWin=Yt,this.pressed=!1,vt.apply(this,arguments)}y(Rt,vt,{handler:function(B){var Z=Vt[B.type];Z&X&&B.button===0&&(this.pressed=!0),Z&q&&B.which!==1&&(Z=nt),this.pressed&&(Z&nt&&(this.pressed=!1),this.callback(this.manager,Z,{pointers:[B],changedPointers:[B],pointerType:b,srcEvent:B}))}});var $t={pointerdown:X,pointermove:q,pointerup:nt,pointercancel:W,pointerout:W},xt={2:P,3:j,4:b,5:F},Xt="pointerdown",jt="pointermove pointerup pointercancel";E.MSPointerEvent&&!E.PointerEvent&&(Xt="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel");function Ut(){this.evEl=Xt,this.evWin=jt,vt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y(Ut,vt,{handler:function(B){var Z=this.store,et=!1,at=B.type.toLowerCase().replace("ms",""),ct=$t[at],ht=xt[B.pointerType]||B.pointerType,gt=ht==P,yt=Q(Z,B.pointerId,"pointerId");ct&X&&(B.button===0||gt)?yt<0&&(Z.push(B),yt=Z.length-1):ct&(nt|W)&&(et=!0),!(yt<0)&&(Z[yt]=B,this.callback(this.manager,ct,{pointers:Z,changedPointers:[B],pointerType:ht,srcEvent:B}),et&&Z.splice(yt,1))}});var bt={touchstart:X,touchmove:q,touchend:nt,touchcancel:W},oe="touchstart",ae="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=oe,this.evWin=ae,this.started=!1,vt.apply(this,arguments)}y(ve,vt,{handler:function(B){var Z=bt[B.type];if(Z===X&&(this.started=!0),!!this.started){var et=Me.call(this,B,Z);Z&(nt|W)&&et[0].length-et[1].length===0&&(this.started=!1),this.callback(this.manager,Z,{pointers:et[0],changedPointers:et[1],pointerType:P,srcEvent:B})}}});function Me(R,B){var Z=it(R.touches),et=it(R.changedTouches);return B&(nt|W)&&(Z=tt(Z.concat(et),"identifier",!0)),[Z,et]}var Pe={touchstart:X,touchmove:q,touchend:nt,touchcancel:W},we="touchstart touchmove touchend touchcancel";function Jt(){this.evTarget=we,this.targetIds={},vt.apply(this,arguments)}y(Jt,vt,{handler:function(B){var Z=Pe[B.type],et=Re.call(this,B,Z);!et||this.callback(this.manager,Z,{pointers:et[0],changedPointers:et[1],pointerType:P,srcEvent:B})}});function Re(R,B){var Z=it(R.touches),et=this.targetIds;if(B&(X|q)&&Z.length===1)return et[Z[0].identifier]=!0,[Z,Z];var at,ct,ht=it(R.changedTouches),gt=[],yt=this.target;if(ct=Z.filter(function(mt){return A(mt.target,yt)}),B===X)for(at=0;at<ct.length;)et[ct[at].identifier]=!0,at++;for(at=0;at<ht.length;)et[ht[at].identifier]&&gt.push(ht[at]),B&(nt|W)&&delete et[ht[at].identifier],at++;if(!!gt.length)return[tt(ct.concat(gt),"identifier",!0),gt]}var Ie=2500,ge=25;function se(){vt.apply(this,arguments);var R=S(this.handler,this);this.touch=new Jt(this.manager,R),this.mouse=new Rt(this.manager,R),this.primaryTouch=null,this.lastTouches=[]}y(se,vt,{handler:function(B,Z,et){var at=et.pointerType==P,ct=et.pointerType==b;if(!(ct&&et.sourceCapabilities&&et.sourceCapabilities.firesTouchEvents)){if(at)De.call(this,Z,et);else if(ct&&Le.call(this,et))return;this.callback(B,Z,et)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function De(R,B){R&X?(this.primaryTouch=B.changedPointers[0].identifier,ye.call(this,B)):R&(nt|W)&&ye.call(this,B)}function ye(R){var B=R.changedPointers[0];if(B.identifier===this.primaryTouch){var Z={x:B.clientX,y:B.clientY};this.lastTouches.push(Z);var et=this.lastTouches,at=function(){var ct=et.indexOf(Z);ct>-1&&et.splice(ct,1)};setTimeout(at,Ie)}}function Le(R){for(var B=R.srcEvent.clientX,Z=R.srcEvent.clientY,et=0;et<this.lastTouches.length;et++){var at=this.lastTouches[et],ct=Math.abs(B-at.x),ht=Math.abs(Z-at.y);if(ct<=ge&&ht<=ge)return!0}return!1}var me=$(u.style,"touchAction"),_e=me!==d,Ee="compute",xe="auto",ce="manipulation",It="none",Nt="pan-x",Wt="pan-y",Qt=Ue();function ue(R,B){this.manager=R,this.set(B)}ue.prototype={set:function(R){R==Ee&&(R=this.compute()),_e&&this.manager.element.style&&Qt[R]&&(this.manager.element.style[me]=R),this.actions=R.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var R=[];return n(this.manager.recognizers,function(B){L(B.options.enable,[B])&&(R=R.concat(B.getTouchAction()))}),Ae(R.join(" "))},preventDefaults:function(R){var B=R.srcEvent,Z=R.offsetDirection;if(this.manager.session.prevented){B.preventDefault();return}var et=this.actions,at=N(et,It)&&!Qt[It],ct=N(et,Wt)&&!Qt[Wt],ht=N(et,Nt)&&!Qt[Nt];if(at){var gt=R.pointers.length===1,yt=R.distance<2,mt=R.deltaTime<250;if(gt&&yt&&mt)return}if(!(ht&&ct)&&(at||ct&&Z&ot||ht&&Z&st))return this.preventSrc(B)},preventSrc:function(R){this.manager.session.prevented=!0,R.preventDefault()}};function Ae(R){if(N(R,It))return It;var B=N(R,Nt),Z=N(R,Wt);return B&&Z?It:B||Z?B?Nt:Wt:N(R,ce)?ce:xe}function Ue(){if(!_e)return!1;var R={},B=E.CSS&&E.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Z){R[Z]=B?E.CSS.supports("touch-action",Z):!0}),R}var qt=1,_t=2,Bt=4,wt=8,Ct=wt,Ht=16,Tt=32;function Mt(R){this.options=l({},this.defaults,R||{}),this.id=M(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=qt,this.simultaneous={},this.requireFail=[]}Mt.prototype={defaults:{},set:function(R){return l(this.options,R),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(R){if(e(R,"recognizeWith",this))return this;var B=this.simultaneous;return R=te(R,this),B[R.id]||(B[R.id]=R,R.recognizeWith(this)),this},dropRecognizeWith:function(R){return e(R,"dropRecognizeWith",this)?this:(R=te(R,this),delete this.simultaneous[R.id],this)},requireFailure:function(R){if(e(R,"requireFailure",this))return this;var B=this.requireFail;return R=te(R,this),Q(B,R)===-1&&(B.push(R),R.requireFailure(this)),this},dropRequireFailure:function(R){if(e(R,"dropRequireFailure",this))return this;R=te(R,this);var B=Q(this.requireFail,R);return B>-1&&this.requireFail.splice(B,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(R){return!!this.simultaneous[R.id]},emit:function(R){var B=this,Z=this.state;function et(at){B.manager.emit(at,R)}Z<wt&&et(B.options.event+Te(Z)),et(B.options.event),R.additionalEvent&&et(R.additionalEvent),Z>=wt&&et(B.options.event+Te(Z))},tryEmit:function(R){if(this.canEmit())return this.emit(R);this.state=Tt},canEmit:function(){for(var R=0;R<this.requireFail.length;){if(!(this.requireFail[R].state&(Tt|qt)))return!1;R++}return!0},recognize:function(R){var B=l({},R);if(!L(this.options.enable,[this,B])){this.reset(),this.state=Tt;return}this.state&(Ct|Ht|Tt)&&(this.state=qt),this.state=this.process(B),this.state&(_t|Bt|wt|Ht)&&this.tryEmit(B)},process:function(R){},getTouchAction:function(){},reset:function(){}};function Te(R){return R&Ht?"cancel":R&wt?"end":R&Bt?"move":R&_t?"start":""}function Se(R){return R==J?"down":R==k?"up":R==K?"left":R==w?"right":""}function te(R,B){var Z=B.manager;return Z?Z.get(R):R}function Et(){Mt.apply(this,arguments)}y(Et,Mt,{defaults:{pointers:1},attrTest:function(R){var B=this.options.pointers;return B===0||R.pointers.length===B},process:function(R){var B=this.state,Z=R.eventType,et=B&(_t|Bt),at=this.attrTest(R);return et&&(Z&W||!at)?B|Ht:et||at?Z&nt?B|wt:B&_t?B|Bt:_t:Tt}});function ee(){Et.apply(this,arguments),this.pX=null,this.pY=null}y(ee,Et,{defaults:{event:"pan",threshold:10,pointers:1,direction:ut},getTouchAction:function(){var R=this.options.direction,B=[];return R&ot&&B.push(Wt),R&st&&B.push(Nt),B},directionTest:function(R){var B=this.options,Z=!0,et=R.distance,at=R.direction,ct=R.deltaX,ht=R.deltaY;return at&B.direction||(B.direction&ot?(at=ct===0?z:ct<0?K:w,Z=ct!=this.pX,et=Math.abs(R.deltaX)):(at=ht===0?z:ht<0?k:J,Z=ht!=this.pY,et=Math.abs(R.deltaY))),R.direction=at,Z&&et>B.threshold&&at&B.direction},attrTest:function(R){return Et.prototype.attrTest.call(this,R)&&(this.state&_t||!(this.state&_t)&&this.directionTest(R))},emit:function(R){this.pX=R.deltaX,this.pY=R.deltaY;var B=Se(R.direction);B&&(R.additionalEvent=this.options.event+B),this._super.emit.call(this,R)}});function le(){Et.apply(this,arguments)}y(le,Et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.scale-1)>this.options.threshold||this.state&_t)},emit:function(R){if(R.scale!==1){var B=R.scale<1?"in":"out";R.additionalEvent=this.options.event+B}this._super.emit.call(this,R)}});function fe(){Mt.apply(this,arguments),this._timer=null,this._input=null}y(fe,Mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(R){var B=this.options,Z=R.pointers.length===B.pointers,et=R.distance<B.threshold,at=R.deltaTime>B.time;if(this._input=R,!et||!Z||R.eventType&(nt|W)&&!at)this.reset();else if(R.eventType&X)this.reset(),this._timer=t(function(){this.state=Ct,this.tryEmit()},B.time,this);else if(R.eventType&nt)return Ct;return Tt},reset:function(){clearTimeout(this._timer)},emit:function(R){this.state===Ct&&(R&&R.eventType&nt?this.manager.emit(this.options.event+"up",R):(this._input.timeStamp=r(),this.manager.emit(this.options.event,this._input)))}});function he(){Et.apply(this,arguments)}y(he,Et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.rotation)>this.options.threshold||this.state&_t)}});function de(){Et.apply(this,arguments)}y(de,Et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ot|st,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(R){var B=this.options.direction,Z;return B&(ot|st)?Z=R.overallVelocity:B&ot?Z=R.overallVelocityX:B&st&&(Z=R.overallVelocityY),this._super.attrTest.call(this,R)&&B&R.offsetDirection&&R.distance>this.options.threshold&&R.maxPointers==this.options.pointers&&s(Z)>this.options.velocity&&R.eventType&nt},emit:function(R){var B=Se(R.offsetDirection);B&&this.manager.emit(this.options.event+B,R),this.manager.emit(this.options.event,R)}});function ne(){Mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}y(ne,Mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(R){var B=this.options,Z=R.pointers.length===B.pointers,et=R.distance<B.threshold,at=R.deltaTime<B.time;if(this.reset(),R.eventType&X&&this.count===0)return this.failTimeout();if(et&&at&&Z){if(R.eventType!=nt)return this.failTimeout();var ct=this.pTime?R.timeStamp-this.pTime<B.interval:!0,ht=!this.pCenter||Lt(this.pCenter,R.center)<B.posThreshold;this.pTime=R.timeStamp,this.pCenter=R.center,!ht||!ct?this.count=1:this.count+=1,this._input=R;var gt=this.count%B.taps;if(gt===0)return this.hasRequireFailures()?(this._timer=t(function(){this.state=Ct,this.tryEmit()},B.interval,this),_t):Ct}return Tt},failTimeout:function(){return this._timer=t(function(){this.state=Tt},this.options.interval,this),Tt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ct&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Dt(R,B){return B=B||{},B.recognizers=D(B.recognizers,Dt.defaults.preset),new pe(R,B)}Dt.VERSION="2.0.7",Dt.defaults={domEvents:!1,touchAction:Ee,enable:!0,inputTarget:null,inputClass:null,preset:[[he,{enable:!1}],[le,{enable:!1},["rotate"]],[de,{direction:ot}],[ee,{direction:ot},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var be=1,Oe=2;function pe(R,B){this.options=l({},Dt.defaults,B||{}),this.options.inputTarget=this.options.inputTarget||R,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=R,this.input=dt(this),this.touchAction=new ue(this,this.options.touchAction),Ce(this,!0),n(this.options.recognizers,function(Z){var et=this.add(new Z[0](Z[1]));Z[2]&&et.recognizeWith(Z[2]),Z[3]&&et.requireFailure(Z[3])},this)}pe.prototype={set:function(R){return l(this.options,R),R.touchAction&&this.touchAction.update(),R.inputTarget&&(this.input.destroy(),this.input.target=R.inputTarget,this.input.init()),this},stop:function(R){this.session.stopped=R?Oe:be},recognize:function(R){var B=this.session;if(!B.stopped){this.touchAction.preventDefaults(R);var Z,et=this.recognizers,at=B.curRecognizer;(!at||at&&at.state&Ct)&&(at=B.curRecognizer=null);for(var ct=0;ct<et.length;)Z=et[ct],B.stopped!==Oe&&(!at||Z==at||Z.canRecognizeWith(at))?Z.recognize(R):Z.reset(),!at&&Z.state&(_t|Bt|wt)&&(at=B.curRecognizer=Z),ct++}},get:function(R){if(R instanceof Mt)return R;for(var B=this.recognizers,Z=0;Z<B.length;Z++)if(B[Z].options.event==R)return B[Z];return null},add:function(R){if(e(R,"add",this))return this;var B=this.get(R.options.event);return B&&this.remove(B),this.recognizers.push(R),R.manager=this,this.touchAction.update(),R},remove:function(R){if(e(R,"remove",this))return this;if(R=this.get(R),R){var B=this.recognizers,Z=Q(B,R);Z!==-1&&(B.splice(Z,1),this.touchAction.update())}return this},on:function(R,B){if(R!==d&&B!==d){var Z=this.handlers;return n(Y(R),function(et){Z[et]=Z[et]||[],Z[et].push(B)}),this}},off:function(R,B){if(R!==d){var Z=this.handlers;return n(Y(R),function(et){B?Z[et]&&Z[et].splice(Q(Z[et],B),1):delete Z[et]}),this}},emit:function(R,B){this.options.domEvents&&Be(R,B);var Z=this.handlers[R]&&this.handlers[R].slice();if(!(!Z||!Z.length)){B.type=R,B.preventDefault=function(){B.srcEvent.preventDefault()};for(var et=0;et<Z.length;)Z[et](B),et++}},destroy:function(){this.element&&Ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Ce(R,B){var Z=R.element;if(!!Z.style){var et;n(R.options.cssProps,function(at,ct){et=$(Z.style,ct),B?(R.oldCssProps[et]=Z.style[et],Z.style[et]=at):Z.style[et]=R.oldCssProps[et]||""}),B||(R.oldCssProps={})}}function Be(R,B){var Z=g.createEvent("Event");Z.initEvent(R,!0,!0),Z.gesture=B,B.target.dispatchEvent(Z)}l(Dt,{INPUT_START:X,INPUT_MOVE:q,INPUT_END:nt,INPUT_CANCEL:W,STATE_POSSIBLE:qt,STATE_BEGAN:_t,STATE_CHANGED:Bt,STATE_ENDED:wt,STATE_RECOGNIZED:Ct,STATE_CANCELLED:Ht,STATE_FAILED:Tt,DIRECTION_NONE:z,DIRECTION_LEFT:K,DIRECTION_RIGHT:w,DIRECTION_UP:k,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:ot,DIRECTION_VERTICAL:st,DIRECTION_ALL:ut,Manager:pe,Input:vt,TouchAction:ue,TouchInput:Jt,MouseInput:Rt,PointerEventInput:Ut,TouchMouseInput:se,SingleTouchInput:ve,Recognizer:Mt,AttrRecognizer:Et,Tap:ne,Pan:ee,Swipe:de,Pinch:le,Rotate:he,Press:fe,on:I,off:U,each:n,merge:O,extend:T,assign:l,inherit:y,bindFn:S,prefixed:$});var je=typeof E<"u"?E:typeof self<"u"?self:{};je.Hammer=Dt,c=function(){return Dt}.call(G,m,G,rt),c!==d&&(rt.exports=c)})(window,document,"Hammer")},59879:rt=>{typeof Object.create=="function"?rt.exports=function(m,c){c&&(m.super_=c,m.prototype=Object.create(c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:rt.exports=function(m,c){if(c){m.super_=c;var E=function(){};E.prototype=c.prototype,m.prototype=new E,m.prototype.constructor=m}}},9012:(rt,G,m)=>{"use strict";m.d(G,{B:()=>Q,H6:()=>M,IO:()=>C,Kt:()=>P,Lj:()=>s,Od:()=>j,Sh:()=>a,ZH:()=>T,cl:()=>H,oq:()=>D,wB:()=>S});var c=Object.prototype.toString,E=Object.prototype.hasOwnProperty;function g(b){return b===void 0}function _(b){return c.call(b)==="[object Array]"}function d(b,F){return E.call(b,F)}function o(b,F){var V,X;if(!g(b)){var q=_(b)?i:u;for(var nt in b)if(d(b,nt)&&(V=b[nt],X=F(V,q(nt)),X===!1))return V}}function u(b){return b}function i(b){return Number(b)}function p(b){for(var F=b.style,V=arguments.length,X=Array(V>1?V-1:0),q=1;q<V;q++)X[q-1]=arguments[q];return o(X,function(nt){!nt||o(nt,function(W,z){F[z]=W})}),b}function s(b,F,V){return arguments.length==2?b.getAttribute(F):V===null?b.removeAttribute(F):(b.setAttribute(F,V),b)}var r=[].indexOf,t=function(b,F){if(r)return b.indexOf(F);for(var V=0;V<b.length;++V)if(b[V]===F)return V;return-1},e=/\s+/,n=Object.prototype.toString;function a(b){return new l(b)}function l(b){if(!b||!b.nodeType)throw new Error("A DOM element reference is required");this.el=b,this.list=b.classList}l.prototype.add=function(b){if(this.list)return this.list.add(b),this;var F=this.array(),V=t(F,b);return~V||F.push(b),this.el.className=F.join(" "),this},l.prototype.remove=function(b){if(n.call(b)=="[object RegExp]")return this.removeMatching(b);if(this.list)return this.list.remove(b),this;var F=this.array(),V=t(F,b);return~V&&F.splice(V,1),this.el.className=F.join(" "),this},l.prototype.removeMatching=function(b){for(var F=this.array(),V=0;V<F.length;V++)b.test(F[V])&&this.remove(F[V]);return this},l.prototype.toggle=function(b,F){return this.list?(typeof F<"u"?F!==this.list.toggle(b,F)&&this.list.toggle(b):this.list.toggle(b),this):(typeof F<"u"?F?this.add(b):this.remove(b):this.has(b)?this.remove(b):this.add(b),this)},l.prototype.array=function(){var b=this.el.getAttribute("class")||"",F=b.replace(/^\s+|\s+$/g,""),V=F.split(e);return V[0]===""&&V.shift(),V},l.prototype.has=l.prototype.contains=function(b){return this.list?this.list.contains(b):!!~t(this.array(),b)};function T(b){for(var F;b.childNodes.length;)F=b.childNodes[0],b.removeChild(F);return b}var O=typeof Element<"u"?Element.prototype:{},y=O.matches||O.matchesSelector||O.webkitMatchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector,S=L;function L(b,F){if(!b||b.nodeType!==1)return!1;if(y)return y.call(b,F);for(var V=b.parentNode.querySelectorAll(F),X=0;X<V.length;X++)if(V[X]==b)return!0;return!1}function D(b,F,V){for(var X=V?b:b.parentNode;X&&X.nodeType!==document.DOCUMENT_NODE&&X.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(S(X,F))return X;X=X.parentNode}return S(X,F)?X:null}var I=window.addEventListener?"addEventListener":"attachEvent",U=window.removeEventListener?"removeEventListener":"detachEvent",A=I!=="addEventListener"?"on":"",N=function(b,F,V,X){return b[I](A+F,V,X||!1),V},Y=function(b,F,V,X){return b[U](A+F,V,X||!1),V},Q={bind:N,unbind:Y},it=["focus","blur"];function tt(b,F,V,X,q){return it.indexOf(V)!==-1&&(q=!0),Q.bind(b,V,function(nt){var W=nt.target||nt.srcElement;nt.delegateTarget=D(W,F,!0,b),nt.delegateTarget&&X.call(b,nt)},q)}function $(b,F,V,X){return it.indexOf(F)!==-1&&(X=!0),Q.unbind(b,F,V,X)}var H={bind:tt,unbind:$},M=v,f=!1,x;typeof document<"u"&&(x=document.createElement("div"),x.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',f=!x.getElementsByTagName("link").length,x=void 0);var h={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:f?[1,"X<div>","</div>"]:[0,"",""]};h.td=h.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],h.option=h.optgroup=[1,'<select multiple="multiple">',"</select>"],h.thead=h.tbody=h.colgroup=h.caption=h.tfoot=[1,"<table>","</table>"],h.polyline=h.ellipse=h.polygon=h.circle=h.text=h.line=h.path=h.rect=h.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function v(b,F){if(typeof b!="string")throw new TypeError("String expected");F||(F=document);var V=/<([\w:]+)/.exec(b);if(!V)return F.createTextNode(b);b=b.replace(/^\s+|\s+$/g,"");var X=V[1];if(X=="body"){var K=F.createElement("html");return K.innerHTML=b,K.removeChild(K.lastChild)}var q=h[X]||h._default,nt=q[0],W=q[1],z=q[2],K=F.createElement("div");for(K.innerHTML=W+b+z;nt--;)K=K.lastChild;if(K.firstChild==K.lastChild)return K.removeChild(K.firstChild);for(var w=F.createDocumentFragment();K.firstChild;)w.appendChild(K.removeChild(K.firstChild));return w}function C(b,F){return F=F||document,F.querySelector(b)}function P(b,F){return F=F||document,F.querySelectorAll(b)}function j(b){b.parentNode&&b.parentNode.removeChild(b)}},19891:(rt,G,m)=>{rt.exports=m(18627),rt.exports.Collection=m(88508)},88508:rt=>{"use strict";function G(c,E,g,_){var d=g.inverse;return Object.defineProperty(c,"remove",{value:function(o){var u=this.indexOf(o);return u!==-1&&(this.splice(u,1),E.unset(o,d,_)),o}}),Object.defineProperty(c,"contains",{value:function(o){return this.indexOf(o)!==-1}}),Object.defineProperty(c,"add",{value:function(o,u){var i=this.indexOf(o);if(typeof u>"u"){if(i!==-1)return;u=this.length}i!==-1&&this.splice(i,1),this.splice(u,0,o),i===-1&&E.set(o,d,_)}}),Object.defineProperty(c,"__refs_collection",{value:!0}),c}function m(c){return c.__refs_collection===!0}rt.exports.extend=G,rt.exports.isExtended=m},18627:(rt,G,m)=>{"use strict";var c=m(88508);function E(o,u){return Object.prototype.hasOwnProperty.call(o,u.name||u)}function g(o,u,i){var p=c.extend(i[u.name]||[],o,u,i);Object.defineProperty(i,u.name,{enumerable:u.enumerable,value:p}),p.length&&p.forEach(function(s){o.set(s,u.inverse,i)})}function _(o,u,i){var p=u.inverse,s=i[u.name];Object.defineProperty(i,u.name,{configurable:u.configurable,enumerable:u.enumerable,get:function(){return s},set:function(r){if(r!==s){var t=s;s=null,t&&o.unset(t,p,i),s=r,o.set(s,p,i)}}})}function d(o,u){if(!(this instanceof d))return new d(o,u);o.inverse=u,u.inverse=o,this.props={},this.props[o.name]=o,this.props[u.name]=u}d.prototype.bind=function(o,u){if(typeof u=="string"){if(!this.props[u])throw new Error("no property <"+u+"> in ref");u=this.props[u]}u.collection?g(this,u,o):_(this,u,o)},d.prototype.ensureRefsCollection=function(o,u){var i=o[u.name];return c.isExtended(i)||g(this,u,o),i},d.prototype.ensureBound=function(o,u){E(o,u)||this.bind(o,u)},d.prototype.unset=function(o,u,i){o&&(this.ensureBound(o,u),u.collection?this.ensureRefsCollection(o,u).remove(i):o[u.name]=void 0)},d.prototype.set=function(o,u,i){o&&(this.ensureBound(o,u),u.collection?this.ensureRefsCollection(o,u).add(i):o[u.name]=i)},rt.exports=d},7502:rt=>{"use strict";var G=/,?([a-z]),?/gi,m=parseFloat,c=Math,E=c.PI,g=c.min,_=c.max,d=c.pow,o=c.abs,u=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,i=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,p=Array.isArray||function(h){return h instanceof Array};function s(h,v){return Object.prototype.hasOwnProperty.call(h,v)}function r(h){if(typeof h=="function"||Object(h)!==h)return h;var v=new h.constructor;for(var C in h)s(h,C)&&(v[C]=r(h[C]));return v}function t(h,v){for(var C=0,P=h.length;C<P;C++)if(h[C]===v)return h.push(h.splice(C,1)[0])}function e(h){function v(){var C=Array.prototype.slice.call(arguments,0),P=C.join("\u2400"),j=v.cache=v.cache||{},b=v.count=v.count||[];return s(j,P)?(t(b,P),j[P]):(b.length>=1e3&&delete j[b.shift()],b.push(P),j[P]=h.apply(0,C),j[P])}return v}function n(h){if(!h)return null;var v=a(h);if(v.arr)return r(v.arr);var C={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},P=[];return p(h)&&p(h[0])&&(P=r(h)),P.length||String(h).replace(u,function(j,b,F){var V=[],X=b.toLowerCase();for(F.replace(i,function(q,nt){nt&&V.push(+nt)}),X=="m"&&V.length>2&&(P.push([b].concat(V.splice(0,2))),X="l",b=b=="m"?"l":"L");V.length>=C[X]&&(P.push([b].concat(V.splice(0,C[X]))),!!C[X]););}),P.toString=a.toString,v.arr=r(P),P}function a(h){var v=a.ps=a.ps||{};return v[h]?v[h].sleep=100:v[h]={sleep:100},setTimeout(function(){for(var C in v)s(v,C)&&C!=h&&(v[C].sleep--,!v[C].sleep&&delete v[C])}),v[h]}function l(h,v,C,P){return arguments.length===1&&(v=h.y,C=h.width,P=h.height,h=h.x),{x:h,y:v,width:C,height:P,x2:h+C,y2:v+P}}function T(){return this.join(",").replace(G,"$1")}function O(h){var v=r(h);return v.toString=T,v}function y(h,v,C,P,j,b,F,V,X){var q=1-X,nt=d(q,3),W=d(q,2),z=X*X,K=z*X,w=nt*h+W*3*X*C+q*3*X*X*j+K*F,k=nt*v+W*3*X*P+q*3*X*X*b+K*V;return{x:N(w),y:N(k)}}function S(h){var v=f.apply(null,h);return l(v.x0,v.y0,v.x1-v.x0,v.y1-v.y0)}function L(h,v,C){return v>=h.x&&v<=h.x+h.width&&C>=h.y&&C<=h.y+h.height}function D(h,v){return h=l(h),v=l(v),L(v,h.x,h.y)||L(v,h.x2,h.y)||L(v,h.x,h.y2)||L(v,h.x2,h.y2)||L(h,v.x,v.y)||L(h,v.x2,v.y)||L(h,v.x,v.y2)||L(h,v.x2,v.y2)||(h.x<v.x2&&h.x>v.x||v.x<h.x2&&v.x>h.x)&&(h.y<v.y2&&h.y>v.y||v.y<h.y2&&v.y>h.y)}function I(h,v,C,P,j){var b=-3*v+9*C-9*P+3*j,F=h*b+6*v-12*C+6*P;return h*F-3*v+3*C}function U(h,v,C,P,j,b,F,V,X){X==null&&(X=1),X=X>1?1:X<0?0:X;for(var q=X/2,nt=12,W=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0,w=0;w<nt;w++){var k=q*W[w]+q,J=I(k,h,C,j,F),ot=I(k,v,P,b,V),st=J*J+ot*ot;K+=z[w]*c.sqrt(st)}return q*K}function A(h,v,C,P,j,b,F,V){if(!(_(h,C)<g(j,F)||g(h,C)>_(j,F)||_(v,P)<g(b,V)||g(v,P)>_(b,V))){var X=(h*P-v*C)*(j-F)-(h-C)*(j*V-b*F),q=(h*P-v*C)*(b-V)-(v-P)*(j*V-b*F),nt=(h-C)*(b-V)-(v-P)*(j-F);if(!!nt){var W=N(X/nt),z=N(q/nt),K=+W.toFixed(2),w=+z.toFixed(2);if(!(K<+g(h,C).toFixed(2)||K>+_(h,C).toFixed(2)||K<+g(j,F).toFixed(2)||K>+_(j,F).toFixed(2)||w<+g(v,P).toFixed(2)||w>+_(v,P).toFixed(2)||w<+g(b,V).toFixed(2)||w>+_(b,V).toFixed(2)))return{x:W,y:z}}}}function N(h){return Math.round(h*1e11)/1e11}function Y(h,v,C){var P=S(h),j=S(v);if(!D(P,j))return C?0:[];for(var b=U.apply(0,h),F=U.apply(0,v),V=tt(h)?1:~~(b/5)||1,X=tt(v)?1:~~(F/5)||1,q=[],nt=[],W={},z=C?0:[],K=0;K<V+1;K++){var w=y.apply(0,h.concat(K/V));q.push({x:w.x,y:w.y,t:K/V})}for(K=0;K<X+1;K++)w=y.apply(0,v.concat(K/X)),nt.push({x:w.x,y:w.y,t:K/X});for(K=0;K<V;K++)for(var k=0;k<X;k++){var J=q[K],ot=q[K+1],st=nt[k],ut=nt[k+1],ft=o(ot.x-J.x)<.01?"y":"x",lt=o(ut.x-st.x)<.01?"y":"x",vt=A(J.x,J.y,ot.x,ot.y,st.x,st.y,ut.x,ut.y),dt;if(vt){if(dt=vt.x.toFixed(9)+"#"+vt.y.toFixed(9),W[dt])continue;W[dt]=!0;var pt=J.t+o((vt[ft]-J[ft])/(ot[ft]-J[ft]))*(ot.t-J.t),Ot=st.t+o((vt[lt]-st[lt])/(ut[lt]-st[lt]))*(ut.t-st.t);pt>=0&&pt<=1&&Ot>=0&&Ot<=1&&(C?z++:z.push({x:vt.x,y:vt.y,t1:pt,t2:Ot}))}}return z}function Q(h,v,C){h=x(h),v=x(v);for(var P,j,b,F,V,X,q,nt,W,z,K=C?0:[],w=0,k=h.length;w<k;w++){var J=h[w];if(J[0]=="M")P=V=J[1],j=X=J[2];else{J[0]=="C"?(W=[P,j].concat(J.slice(1)),P=W[6],j=W[7]):(W=[P,j,P,j,V,X,V,X],P=V,j=X);for(var ot=0,st=v.length;ot<st;ot++){var ut=v[ot];if(ut[0]=="M")b=q=ut[1],F=nt=ut[2];else{ut[0]=="C"?(z=[b,F].concat(ut.slice(1)),b=z[6],F=z[7]):(z=[b,F,b,F,q,nt,q,nt],b=q,F=nt);var ft=Y(W,z,C);if(C)K+=ft;else{for(var lt=0,vt=ft.length;lt<vt;lt++)ft[lt].segment1=w,ft[lt].segment2=ot,ft[lt].bez1=W,ft[lt].bez2=z;K=K.concat(ft)}}}}}return K}function it(h){var v=a(h);if(v.abs)return O(v.abs);if((!p(h)||!p(h&&h[0]))&&(h=n(h)),!h||!h.length)return[["M",0,0]];var C=[],P=0,j=0,b=0,F=0,V=0,X;h[0][0]=="M"&&(P=+h[0][1],j=+h[0][2],b=P,F=j,V++,C[0]=["M",P,j]);for(var q,nt,W=V,z=h.length;W<z;W++){if(C.push(q=[]),nt=h[W],X=nt[0],X!=X.toUpperCase())switch(q[0]=X.toUpperCase(),q[0]){case"A":q[1]=nt[1],q[2]=nt[2],q[3]=nt[3],q[4]=nt[4],q[5]=nt[5],q[6]=+nt[6]+P,q[7]=+nt[7]+j;break;case"V":q[1]=+nt[1]+j;break;case"H":q[1]=+nt[1]+P;break;case"M":b=+nt[1]+P,F=+nt[2]+j;default:for(var K=1,w=nt.length;K<w;K++)q[K]=+nt[K]+(K%2?P:j)}else for(var k=0,J=nt.length;k<J;k++)q[k]=nt[k];switch(X=X.toUpperCase(),q[0]){case"Z":P=+b,j=+F;break;case"H":P=q[1];break;case"V":j=q[1];break;case"M":b=q[q.length-2],F=q[q.length-1];default:P=q[q.length-2],j=q[q.length-1]}}return C.toString=T,v.abs=O(C),C}function tt(h){return h[0]===h[2]&&h[1]===h[3]&&h[4]===h[6]&&h[5]===h[7]}function $(h,v,C,P){return[h,v,C,P,C,P]}function H(h,v,C,P,j,b){var F=.3333333333333333,V=2/3;return[F*h+V*C,F*v+V*P,F*j+V*C,F*b+V*P,j,b]}function M(h,v,C,P,j,b,F,V,X,q){var nt=E*120/180,W=E/180*(+j||0),z=[],K,w=e(function(jt,Ut,bt){var oe=jt*c.cos(bt)-Ut*c.sin(bt),ae=jt*c.sin(bt)+Ut*c.cos(bt);return{x:oe,y:ae}});if(q)dt=q[0],pt=q[1],lt=q[2],vt=q[3];else{K=w(h,v,-W),h=K.x,v=K.y,K=w(V,X,-W),V=K.x,X=K.y;var k=(h-V)/2,J=(v-X)/2,ot=k*k/(C*C)+J*J/(P*P);ot>1&&(ot=c.sqrt(ot),C=ot*C,P=ot*P);var st=C*C,ut=P*P,ft=(b==F?-1:1)*c.sqrt(o((st*ut-st*J*J-ut*k*k)/(st*J*J+ut*k*k))),lt=ft*C*J/P+(h+V)/2,vt=ft*-P*k/C+(v+X)/2,dt=c.asin(((v-vt)/P).toFixed(9)),pt=c.asin(((X-vt)/P).toFixed(9));dt=h<lt?E-dt:dt,pt=V<lt?E-pt:pt,dt<0&&(dt=E*2+dt),pt<0&&(pt=E*2+pt),F&&dt>pt&&(dt=dt-E*2),!F&&pt>dt&&(pt=pt-E*2)}var Ot=pt-dt;if(o(Ot)>nt){var ie=pt,re=V,Kt=X;pt=dt+nt*(F&&pt>dt?1:-1),V=lt+C*c.cos(pt),X=vt+P*c.sin(pt),z=M(V,X,C,P,j,0,F,re,Kt,[pt,ie,lt,vt])}Ot=pt-dt;var zt=c.cos(dt),kt=c.sin(dt),Gt=c.cos(pt),Lt=c.sin(pt),At=c.tan(Ot/4),Zt=4/3*C*At,Ft=4/3*P*At,Vt=[h,v],Pt=[h+Zt*kt,v-Ft*zt],Yt=[V+Zt*Lt,X-Ft*Gt],Rt=[V,X];if(Pt[0]=2*Vt[0]-Pt[0],Pt[1]=2*Vt[1]-Pt[1],q)return[Pt,Yt,Rt].concat(z);z=[Pt,Yt,Rt].concat(z).join().split(",");for(var $t=[],xt=0,Xt=z.length;xt<Xt;xt++)$t[xt]=xt%2?w(z[xt-1],z[xt],W).y:w(z[xt],z[xt+1],W).x;return $t}function f(h,v,C,P,j,b,F,V){for(var X=[],q=[[],[]],nt,W,z,K,w,k,J,ot,st=0;st<2;++st){if(st==0?(W=6*h-12*C+6*j,nt=-3*h+9*C-9*j+3*F,z=3*C-3*h):(W=6*v-12*P+6*b,nt=-3*v+9*P-9*b+3*V,z=3*P-3*v),o(nt)<1e-12){if(o(W)<1e-12)continue;K=-z/W,0<K&&K<1&&X.push(K);continue}J=W*W-4*z*nt,ot=c.sqrt(J),!(J<0)&&(w=(-W+ot)/(2*nt),0<w&&w<1&&X.push(w),k=(-W-ot)/(2*nt),0<k&&k<1&&X.push(k))}for(var ut=X.length,ft=ut,lt;ut--;)K=X[ut],lt=1-K,q[0][ut]=lt*lt*lt*h+3*lt*lt*K*C+3*lt*K*K*j+K*K*K*F,q[1][ut]=lt*lt*lt*v+3*lt*lt*K*P+3*lt*K*K*b+K*K*K*V;return q[0][ft]=h,q[1][ft]=v,q[0][ft+1]=F,q[1][ft+1]=V,q[0].length=q[1].length=ft+2,{x0:g.apply(0,q[0]),y0:g.apply(0,q[1]),x1:_.apply(0,q[0]),y1:_.apply(0,q[1])}}function x(h){var v=a(h);if(v.curve)return O(v.curve);for(var C=it(h),P={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=function(K,w,k){var J,ot;if(!K)return["C",w.x,w.y,w.x,w.y,w.x,w.y];switch(!(K[0]in{T:1,Q:1})&&(w.qx=w.qy=null),K[0]){case"M":w.X=K[1],w.Y=K[2];break;case"A":K=["C"].concat(M.apply(0,[w.x,w.y].concat(K.slice(1))));break;case"S":k=="C"||k=="S"?(J=w.x*2-w.bx,ot=w.y*2-w.by):(J=w.x,ot=w.y),K=["C",J,ot].concat(K.slice(1));break;case"T":k=="Q"||k=="T"?(w.qx=w.x*2-w.qx,w.qy=w.y*2-w.qy):(w.qx=w.x,w.qy=w.y),K=["C"].concat(H(w.x,w.y,w.qx,w.qy,K[1],K[2]));break;case"Q":w.qx=K[1],w.qy=K[2],K=["C"].concat(H(w.x,w.y,K[1],K[2],K[3],K[4]));break;case"L":K=["C"].concat($(w.x,w.y,K[1],K[2]));break;case"H":K=["C"].concat($(w.x,w.y,K[1],w.y));break;case"V":K=["C"].concat($(w.x,w.y,w.x,K[1]));break;case"Z":K=["C"].concat($(w.x,w.y,w.X,w.Y));break}return K},b=function(K,w){if(K[w].length>7){K[w].shift();for(var k=K[w];k.length;)F[w]="A",K.splice(w++,0,["C"].concat(k.splice(0,6)));K.splice(w,1),nt=C.length}},F=[],V="",X="",q=0,nt=C.length;q<nt;q++){C[q]&&(V=C[q][0]),V!="C"&&(F[q]=V,q&&(X=F[q-1])),C[q]=j(C[q],P,X),F[q]!="A"&&V=="C"&&(F[q]="C"),b(C,q);var W=C[q],z=W.length;P.x=W[z-2],P.y=W[z-1],P.bx=m(W[z-4])||P.x,P.by=m(W[z-3])||P.y}return v.curve=O(C),C}rt.exports=Q},27974:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>H});var c=/^class /;function E(M){return c.test(M.toString())}function g(M){return Object.prototype.toString.call(M)==="[object Array]"}function _(){var M=Array.prototype.slice.call(arguments);M.length===1&&g(M[0])&&(M=M[0]);var f=M.pop();return f.$inject=M,f}var d=/constructor\s*[^(]*\(\s*([^)]*)\)/m,o=/^function\s*[^(]*\(\s*([^)]*)\)/m,u=/\/\*([^*]*)\*\//m;function i(M){if(typeof M!="function")throw new Error('Cannot annotate "'+M+'". Expected a function!');var f=M.toString().match(E(M)?d:o);return f?f[1]&&f[1].split(",").map(function(x){return f=x.match(u),f?f[1].trim():x.trim()})||[]:[]}function p(){var M=[];this.factory=function(f,x){return M.push([f,"factory",x]),this},this.value=function(f,x){return M.push([f,"value",x]),this},this.type=function(f,x){return M.push([f,"type",x]),this},this.forEach=function(f){M.forEach(f)}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M};function r(M){if(Array.isArray(M)){for(var f=0,x=Array(M.length);f<M.length;f++)x[f]=M[f];return x}else return Array.from(M)}function t(M,f){f=f||{get:function(z,K){if(x.push(z),K===!1)return null;throw P('No provider for "'+z+'"!')}};var x=[],h=this._providers=Object.create(f._providers||null),v=this._instances=Object.create(null),C=v.injector=this,P=function(z){var K=x.join(" -> ");return x.length=0,new Error(K?z+" (Resolving: "+K+")":z)},j=function W(z,K){if(!h[z]&&z.indexOf(".")!==-1){for(var w=z.split("."),k=W(w.shift());w.length;)k=k[w.shift()];return k}if(e(v,z))return v[z];if(e(h,z)){if(x.indexOf(z)!==-1)throw x.push(z),P("Cannot resolve circular dependency!");return x.push(z),v[z]=h[z][0](h[z][1]),x.pop(),v[z]}return f.get(z,K)},b=function(z){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof z!="function")if(g(z))z=_(z.slice());else throw new Error('Cannot invoke "'+z+'". Expected a function!');var w=z.$inject||i(z),k=w.map(function(J){return e(K,J)?K[J]:j(J)});return{fn:z,dependencies:k}},F=function(z){var K=b(z),w=K.dependencies,k=K.fn;return new(Function.prototype.bind.apply(k,[null].concat(r(w))))},V=function(z,K,w){var k=b(z,w),J=k.dependencies,ot=k.fn;return ot.call.apply(ot,[K].concat(r(J)))},X=function(z){return _(function(K){return z.get(K)})},q=function(z,K){if(K&&K.length){var w=Object.create(null),k=Object.create(null),J=[],ot=[],st=[],ut,ft,lt,vt;for(var dt in h)ut=h[dt],K.indexOf(dt)!==-1&&(ut[2]==="private"?(ft=J.indexOf(ut[3]),ft===-1?(lt=ut[3].createChild([],K),vt=X(lt),J.push(ut[3]),ot.push(lt),st.push(vt),w[dt]=[vt,dt,"private",lt]):w[dt]=[st[ft],dt,"private",ot[ft]]):w[dt]=[ut[2],ut[1]],k[dt]=!0),(ut[2]==="factory"||ut[2]==="type")&&ut[1].$scope&&K.forEach(function(pt){ut[1].$scope.indexOf(pt)!==-1&&(w[dt]=[ut[2],ut[1]],k[pt]=!0)});K.forEach(function(pt){if(!k[pt])throw new Error('No provider for "'+pt+'". Cannot use provider from the parent!')}),z.unshift(w)}return new t(z,C)},nt={factory:V,type:F,value:function(z){return z}};M.forEach(function(W){function z(J,ot){return J!=="value"&&g(ot)&&(ot=_(ot.slice())),ot}if(W instanceof p)W.forEach(function(J){var ot=J[0],st=J[1],ut=J[2];h[ot]=[nt[st],z(st,ut),st]});else if((typeof W>"u"?"undefined":s(W))==="object")if(W.__exports__){var K=Object.keys(W).reduce(function(J,ot){return ot.substring(0,2)!=="__"&&(J[ot]=W[ot]),J},Object.create(null)),w=new t((W.__modules__||[]).concat([K]),C),k=_(function(J){return w.get(J)});W.__exports__.forEach(function(J){h[J]=[k,J,"private",w]})}else Object.keys(W).forEach(function(J){if(W[J][2]==="private"){h[J]=W[J];return}var ot=W[J][0],st=W[J][1];h[J]=[nt[ot],z(ot,st),ot]})}),this.get=j,this.invoke=V,this.instantiate=F,this.createChild=q}function e(M,f){return Object.hasOwnProperty.call(M,f)}var n=m(59879),a=m.n(n),l=m(47595),T=m(7824),O=m(21537),y=m(64960),S=1;function L(M,f){l.Z.call(this,M,S),this.CONNECTION_STYLE=f.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=f.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=f.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}a()(L,l.Z),L.prototype.canRender=function(){return!0},L.prototype.drawShape=function(f,x){var h=(0,O.Ue)("rect");return(0,O.Lj)(h,{x:0,y:0,width:x.width||0,height:x.height||0}),(0,y.He)(x)?(0,O.Lj)(h,this.FRAME_STYLE):(0,O.Lj)(h,this.SHAPE_STYLE),(0,O.R3)(f,h),h},L.prototype.drawConnection=function(f,x){var h=(0,T.W5)(x.waypoints,this.CONNECTION_STYLE);return(0,O.R3)(f,h),h},L.prototype.getShapePath=function(f){var x=f.x,h=f.y,v=f.width,C=f.height,P=[["M",x,h],["l",v,0],["l",0,C],["l",-v,0],["z"]];return(0,T.KO)(P)},L.prototype.getConnectionPath=function(f){var x=f.waypoints,h,v,C=[];for(h=0;v=x[h];h++)v=v.original||v,C.push([h===0?"M":"L",v.x,v.y]);return(0,T.KO)(C)},L.$inject=["eventBus","styles"];var D=m(91356);const I={__init__:["defaultRenderer"],defaultRenderer:["type",L],styles:["type",D.Z]};var U=m(68302),A=m(89817),N=m(62565),Y=m(27147),Q=m(40296);const it={__depends__:[I],__init__:["canvas"],canvas:["type",U.Z],elementRegistry:["type",A.Z],elementFactory:["type",N.Z],eventBus:["type",Y.Z],graphicsFactory:["type",Q.Z]};function tt(M){var f=[],x=[];function h(j){return f.indexOf(j)>=0}function v(j){f.push(j)}function C(j){h(j)||((j.__depends__||[]).forEach(C),!h(j)&&(v(j),(j.__init__||[]).forEach(function(b){x.push(b)})))}M.forEach(C);var P=new t(f);return x.forEach(function(j){try{P[typeof j=="string"?"get":"invoke"](j)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),P}function $(M){M=M||{};var f={config:["value",M]},x=[f,it].concat(M.modules||[]);return tt(x)}function H(M,f){this.injector=f=f||$(M),this.get=f.get,this.invoke=f.invoke,this.get("eventBus").fire("diagram.init")}H.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},H.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},91658:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(2299),E=1e3;function g(o){this._eventBus=o}g.$inject=["eventBus"];function _(o,u){return function(i){return o.call(u||null,i.context,i.command,i)}}g.prototype.on=function(o,u,i,p,s,r){if(((0,c.mf)(u)||(0,c.hj)(u))&&(r=s,s=p,p=i,i=u,u=null),(0,c.mf)(i)&&(r=s,s=p,p=i,i=E),(0,c.Kn)(s)&&(r=s,s=!1),!(0,c.mf)(p))throw new Error("handlerFn must be a function");(0,c.kJ)(o)||(o=[o]);var t=this._eventBus;(0,c.Ed)(o,function(e){var n=["commandStack",e,u].filter(function(a){return a}).join(".");t.on(n,i,s?_(p,r):p,r)})};var d=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,c.Ed)(d,function(o){g.prototype[o]=function(u,i,p,s,r){((0,c.mf)(u)||(0,c.hj)(u))&&(r=s,s=p,p=i,i=u,u=null),this.on(u,o,i,p,s,r)}})},26019:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(2299);function E(g,_){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=_,this._eventBus=g,this._uid=1,g.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}E.$inject=["eventBus","injector"],E.prototype.execute=function(g,_){if(!g)throw new Error("command required");var d={command:g,context:_};this._pushAction(d),this._internalExecute(d),this._popAction(d)},E.prototype.canExecute=function(g,_){var d={command:g,context:_},o=this._getHandler(g),u=this._fire(g,"canExecute",d);if(u===void 0){if(!o)return!1;o.canExecute&&(u=o.canExecute(_))}return u},E.prototype.clear=function(g){this._stack.length=0,this._stackIdx=-1,g!==!1&&this._fire("changed")},E.prototype.undo=function(){var g=this._getUndoAction(),_;if(g){for(this._pushAction(g);g&&(this._internalUndo(g),_=this._getUndoAction(),!(!_||_.id!==g.id));)g=_;this._popAction()}},E.prototype.redo=function(){var g=this._getRedoAction(),_;if(g){for(this._pushAction(g);g&&(this._internalExecute(g,!0),_=this._getRedoAction(),!(!_||_.id!==g.id));)g=_;this._popAction()}},E.prototype.register=function(g,_){this._setHandler(g,_)},E.prototype.registerHandler=function(g,_){if(!g||!_)throw new Error("command and handlerCls must be defined");var d=this._injector.instantiate(_);this.register(g,d)},E.prototype.canUndo=function(){return!!this._getUndoAction()},E.prototype.canRedo=function(){return!!this._getRedoAction()},E.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},E.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},E.prototype._internalUndo=function(g){var _=this,d=g.command,o=g.context,u=this._getHandler(d);this._atomicDo(function(){_._fire(d,"revert",g),u.revert&&_._markDirty(u.revert(o)),_._revertedAction(g),_._fire(d,"reverted",g)})},E.prototype._fire=function(g,_,d){arguments.length<3&&(d=_,_=null);var o=_?[g+"."+_,_]:[g],u,i,p;for(d=this._eventBus.createEvent(d),u=0;(i=o[u])&&(p=this._eventBus.fire("commandStack."+i,d),!d.cancelBubble);u++);return p},E.prototype._createId=function(){return this._uid++},E.prototype._atomicDo=function(g){var _=this._currentExecution;_.atomic=!0;try{g()}finally{_.atomic=!1}},E.prototype._internalExecute=function(g,_){var d=this,o=g.command,u=g.context,i=this._getHandler(o);if(!i)throw new Error("no command handler registered for <"+o+">");this._pushAction(g),_||(this._fire(o,"preExecute",g),i.preExecute&&i.preExecute(u),this._fire(o,"preExecuted",g)),this._atomicDo(function(){d._fire(o,"execute",g),i.execute&&d._markDirty(i.execute(u)),d._executedAction(g,_),d._fire(o,"executed",g)}),_||(this._fire(o,"postExecute",g),i.postExecute&&i.postExecute(u),this._fire(o,"postExecuted",g)),this._popAction(g)},E.prototype._pushAction=function(g){var _=this._currentExecution,d=_.actions,o=d[0];if(_.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+g.command+")");g.id||(g.id=o&&o.id||this._createId()),d.push(g)},E.prototype._popAction=function(){var g=this._currentExecution,_=g.actions,d=g.dirty;_.pop(),_.length||(this._eventBus.fire("elements.changed",{elements:(0,c.uw)("id",d.reverse())}),d.length=0,this._fire("changed"))},E.prototype._markDirty=function(g){var _=this._currentExecution;!g||(g=(0,c.kJ)(g)?g:[g],_.dirty=_.dirty.concat(g))},E.prototype._executedAction=function(g,_){var d=++this._stackIdx;_||this._stack.splice(d,this._stack.length,g)},E.prototype._revertedAction=function(g){this._stackIdx--},E.prototype._getHandler=function(g){return this._handlerMap[g]},E.prototype._setHandler=function(g,_){if(!g||!_)throw new Error("command and handler required");if(this._handlerMap[g])throw new Error("overriding handler for command <"+g+">");this._handlerMap[g]=_}},68302:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>r});var c=m(2299),E=m(91499),g=m(64960),_=m(21537);function d(e,n){return Math.round(e*n)/n}function o(e){return(0,c.hj)(e)?e+"px":e}function u(e){e=(0,c.f0)({},{width:"100%",height:"100%"},e);var n=e.container||document.body,a=document.createElement("div");return a.setAttribute("class","djs-container"),(0,c.f0)(a.style,{position:"relative",overflow:"hidden",width:o(e.width),height:o(e.height)}),n.appendChild(a),a}function i(e,n,a){var l=(0,_.Ue)("g");(0,_.Sh)(l).add(n);var T=a!==void 0?a:e.childNodes.length-1;return e.insertBefore(l,e.childNodes[T]||null),l}var p="base",s={shape:["x","y","width","height"],connection:["waypoints"]};function r(e,n,a,l){this._eventBus=n,this._elementRegistry=l,this._graphicsFactory=a,this._init(e||{})}r.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],r.prototype._init=function(e){var n=this._eventBus,a=this._container=u(e),l=this._svg=(0,_.Ue)("svg");(0,_.Lj)(l,{width:"100%",height:"100%"}),(0,_.R3)(a,l);var T=this._viewport=i(l,"viewport");this._layers={},e.deferUpdate!==!1&&(this._viewboxChanged=(0,c.Ds)((0,c.ak)(this._viewboxChanged,this),300)),n.on("diagram.init",function(){n.fire("canvas.init",{svg:l,viewport:T})},this),n.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),n.on("diagram.destroy",500,this._destroy,this),n.on("diagram.clear",500,this._clear,this)},r.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var n=this._container.parentNode;n&&n.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},r.prototype._clear=function(){var e=this,n=this._elementRegistry.getAll();n.forEach(function(a){var l=(0,g.oL)(a);l==="root"?e.setRootElement(null,!0):e._removeElement(a,l)}),delete this._cachedViewbox},r.prototype.getDefaultLayer=function(){return this.getLayer(p,0)},r.prototype.getLayer=function(e,n){if(!e)throw new Error("must specify a name");var a=this._layers[e];if(a||(a=this._layers[e]=this._createLayer(e,n)),typeof n<"u"&&a.index!==n)throw new Error("layer <"+e+"> already created at index <"+n+">");return a.group},r.prototype._createLayer=function(e,n){n||(n=0);var a=(0,c.u4)(this._layers,function(l,T){return n>=T.index&&l++,l},0);return{group:i(this._viewport,"layer-"+e,a),index:n}},r.prototype.getContainer=function(){return this._container},r.prototype._updateMarker=function(e,n,a){var l;e.id||(e=this._elementRegistry.get(e)),l=this._elementRegistry._elements[e.id],l&&((0,c.Ed)([l.gfx,l.secondaryGfx],function(T){T&&(a?(0,_.Sh)(T).add(n):(0,_.Sh)(T).remove(n))}),this._eventBus.fire("element.marker.update",{element:e,gfx:l.gfx,marker:n,add:!!a}))},r.prototype.addMarker=function(e,n){this._updateMarker(e,n,!0)},r.prototype.removeMarker=function(e,n){this._updateMarker(e,n,!1)},r.prototype.hasMarker=function(e,n){e.id||(e=this._elementRegistry.get(e));var a=this.getGraphics(e);return(0,_.Sh)(a).has(n)},r.prototype.toggleMarker=function(e,n){this.hasMarker(e,n)?this.removeMarker(e,n):this.addMarker(e,n)},r.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},r.prototype.setRootElement=function(e,n){e&&this._ensureValid("root",e);var a=this._rootElement,l=this._elementRegistry,T=this._eventBus;if(a){if(!n)throw new Error("rootElement already set, need to specify override");T.fire("root.remove",{element:a}),T.fire("root.removed",{element:a}),l.remove(a)}if(e){var O=this.getDefaultLayer();T.fire("root.add",{element:e}),l.add(e,O,this._svg),T.fire("root.added",{element:e,gfx:O})}return this._rootElement=e,e},r.prototype._ensureValid=function(e,n){if(!n.id)throw new Error("element must have an id");if(this._elementRegistry.get(n.id))throw new Error("element with id "+n.id+" already exists");var a=s[e],l=(0,c.yW)(a,function(T){return typeof n[T]<"u"});if(!l)throw new Error("must supply { "+a.join(", ")+" } with "+e)},r.prototype._setParent=function(e,n,a){(0,E.IH)(n.children,e,a),e.parent=n},r.prototype._addElement=function(e,n,a,l){a=a||this.getRootElement();var T=this._eventBus,O=this._graphicsFactory;this._ensureValid(e,n),T.fire(e+".add",{element:n,parent:a}),this._setParent(n,a,l);var y=O.create(e,n,l);return this._elementRegistry.add(n,y),O.update(e,n,y),T.fire(e+".added",{element:n,gfx:y}),n},r.prototype.addShape=function(e,n,a){return this._addElement("shape",e,n,a)},r.prototype.addConnection=function(e,n,a){return this._addElement("connection",e,n,a)},r.prototype._removeElement=function(e,n){var a=this._elementRegistry,l=this._graphicsFactory,T=this._eventBus;if(e=a.get(e.id||e),!!e)return T.fire(n+".remove",{element:e}),l.remove(e),(0,E.Od)(e.parent&&e.parent.children,e),e.parent=null,T.fire(n+".removed",{element:e}),a.remove(e),e},r.prototype.removeShape=function(e){return this._removeElement(e,"shape")},r.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},r.prototype.getGraphics=function(e,n){return this._elementRegistry.getGraphics(e,n)},r.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},r.prototype._viewboxChanged=function(){!this._container||this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},r.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return this._cachedViewbox;var n=this._viewport,a,l=this.getSize(),T,O,y,S,L;if(e)this._changeViewbox(function(){y=Math.min(l.width/e.width,l.height/e.height);var D=this._svg.createSVGMatrix().scale(y).translate(-e.x,-e.y);(0,_.vs)(n,D)});else return a=this.getDefaultLayer().getBBox(),O=(0,_.vs)(n),T=O?O.matrix:(0,_.wz)(),y=d(T.a,1e3),S=d(-T.e||0,1e3),L=d(-T.f||0,1e3),e=this._cachedViewbox={x:S?S/y:0,y:L?L/y:0,width:l.width/y,height:l.height/y,scale:y,inner:{width:a.width,height:a.height,x:a.x,y:a.y},outer:l},e;return e},r.prototype.scroll=function(e){var n=this._viewport,a=n.getCTM();return e&&this._changeViewbox(function(){e=(0,c.f0)({dx:0,dy:0},e||{}),a=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(a),t(n,a)}),{x:a.e,y:a.f}},r.prototype.zoom=function(e,n){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(n);var a,l;return this._changeViewbox(function(){typeof n!="object"&&(a=this.viewbox().outer,n={x:a.width/2,y:a.height/2}),l=this._setZoom(e,n)}),d(l.a,1e3)};function t(e,n){var a="matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")";e.setAttribute("transform",a)}r.prototype._fitViewport=function(e){var n=this.viewbox(),a=n.outer,l=n.inner,T,O;return l.x>=0&&l.y>=0&&l.x+l.width<=a.width&&l.y+l.height<=a.height&&!e?O={x:0,y:0,width:Math.max(l.width+l.x,a.width),height:Math.max(l.height+l.y,a.height)}:(T=Math.min(1,a.width/l.width,a.height/l.height),O={x:l.x+(e?l.width/2-a.width/T/2:0),y:l.y+(e?l.height/2-a.height/T/2:0),width:a.width/T,height:a.height/T}),this.viewbox(O),this.viewbox(!1).scale},r.prototype._setZoom=function(e,n){var a=this._svg,l=this._viewport,T=a.createSVGMatrix(),O=a.createSVGPoint(),y,S,L,D,I;L=l.getCTM();var U=L.a;return n?(y=(0,c.f0)(O,n),S=y.matrixTransform(L.inverse()),D=T.translate(S.x,S.y).scale(1/U*e).translate(-S.x,-S.y),I=L.multiply(D)):I=T.scale(e),t(this._viewport,I),I},r.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},r.prototype.getAbsoluteBBox=function(e){var n=this.viewbox(),a;if(e.waypoints){var l=this.getGraphics(e);a=l.getBBox()}else a=e;var T=a.x*n.scale-n.x*n.scale,O=a.y*n.scale-n.y*n.scale,y=a.width*n.scale,S=a.height*n.scale;return{x:T,y:O,width:y,height:S}},r.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},62565:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(83962),E=m(2299);function g(){this._uid=12}g.prototype.createRoot=function(_){return this.create("root",_)},g.prototype.createLabel=function(_){return this.create("label",_)},g.prototype.createShape=function(_){return this.create("shape",_)},g.prototype.createConnection=function(_){return this.create("connection",_)},g.prototype.create=function(_,d){return d=(0,E.f0)({},d||{}),d.id||(d.id=_+"_"+this._uid++),(0,c.Ue)(_,d)}},89817:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(21537),E="data-element-id";function g(_){this._elements={},this._eventBus=_}g.$inject=["eventBus"],g.prototype.add=function(_,d,o){var u=_.id;this._validateId(u),(0,c.Lj)(d,E,u),o&&(0,c.Lj)(o,E,u),this._elements[u]={element:_,gfx:d,secondaryGfx:o}},g.prototype.remove=function(_){var d=this._elements,o=_.id||_,u=o&&d[o];u&&((0,c.Lj)(u.gfx,E,""),u.secondaryGfx&&(0,c.Lj)(u.secondaryGfx,E,""),delete d[o])},g.prototype.updateId=function(_,d){this._validateId(d),typeof _=="string"&&(_=this.get(_)),this._eventBus.fire("element.updateId",{element:_,newId:d});var o=this.getGraphics(_),u=this.getGraphics(_,!0);this.remove(_),_.id=d,this.add(_,o,u)},g.prototype.get=function(_){var d;typeof _=="string"?d=_:d=_&&(0,c.Lj)(_,E);var o=this._elements[d];return o&&o.element},g.prototype.filter=function(_){var d=[];return this.forEach(function(o,u){_(o,u)&&d.push(o)}),d},g.prototype.getAll=function(){return this.filter(function(_){return _})},g.prototype.forEach=function(_){var d=this._elements;Object.keys(d).forEach(function(o){var u=d[o],i=u.element,p=u.gfx;return _(i,p)})},g.prototype.getGraphics=function(_,d){var o=_.id||_,u=this._elements[o];return u&&(d?u.secondaryGfx:u.gfx)},g.prototype._validateId=function(_){if(!_)throw new Error("element must have an id");if(this._elements[_])throw new Error("element with id "+_+" already added")}},27147:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>d});var c=m(2299),E="__fn",g=1e3,_=Array.prototype.slice;function d(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}d.prototype.on=function(i,p,s,r){if(i=(0,c.kJ)(i)?i:[i],(0,c.mf)(p)&&(r=s,s=p,p=g),!(0,c.hj)(p))throw new Error("priority must be a number");var t=s;r&&(t=(0,c.ak)(s,r),t[E]=s[E]||s);var e=this;i.forEach(function(n){e._addListener(n,{priority:p,callback:t,next:null})})},d.prototype.once=function(i,p,s,r){var t=this;if((0,c.mf)(p)&&(r=s,s=p,p=g),!(0,c.hj)(p))throw new Error("priority must be a number");function e(){var n=s.apply(r,arguments);return t.off(i,e),n}e[E]=s,this.on(i,p,e)},d.prototype.off=function(i,p){i=(0,c.kJ)(i)?i:[i];var s=this;i.forEach(function(r){s._removeListener(r,p)})},d.prototype.createEvent=function(i){var p=new o;return p.init(i),p},d.prototype.fire=function(i,p){var s,r,t,e;if(e=_.call(arguments),typeof i=="object"&&(p=i,i=p.type),!i)throw new Error("no event type specified");if(r=this._listeners[i],!!r){p instanceof o?s=p:s=this.createEvent(p),e[0]=s;var n=s.type;i!==n&&(s.type=i);try{t=this._invokeListeners(s,e,r)}finally{i!==n&&(s.type=n)}return t===void 0&&s.defaultPrevented&&(t=!1),t}},d.prototype.handleError=function(i){return this.fire("error",{error:i})===!1},d.prototype._destroy=function(){this._listeners={}},d.prototype._invokeListeners=function(i,p,s){for(var r;s&&!i.cancelBubble;)r=this._invokeListener(i,p,s),s=s.next;return r},d.prototype._invokeListener=function(i,p,s){var r;try{r=u(s.callback,p),r!==void 0&&(i.returnValue=r,i.stopPropagation()),r===!1&&i.preventDefault()}catch(t){if(!this.handleError(t))throw console.error("unhandled error in event listener"),console.error(t.stack),t}return r},d.prototype._addListener=function(i,p){var s=this._getListeners(i),r;if(!s){this._setListeners(i,p);return}for(;s;){if(s.priority<p.priority){p.next=s,r?r.next=p:this._setListeners(i,p);return}r=s,s=s.next}r.next=p},d.prototype._getListeners=function(i){return this._listeners[i]},d.prototype._setListeners=function(i,p){this._listeners[i]=p},d.prototype._removeListener=function(i,p){var s=this._getListeners(i),r,t,e;if(!p){this._setListeners(i,null);return}for(;s;)r=s.next,e=s.callback,(e===p||e[E]===p)&&(t?t.next=r:this._setListeners(i,r)),t=s,s=r};function o(){}o.prototype.stopPropagation=function(){this.cancelBubble=!0},o.prototype.preventDefault=function(){this.defaultPrevented=!0},o.prototype.init=function(i){(0,c.f0)(this,i||{})};function u(i,p){return i.apply(null,p)}},40296:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var c=m(2299),E=m(21202),g=m(18872),_=m(9012),d=m(21537),o=m(64960);function u(p,s){this._eventBus=p,this._elementRegistry=s}u.$inject=["eventBus","elementRegistry"],u.prototype._getChildrenContainer=function(p){var s=this._elementRegistry.getGraphics(p),r;return p.parent?(r=(0,E.G)(s),r||(r=(0,d.Ue)("g"),(0,d.Sh)(r).add("djs-children"),(0,d.R3)(s.parentNode,r))):r=s,r},u.prototype._clear=function(p){var s=(0,E.s)(p);return(0,_.ZH)(s),s},u.prototype._createContainer=function(p,s,r,t){var e=(0,d.Ue)("g");(0,d.Sh)(e).add("djs-group"),typeof r<"u"?i(e,s,s.childNodes[r]):(0,d.R3)(s,e);var n=(0,d.Ue)("g");(0,d.Sh)(n).add("djs-element"),(0,d.Sh)(n).add("djs-"+p),t&&(0,d.Sh)(n).add("djs-frame"),(0,d.R3)(e,n);var a=(0,d.Ue)("g");return(0,d.Sh)(a).add("djs-visual"),(0,d.R3)(n,a),n},u.prototype.create=function(p,s,r){var t=this._getChildrenContainer(s.parent);return this._createContainer(p,t,r,(0,o.He)(s))},u.prototype.updateContainments=function(p){var s=this,r=this._elementRegistry,t;t=(0,c.u4)(p,function(e,n){return n.parent&&(e[n.parent.id]=n.parent),e},{}),(0,c.Ed)(t,function(e){var n=e.children;if(!!n){var a=s._getChildrenContainer(e);(0,c.Ed)(n.slice().reverse(),function(l){var T=r.getGraphics(l);i(T.parentNode,a)})}})},u.prototype.drawShape=function(p,s){var r=this._eventBus;return r.fire("render.shape",{gfx:p,element:s})},u.prototype.getShapePath=function(p){var s=this._eventBus;return s.fire("render.getShapePath",p)},u.prototype.drawConnection=function(p,s){var r=this._eventBus;return r.fire("render.connection",{gfx:p,element:s})},u.prototype.getConnectionPath=function(p){var s=this._eventBus;return s.fire("render.getConnectionPath",p)},u.prototype.update=function(p,s,r){if(!!s.parent){var t=this._clear(r);if(p==="shape")this.drawShape(t,s),(0,g.Iu)(r,s.x,s.y);else if(p==="connection")this.drawConnection(t,s);else throw new Error("unknown type: "+p);s.hidden?(0,d.Lj)(r,"display","none"):(0,d.Lj)(r,"display","block")}},u.prototype.remove=function(p){var s=this._elementRegistry.getGraphics(p);(0,d.Od)(s.parentNode)};function i(p,s,r){var t=r||s.firstChild;p!==t&&s.insertBefore(p,t)}},47595:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=1e3;function E(g,_){var d=this;_=_||c,g.on(["render.shape","render.connection"],_,function(o,u){var i=o.type,p=u.element,s=u.gfx;if(d.canRender(p))return i==="render.shape"?d.drawShape(s,p):d.drawConnection(s,p)}),g.on(["render.getShapePath","render.getConnectionPath"],_,function(o,u){if(d.canRender(u))return o.type==="render.getShapePath"?d.getShapePath(u):d.getConnectionPath(u)})}E.prototype.canRender=function(){},E.prototype.drawShape=function(){},E.prototype.drawConnection=function(){},E.prototype.getShapePath=function(){},E.prototype.getConnectionPath=function(){}},91356:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(2299);function E(){var g={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},_=this;this.cls=function(d,o,u){var i=this.style(o,u);return(0,c.f0)(i,{class:d})},this.style=function(d,o){!(0,c.kJ)(d)&&!o&&(o=d,d=[]);var u=(0,c.u4)(d,function(i,p){return(0,c.f0)(i,g[p]||{})},{});return o?(0,c.f0)(u,o):u},this.computeStyle=function(d,o,u){return(0,c.kJ)(o)||(u=o,o=[]),_.style(o||[],(0,c.f0)({},u,d||{}))}}},22586:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var c=m(2299);function E(i){return i&&i[i.length-1]}function g(i){return i.y}function _(i){return i.x}var d={left:_,center:_,right:function(i){return i.x+i.width},top:g,middle:g,bottom:function(i){return i.y+i.height}};function o(i){this._modeling=i}o.$inject=["modeling"],o.prototype._getOrientationDetails=function(i){var p=["top","bottom","middle"],s="x",r="width";return p.indexOf(i)!==-1&&(s="y",r="height"),{axis:s,dimension:r}},o.prototype._isType=function(i,p){return p.indexOf(i)!==-1},o.prototype._alignmentPosition=function(i,p){var s=this._getOrientationDetails(i),r=s.axis,t=s.dimension,e={},n={},a=!1,l,T,O;function y(S,L){return Math.round((S[r]+L[r]+L[t])/2)}if(this._isType(i,["left","top"]))e[i]=p[0][r];else if(this._isType(i,["right","bottom"]))O=E(p),e[i]=O[r]+O[t];else if(this._isType(i,["center","middle"])){if((0,c.Ed)(p,function(S){var L=S[r]+Math.round(S[t]/2);n[L]?n[L].elements.push(S):n[L]={elements:[S],center:L}}),l=(0,c.MR)(n,function(S){return S.elements.length>1&&(a=!0),S.elements.length}),a)return e[i]=E(l).center,e;T=p[0],p=(0,c.MR)(p,function(S){return S[r]+S[t]}),O=E(p),e[i]=y(T,O)}return e},o.prototype.trigger=function(i,p){var s=this._modeling,r=(0,c.hX)(i,function(a){return!(a.waypoints||a.host||a.labelTarget)}),t=d[p],e=(0,c.MR)(r,t),n=this._alignmentPosition(p,e);s.alignElements(e,n)};const u={__init__:["alignElements"],alignElements:["type",o]}},9237:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>s});var c=m(59879),E=m.n(c),g=m(64960),_=m(86463),d=m(2299),o=m(91658);function u(r,t,e,n){o.Z.call(this,r),this._elementRegistry=t,this._modeling=e,this._rules=n;var a=this;this.postExecuted(["shape.create"],function(l){var T=l.context,O=T.hints||{},y=T.shape,S=T.parent||T.newParent;O.autoResize!==!1&&a._expand([y],S)}),this.postExecuted(["elements.move"],function(l){var T=l.context,O=(0,d.xH)((0,d.VO)(T.closure.topLevel)),y=T.hints,S=y?y.autoResize:!0;if(S!==!1){var L=(0,d.vM)(O,function(D){return D.parent.id});(0,d.Ed)(L,function(D,I){(0,d.kJ)(S)&&(D=D.filter(function(U){return(0,d.sE)(S,(0,d.KQ)({id:U.id}))})),a._expand(D,I)})}}),this.postExecuted(["shape.toggleCollapse"],function(l){var T=l.context,O=T.hints,y=T.shape;O&&O.autoResize===!1||y.collapsed||a._expand(y.children||[],y)}),this.postExecuted(["shape.resize"],function(l){var T=l.context,O=T.hints,y=T.shape,S=y.parent;O&&O.autoResize===!1||S&&a._expand([y],S)})}u.$inject=["eventBus","elementRegistry","modeling","rules"],E()(u,o.Z),u.prototype._getOptimalBounds=function(r,t){var e=this.getOffset(t),n=this.getPadding(t),a=(0,_.JA)((0,g.jY)(r)),l=(0,_.JA)(t),T={};return a.top-l.top<n.top&&(T.top=a.top-e.top),a.left-l.left<n.left&&(T.left=a.left-e.left),l.right-a.right<n.right&&(T.right=a.right+e.right),l.bottom-a.bottom<n.bottom&&(T.bottom=a.bottom+e.bottom),(0,_.z_)((0,d.f0)({},l,T))},u.prototype._expand=function(r,t){typeof t=="string"&&(t=this._elementRegistry.get(t));var e=this._rules.allowed("element.autoResize",{elements:r,target:t});if(!!e){var n=this._getOptimalBounds(r,t);if(!!i(n,t)){var a=p((0,d.ei)(t,["x","y","width","height"]),n);this.resize(t,n,{autoResize:a});var l=t.parent;l&&this._expand([t],l)}}},u.prototype.getOffset=function(r){return{top:60,bottom:60,left:100,right:100}},u.prototype.getPadding=function(r){return{top:2,bottom:2,left:15,right:15}},u.prototype.resize=function(r,t,e){this._modeling.resizeShape(r,t,null,e)};function i(r,t){return r.x!==t.x||r.y!==t.y||r.width!==t.width||r.height!==t.height}function p(r,t){var e="";return r=(0,_.JA)(r),t=(0,_.JA)(t),r.top>t.top&&(e=e.concat("n")),r.right<t.right&&(e=e.concat("w")),r.bottom<t.bottom&&(e=e.concat("s")),r.left>t.left&&(e=e.concat("e")),e}const s={__init__:["autoResize"],autoResize:["type",u]}},68077:(rt,G,m)=>{"use strict";m.d(G,{lo:()=>a,MY:()=>l,wZ:()=>y,zG:()=>L,bg:()=>D,s4:()=>O});var c=m(46534),E=m(41741),g=m(21537),_=m(18872),d=m(7502),o=m.n(d),u=Math.round,i=Math.max;function p(U,A){var N=U.x,Y=U.y;return[["M",N,Y],["m",0,-A],["a",A,A,0,1,1,0,2*A],["a",A,A,0,1,1,0,-2*A],["z"]]}function s(U){var A=[];return U.forEach(function(N,Y){A.push([Y===0?"M":"L",N.x,N.y])}),A}var r=10;function t(U,A){var N,Y;for(N=0;Y=U[N];N++)if((0,E.tW)(Y,A)<=r)return{point:U[N],bendpoint:!0,index:N};return null}function e(U,A){var N=o()(p(A,r),s(U)),Y=N[0],Q=N[N.length-1],it;return Y?Y!==Q?Y.segment2!==Q.segment2?(it=i(Y.segment2,Q.segment2)-1,{point:U[it],bendpoint:!0,index:it}):{point:{x:u(Y.x+Q.x)/2,y:u(Y.y+Q.y)/2},index:Y.segment2}:{point:{x:u(Y.x),y:u(Y.y)},index:Y.segment2}:null}function n(U,A){return t(U,A)||e(U,A)}var a="djs-bendpoint",l="djs-segment-dragger";function T(U,A){var N=(0,c.jt)(A),Y=U._container.getBoundingClientRect(),Q;Q={x:Y.left,y:Y.top};var it=U.viewbox();return{x:it.x+(N.x-Q.x)/it.scale,y:it.y+(N.y-Q.y)/it.scale}}function O(U,A,N){var Y=T(U,N),Q=n(A,Y);return Q}function y(U,A){var N=(0,g.Ue)("g");(0,g.Sh)(N).add(a),(0,g.R3)(U,N);var Y=(0,g.Ue)("circle");(0,g.Lj)(Y,{cx:0,cy:0,r:4}),(0,g.Sh)(Y).add("djs-visual"),(0,g.R3)(N,Y);var Q=(0,g.Ue)("circle");return(0,g.Lj)(Q,{cx:0,cy:0,r:10}),(0,g.Sh)(Q).add("djs-hit"),(0,g.R3)(N,Q),A&&(0,g.Sh)(N).add(A),N}function S(U,A,N,Y){var Q=(0,g.Ue)("g");(0,g.R3)(U,Q);var it=14,tt=3,$=6,H=I(A,N,Y),M=tt+$,f=(0,g.Ue)("rect");(0,g.Lj)(f,{x:-it/2,y:-tt/2,width:it,height:tt}),(0,g.Sh)(f).add("djs-visual"),(0,g.R3)(Q,f);var x=(0,g.Ue)("rect");return(0,g.Lj)(x,{x:-H/2,y:-M/2,width:H,height:M}),(0,g.Sh)(x).add("djs-hit"),(0,g.R3)(Q,x),(0,_.U1)(Q,Y==="v"?90:0,0,0),Q}function L(U,A,N){var Y=(0,g.Ue)("g"),Q=(0,E.SO)(A,N),it=(0,E.Or)(A,N);return(0,g.R3)(U,Y),S(Y,A,N,it),(0,g.Sh)(Y).add(l),(0,g.Sh)(Y).add(it==="h"?"horizontal":"vertical"),(0,_.Iu)(Y,Q.x,Q.y),Y}function D(U){return Math.abs(Math.round(U*2/3))}function I(U,A,N){var Y=A.x-U.x,Q=A.y-U.y;return D(N==="h"?Y:Q)}},71878:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var c=m(2299),E=m(9012),g=m(68077),_=m(52243),d=m.n(_),o=m(41741),u=m(21537),i=m(18872);function p(r,t,e,n,a){var l=this;function T($,H,M){var f=$.index,x=$.point,h,v,C,P,j,b;return f<=0||$.bendpoint?!1:(h=H[f-1],v=H[f],C=(0,o.SO)(h,v),P=(0,o.Or)(h,v),j=Math.abs(x.x-C.x),b=Math.abs(x.y-C.y),P&&j<=M&&b<=M)}function O($,H){var M=$.waypoints,f,x,h,v;return H.index<=0||H.bendpoint||(f={start:M[H.index-1],end:M[H.index]},x=(0,o.Or)(f.start,f.end),!x)?null:(x==="h"?h=f.end.x-f.start.x:h=f.end.y-f.start.y,v=(0,g.bg)(h)/2,v)}function y($,H){var M=H.waypoints,f=(0,g.s4)(t,M,$),x;if(!!f)return x=O(H,f),T(f,M,x)?a.start($,H,f.index):n.start($,H,f.index,!f.bendpoint),!0}function S($,H,M){E.B.bind($,H,function(f){e.triggerMouseEvent(H,f,M),f.stopPropagation()})}function L($,H){var M=t.getLayer("overlays"),f=(0,E.IO)('.djs-bendpoints[data-element-id="'+d()($.id)+'"]',M);return!f&&H&&(f=(0,u.Ue)("g"),(0,u.Lj)(f,{"data-element-id":$.id}),(0,u.Sh)(f).add("djs-bendpoints"),(0,u.R3)(M,f),S(f,"mousedown",$),S(f,"click",$),S(f,"dblclick",$)),f}function D($,H){return(0,E.IO)('.djs-segment-dragger[data-segment-idx="'+$+'"]',H)}function I($,H){H.waypoints.filter(l.getConnectionBendpointsFilter).forEach(function(M,f){var x=(0,g.wZ)($);(0,u.R3)($,x),(0,i.Iu)(x,M.x,M.y)}),(0,g.wZ)($,"floating")}function U($,H){for(var M=H.waypoints,f,x,h,v=1;v<M.length;v++)f=M[v-1],x=M[v],(0,o.Or)(f,x)&&(h=(0,g.zG)($,f,x),(0,u.Lj)(h,{"data-segment-idx":v}),S(h,"mousemove",H))}function A($){(0,c.Ed)((0,E.Kt)("."+g.lo,$),function(H){(0,u.Od)(H)})}function N($){(0,c.Ed)((0,E.Kt)("."+g.MY,$),function(H){(0,u.Od)(H)})}function Y($){var H=L($);return H||(H=L($,!0),I(H,$),U(H,$)),H}function Q($){var H=L($);H&&(N(H),A(H),U(H,$),I(H,$))}function it($,H){var M=(0,E.IO)(".floating",$),f=H.point;!M||(0,i.Iu)(M,f.x,f.y)}function tt($,H,M){var f=D(H.index,$),x=M[H.index-1],h=M[H.index],v=H.point,C=(0,o.SO)(x,h),P=(0,o.Or)(x,h),j,b;!f||(j=s(f),b={x:v.x-C.x,y:v.y-C.y},P==="v"&&(b={x:b.y,y:b.x}),(0,i.Iu)(j,b.x,b.y))}r.on("connection.changed",function($){Q($.element)}),r.on("connection.remove",function($){var H=L($.element);H&&(0,u.Od)(H)}),r.on("element.marker.update",function($){var H=$.element,M;!H.waypoints||(M=Y(H),$.add?(0,u.Sh)(M).add($.marker):(0,u.Sh)(M).remove($.marker))}),r.on("element.mousemove",function($){var H=$.element,M=H.waypoints,f,x;if(M){if(f=L(H,!0),x=(0,g.s4)(t,M,$.originalEvent),!x)return;it(f,x),x.bendpoint||tt(f,x,M)}}),r.on("element.mousedown",function($){var H=$.originalEvent,M=$.element,f=M.waypoints;if(!!f)return y(H,M)}),r.on("selection.changed",function($){var H=$.newSelection,M=H[0];M&&M.waypoints&&Y(M)}),r.on("element.hover",function($){var H=$.element;H.waypoints&&(Y(H),e.registerEvent($.gfx,"mousemove","element.mousemove"))}),r.on("element.out",function($){e.unregisterEvent($.gfx,"mousemove","element.mousemove")}),r.on("element.updateId",function($){var H=$.element,M=$.newId;if(H.waypoints){var f=L(H);f&&(0,u.Lj)(f,{"data-element-id":M})}}),this.addHandles=Y,this.updateHandles=Q,this.getBendpointsContainer=L,this.getSegmentDragger=D}p.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function s(r){return(0,E.IO)(".djs-visual",r)}p.prototype.getConnectionBendpointsFilter=function(r,t,e){return!0}},42508:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>e});var c=m(41741),E=m(68077),g=m(86463),_=m(21537),d=m(18872),o="connect-hover",u="djs-updating";function i(n,a,l){return p(n,a,n[a]+l)}function p(n,a,l){return{x:a==="x"?l:n.x,y:a==="y"?l:n.y}}function s(n,a,l,T){var O=Math.max(a[T],l[T]),y=Math.min(a[T],l[T]),S=20,L=Math.min(Math.max(y+S,n[T]),O-S);return p(a,T,L)}function r(n){return n==="x"?"y":"x"}function t(n,a,l){var T,O;return n.original?n.original:(T=(0,g.wS)(a),O=r(l),p(n,O,T[O]))}function e(n,a,l,T,O,y){var S=n.get("connectionDocking",!1);this.start=function(A,N,Y){var Q,it=l.getGraphics(N),tt=Y-1,$=Y,H=N.waypoints,M=H[tt],f=H[$],x=(0,E.s4)(l,H,A),h,v,C;h=(0,c.Or)(M,f),h&&(v=h==="v"?"x":"y",tt===0&&(M=t(M,N.source,v)),$===H.length-1&&(f=t(f,N.target,v)),x?C=x.point:C={x:(M.x+f.x)/2,y:(M.y+f.y)/2},Q={connection:N,segmentStartIndex:tt,segmentEndIndex:$,segmentStart:M,segmentEnd:f,axis:v,dragPosition:C},T.init(A,C,"connectionSegment.move",{cursor:v==="x"?"resize-ew":"resize-ns",data:{connection:N,connectionGfx:it,context:Q}}))};function L(A,N){if(!S)return N;var Y=A.waypoints,Q;return A.waypoints=N,Q=S.getCroppedWaypoints(A),A.waypoints=Y,Q}function D(A){O.update("connection",A.connection,A.connectionGfx)}function I(A,N,Y){var Q=A.newWaypoints,it=A.segmentStartIndex+N,tt=Q[it],$=A.segmentEndIndex+N,H=Q[$],M=r(A.axis),f=s(Y,tt,H,M);(0,d.Iu)(A.draggerGfx,f.x,f.y)}function U(A,N){var Y=0,Q=A.filter(function(it,tt){return(0,c.ZS)(A[tt-1],A[tt+1],it)?(Y=tt<=N?Y-1:Y,!1):!0});return{waypoints:Q,segmentOffset:Y}}a.on("connectionSegment.move.start",function(A){var N=A.context,Y=A.connection,Q=l.getLayer("overlays");N.originalWaypoints=Y.waypoints.slice(),N.draggerGfx=(0,E.zG)(Q,N.segmentStart,N.segmentEnd),(0,_.Sh)(N.draggerGfx).add("djs-dragging"),l.addMarker(Y,u)}),a.on("connectionSegment.move.move",function(A){var N=A.context,Y=N.connection,Q=N.segmentStartIndex,it=N.segmentEndIndex,tt=N.segmentStart,$=N.segmentEnd,H=N.axis,M=N.originalWaypoints.slice(),f=i(tt,H,A["d"+H]),x=i($,H,A["d"+H]),h=M.length,v=0;M[Q]=f,M[it]=x;var C,P;Q<2&&(C=(0,g.T8)(Y.source,f),Q===1?C==="intersect"&&(M.shift(),M[0]=f,v--):C!=="intersect"&&(M.unshift(tt),v++)),it>h-3&&(P=(0,g.T8)(Y.target,x),it===h-2?P==="intersect"&&(M.pop(),M[M.length-1]=x):P!=="intersect"&&M.push($)),N.newWaypoints=Y.waypoints=L(Y,M),I(N,v,A),N.newSegmentStartIndex=Q+v,D(A)}),a.on("connectionSegment.move.hover",function(A){A.context.hover=A.hover,l.addMarker(A.hover,o)}),a.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(A){var N=A.context.hover;N&&l.removeMarker(N,o)}),a.on("connectionSegment.move.cleanup",function(A){var N=A.context,Y=N.connection;N.draggerGfx&&(0,_.Od)(N.draggerGfx),l.removeMarker(Y,u)}),a.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(A){var N=A.context,Y=N.connection;Y.waypoints=N.originalWaypoints,D(A)}),a.on("connectionSegment.move.end",function(A){var N=A.context,Y=N.connection,Q=N.newWaypoints,it=N.newSegmentStartIndex;Q=Q.map(function(x){var h={x:Math.round(x.x),y:Math.round(x.y)};return x.original&&(h.original=x.original),h});var tt=U(Q,it),$=tt.waypoints,H=L(Y,$),M=tt.segmentOffset,f={segmentMove:{segmentStartIndex:N.segmentStartIndex,newSegmentStartIndex:it+M}};y.updateWaypoints(Y,H,f)})}e.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},27521:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>$});var c=m(13203),E=m(67989),g=m(71878),_=m(86463),d=Math.round,o="reconnectStart",u="reconnectEnd",i="updateWaypoints";function p(H,M,f,x,h,v){this._injector=H,this.start=function(C,P,j,b){var F=f.getGraphics(P),V=P.source,X=P.target,q=P.waypoints,nt;!b&&j===0?nt=o:!b&&j===q.length-1?nt=u:nt=i;var W=nt===i?"connection.updateWaypoints":"connection.reconnect",z=h.allowed(W,{connection:P,source:V,target:X});z===!1&&(z=h.allowed(W,{connection:P,source:X,target:V})),z!==!1&&x.init(C,"bendpoint.move",{data:{connection:P,connectionGfx:F,context:{allowed:z,bendpointIndex:j,connection:P,source:V,target:X,insert:b,type:nt}}})},M.on("bendpoint.move.hover",function(C){var P=C.context,j=P.connection,b=j.source,F=j.target,V=C.hover,X=P.type;P.hover=V;var q;if(!!V){var nt=X===i?"connection.updateWaypoints":"connection.reconnect";if(q=P.allowed=h.allowed(nt,{connection:j,source:X===o?V:b,target:X===u?V:F,type:X}),q){P.source=X===o?V:b,P.target=X===u?V:F;return}q===!1&&(q=P.allowed=h.allowed(nt,{connection:j,source:X===u?V:F,target:X===o?V:b,type:X})),q&&(P.source=X===u?V:F,P.target=X===o?V:b)}}),M.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(C){var P=C.context;P.hover=null,P.source=null,P.target=null,P.allowed=!1}),M.on("bendpoint.move.end",function(C){var P=C.context,j=P.allowed,b=P.bendpointIndex,F=P.connection,V=P.insert,X=F.waypoints.slice(),q=P.source,nt=P.target,W=P.type,z={},K={x:d(C.x),y:d(C.y)};if(!j)return!1;W===i?(V?X.splice(b,0,K):X[b]=K,z={bendpointMove:{insert:V,bendpointIndex:b}},X=this.cropWaypoints(F,X),v.updateWaypoints(F,(0,_.Re)(X),z)):(W===o?(z.docking="source",s(P)&&(z.docking="target",z.newWaypoints=X.reverse())):W===u&&(z.docking="target",s(P)&&(z.docking="source",z.newWaypoints=X.reverse())),v.reconnect(F,q,nt,K,z))},this)}p.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],p.prototype.cropWaypoints=function(H,M){var f=this._injector.get("connectionDocking",!1);if(!f)return M;var x=H.waypoints;return H.waypoints=M,H.waypoints=f.getCroppedWaypoints(H),M=H.waypoints,H.waypoints=x,M};function s(H){var M=H.hover,f=H.source,x=H.target,h=H.type;if(h===o)return M&&x&&M===x&&f!==x;if(h===u)return M&&f&&M===f&&f!==x}var r=m(21537),t=m(68077),e=m(18872),n="reconnectStart",a="reconnectEnd",l="updateWaypoints",T="connect-ok",O="connect-not-ok",y="connect-hover",S="djs-updating",L="djs-element-hidden",D=1100;function I(H,M,f,x){this._injector=M;var h=M.get("connectionPreview",!1);f.on("bendpoint.move.start",function(v){var C=v.context,P=C.bendpointIndex,j=C.connection,b=C.insert,F=j.waypoints,V=F.slice();C.waypoints=F,b&&V.splice(P,0,{x:v.x,y:v.y}),j.waypoints=V;var X=C.draggerGfx=(0,t.wZ)(x.getLayer("overlays"));(0,r.Sh)(X).add("djs-dragging"),x.addMarker(j,L),x.addMarker(j,S)}),f.on("bendpoint.move.hover",function(v){var C=v.context,P=C.allowed,j=C.hover,b=C.type;if(j){if(x.addMarker(j,y),b===l)return;P?(x.removeMarker(j,O),x.addMarker(j,T)):P===!1&&(x.removeMarker(j,T),x.addMarker(j,O))}}),f.on(["bendpoint.move.out","bendpoint.move.cleanup"],D,function(v){var C=v.context,P=C.hover,j=C.target;P&&(x.removeMarker(P,y),x.removeMarker(P,j?T:O))}),f.on("bendpoint.move.move",function(v){var C=v.context,P=C.allowed,j=C.bendpointIndex,b=C.draggerGfx,F=C.hover,V=C.type,X=C.connection,q=X.source,nt=X.target,W=X.waypoints.slice(),z=W.slice().reverse(),K={x:v.x,y:v.y},w;h&&(w={source:q,target:nt},V===n?s(C)?(w.connectionEnd=K,w.source=nt,w.target=F||q,W=z):(w.connectionStart=K,w.source=F||q):V===a?s(C)?(w.connectionStart=K,w.target=q,w.source=F||nt,W=z):(w.connectionEnd=K,w.target=F||nt):(w.noCropping=!0,w.noLayout=!0,W[j]=K),V===l&&(W=H.cropWaypoints(X,W)),w.waypoints=W,h.drawPreview(C,P,w)),(0,e.Iu)(b,v.x,v.y)},this),f.on(["bendpoint.move.end","bendpoint.move.cancel"],D,function(v){var C=v.context,P=C.connection,j=C.draggerGfx,b=C.hover,F=C.target,V=C.waypoints;P.waypoints=V,(0,r.Od)(j),x.removeMarker(P,S),x.removeMarker(P,L),b&&(x.removeMarker(b,T),x.removeMarker(b,F?T:O)),h&&h.cleanUp(C)})}I.$inject=["bendpointMove","injector","eventBus","canvas"];var U=m(42508),A=m(2299),N=m(44610),Y=Math.abs,Q=Math.round,it=10;function tt(H){function M(v,C){if((0,A.kJ)(v)){for(var P=v.length;P--;)if(Y(v[P]-C)<=it)return v[P]}else{v=+v;var j=C%v;if(j<it)return C-j;if(j>v-it)return C-j+v}return C}function f(v){if(v.width)return{x:Q(v.width/2+v.x),y:Q(v.height/2+v.y)}}function x(v){var C=v.snapPoints,P=v.connection,j=P.waypoints,b=v.segmentStart,F=v.segmentStartIndex,V=v.segmentEnd,X=v.segmentEndIndex,q=v.axis;if(C)return C;var nt=[j[F-1],b,V,j[X+1]];return F<2&&nt.unshift(f(P.source)),X>j.length-3&&nt.unshift(f(P.target)),v.snapPoints=C={horizontal:[],vertical:[]},(0,A.Ed)(nt,function(W){W&&(W=W.original||W,q==="y"&&C.horizontal.push(W.y),q==="x"&&C.vertical.push(W.x))}),C}H.on("connectionSegment.move.move",1500,function(v){var C=v.context,P=x(C),j=v.x,b=v.y,F,V;if(!!P){F=M(P.vertical,j),V=M(P.horizontal,b);var X=j-F,q=b-V;(0,A.f0)(v,{dx:v.dx-X,dy:v.dy-q,x:F,y:V}),(X||P.vertical.indexOf(j)!==-1)&&(0,N.U)(v,"x",F),(q||P.horizontal.indexOf(b)!==-1)&&(0,N.U)(v,"y",V)}});function h(v){var C=v.snapPoints,P=v.connection.waypoints,j=v.bendpointIndex;if(C)return C;var b=[P[j-1],P[j+1]];return v.snapPoints=C={horizontal:[],vertical:[]},(0,A.Ed)(b,function(F){F&&(F=F.original||F,C.horizontal.push(F.y),C.vertical.push(F.x))}),C}H.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(v){var C=v.context,P=h(C),j=C.hover,b=j&&f(j),F=v.x,V=v.y,X,q;if(!!P){X=M(b?P.vertical.concat([b.x]):P.vertical,F),q=M(b?P.horizontal.concat([b.y]):P.horizontal,V);var nt=F-X,W=V-q;(0,A.f0)(v,{dx:v.dx-nt,dy:v.dy-W,x:v.x-nt,y:v.y-W}),(nt||P.vertical.indexOf(F)!==-1)&&(0,N.U)(v,"x",X),(W||P.horizontal.indexOf(V)!==-1)&&(0,N.U)(v,"y",q)}})}tt.$inject=["eventBus"];const $={__depends__:[c.Z,E.Z],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",g.Z],bendpointMove:["type",p],bendpointMovePreview:["type",I],connectionSegmentMove:["type",U.Z],bendpointSnapping:["type",tt]}},98192:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(64960);function E(_,d,o,u){_.on("element.changed",function(i){var p=i.element;(p.parent||p===d.getRootElement())&&(i.gfx=o.getGraphics(p)),i.gfx&&_.fire((0,c.oL)(p)+".changed",i)}),_.on("elements.changed",function(i){var p=i.elements;p.forEach(function(s){_.fire("element.changed",{element:s})}),u.updateContainments(p)}),_.on("shape.changed",function(i){u.update("shape",i.element,i.gfx)}),_.on("connection.changed",function(i){u.update("connection",i.element,i.gfx)})}E.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const g={__init__:["changeSupport"],changeSupport:["type",E]}},45193:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>e});var c=m(42226),E=m(67989),g=m(13203),_=m(86463),d=m(2299);function o(n,a,l,T){function O(S,L){return T.allowed("connection.create",{source:S,target:L})}function y(S,L){return O(L,S)}n.on("connect.hover",function(S){var L=S.context,D=L.start,I=S.hover,U;if(L.hover=I,U=L.canExecute=O(D,I),!(0,d.kK)(U)){if(U!==!1){L.source=D,L.target=I;return}U=L.canExecute=y(D,I),!(0,d.kK)(U)&&U!==!1&&(L.source=I,L.target=D)}}),n.on(["connect.out","connect.cleanup"],function(S){var L=S.context;L.hover=null,L.source=null,L.target=null,L.canExecute=!1}),n.on("connect.end",function(S){var L=S.context,D=L.canExecute,I=L.connectionStart,U={x:S.x,y:S.y},A=L.source,N=L.target;if(!D)return!1;var Y=null,Q={connectionStart:u(L)?U:I,connectionEnd:u(L)?I:U};(0,d.Kn)(D)&&(Y=D);var it=l.connect(A,N,Y,Q);S.context.connection=it}),this.start=function(S,L,D,I){(0,d.Kn)(D)||(I=D,D=(0,_.wS)(L)),a.init(S,"connect",{autoActivate:I,data:{shape:L,context:{start:L,connectionStart:D}}})}}o.$inject=["eventBus","dragging","modeling","rules"];function u(n){var a=n.hover,l=n.source,T=n.target;return a&&l&&a===l&&l!==T}var i=1100,p=900,s="connect-ok",r="connect-not-ok";function t(n,a,l){var T=n.get("connectionPreview",!1);T&&a.on("connect.move",function(O){var y=O.context,S=y.canExecute,L=y.hover,D=y.source,I=y.start,U=y.startPosition,A=y.target,N=u(y)?{x:O.x,y:O.y}:U,Y=u(y)?U:{x:O.x,y:O.y};T.drawPreview(y,S,{source:D||I,target:A||L,connectionStart:N,connectionEnd:Y})}),a.on("connect.hover",p,function(O){var y=O.context,S=O.hover,L=y.canExecute;L!==null&&l.addMarker(S,L?s:r)}),a.on(["connect.out","connect.cleanup"],i,function(O){var y=O.hover;y&&(l.removeMarker(y,s),l.removeMarker(y,r))}),T&&a.on("connect.cleanup",function(O){T.cleanUp(O.context)})}t.$inject=["injector","eventBus","canvas"];const e={__depends__:[c.Z,E.Z,g.Z],__init__:["connectPreview"],connect:["type",o],connectPreview:["type",t]}},9572:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>d});var c=m(21537),E=m(2299),g=m(86463),_="djs-connection-preview";function d(i,p,s,r){this._canvas=p,this._graphicsFactory=s,this._elementFactory=r,this._connectionDocking=i.get("connectionDocking",!1),this._layouter=i.get("layouter",!1)}d.$inject=["injector","canvas","graphicsFactory","elementFactory"],d.prototype.drawPreview=function(i,p,s){s=s||{};var r=i.connectionPreviewGfx,t=i.getConnection,e=s.source,n=s.target,a=s.waypoints,l=s.connectionStart,T=s.connectionEnd,O=s.noLayout,y=s.noCropping,S=s.noNoop,L,D=this;if(r||(r=i.connectionPreviewGfx=this.createConnectionPreviewGfx()),(0,c.ZH)(r),t||(t=i.getConnection=o(function(I,U,A){return D.getConnection(I,U,A)})),p&&(L=t(p,e,n)),!L){!S&&this.drawNoopPreview(r,s);return}L.waypoints=a||[],this._layouter&&!O&&(L.waypoints=this._layouter.layoutConnection(L,{source:e,target:n,connectionStart:l,connectionEnd:T,waypoints:s.waypoints||L.waypoints})),(!L.waypoints||!L.waypoints.length)&&(L.waypoints=[e?(0,g.wS)(e):l,n?(0,g.wS)(n):T]),this._connectionDocking&&(e||n)&&!y&&(L.waypoints=this._connectionDocking.getCroppedWaypoints(L,e,n)),this._graphicsFactory.drawConnection(r,L)},d.prototype.drawNoopPreview=function(i,p){var s=p.source,r=p.target,t=p.connectionStart||(0,g.wS)(s),e=p.connectionEnd||(0,g.wS)(r),n=this.cropWaypoints(t,e,s,r),a=this.createNoopConnection(n[0],n[1]);(0,c.R3)(i,a)},d.prototype.cropWaypoints=function(i,p,s,r){var t=this._graphicsFactory,e=s&&t.getShapePath(s),n=r&&t.getShapePath(r),a=t.getConnectionPath({waypoints:[i,p]});return i=s&&(0,g.Hz)(e,a,!0)||i,p=r&&(0,g.Hz)(n,a,!1)||p,[i,p]},d.prototype.cleanUp=function(i){i&&i.connectionPreviewGfx&&(0,c.Od)(i.connectionPreviewGfx)},d.prototype.getConnection=function(i){var p=u(i);return this._elementFactory.createConnection(p)},d.prototype.createConnectionPreviewGfx=function(){var i=(0,c.Ue)("g");return(0,c.Lj)(i,{pointerEvents:"none"}),(0,c.Sh)(i).add(_),(0,c.R3)(this._canvas.getDefaultLayer(),i),i},d.prototype.createNoopConnection=function(i,p){var s=(0,c.Ue)("polyline");return(0,c.Lj)(s,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,c.Lj)(s,{points:[i.x,i.y,p.x,p.y]}),s};function o(i){var p={};return function(s){var r=JSON.stringify(s),t=p[r];return t||(t=p[r]=i.apply(null,arguments)),t}}function u(i){return(0,E.Kn)(i)?i:{}}},17722:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(9572);const E={__init__:["connectionPreview"],connectionPreview:["type",c.Z]}},43190:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>O});var c=m(85637),E=m(2299),g=m(9012),_=m(64960),d=m(50296),o=new d.Z("ov"),u=500;function i(y,S,L,D){this._eventBus=S,this._canvas=L,this._elementRegistry=D,this._ids=o,this._overlayDefaults=(0,E.f0)({show:null,scale:!0},y&&y.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=p(L.getContainer()),this._init()}i.$inject=["config.overlays","eventBus","canvas","elementRegistry"],i.prototype.get=function(y){if((0,E.HD)(y)&&(y={id:y}),(0,E.HD)(y.element)&&(y.element=this._elementRegistry.get(y.element)),y.element){var S=this._getOverlayContainer(y.element,!0);return S?y.type?(0,E.hX)(S.overlays,(0,E.KQ)({type:y.type})):S.overlays.slice():[]}else return y.type?(0,E.hX)(this._overlays,(0,E.KQ)({type:y.type})):y.id?this._overlays[y.id]:null},i.prototype.add=function(y,S,L){if((0,E.Kn)(S)&&(L=S,S=null),y.id||(y=this._elementRegistry.get(y)),!L.position)throw new Error("must specifiy overlay position");if(!L.html)throw new Error("must specifiy overlay html");if(!y)throw new Error("invalid element specified");var D=this._ids.next();return L=(0,E.f0)({},this._overlayDefaults,L,{id:D,type:S,element:y,html:L.html}),this._addOverlay(L),D},i.prototype.remove=function(y){var S=this.get(y)||[];(0,E.kJ)(S)||(S=[S]);var L=this;(0,E.Ed)(S,function(D){var I=L._getOverlayContainer(D.element,!0);if(D&&((0,g.Od)(D.html),(0,g.Od)(D.htmlContainer),delete D.htmlContainer,delete D.element,delete L._overlays[D.id]),I){var U=I.overlays.indexOf(D);U!==-1&&I.overlays.splice(U,1)}})},i.prototype.show=function(){r(this._overlayRoot)},i.prototype.hide=function(){r(this._overlayRoot,!1)},i.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,g.ZH)(this._overlayRoot)},i.prototype._updateOverlayContainer=function(y){var S=y.element,L=y.html,D=S.x,I=S.y;if(S.waypoints){var U=(0,_.jY)(S);D=U.x,I=U.y}s(L,D,I),(0,g.Lj)(y.html,"data-container-id",S.id)},i.prototype._updateOverlay=function(y){var S=y.position,L=y.htmlContainer,D=y.element,I=S.left,U=S.top;if(S.right!==void 0){var A;D.waypoints?A=(0,_.jY)(D).width:A=D.width,I=S.right*-1+A}if(S.bottom!==void 0){var N;D.waypoints?N=(0,_.jY)(D).height:N=D.height,U=S.bottom*-1+N}s(L,I||0,U||0)},i.prototype._createOverlayContainer=function(y){var S=(0,g.H6)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(S);var L={html:S,element:y,overlays:[]};return this._updateOverlayContainer(L),this._overlayContainers.push(L),L},i.prototype._updateRoot=function(y){var S=y.scale||1,L="matrix("+[S,0,0,S,-1*y.x*S,-1*y.y*S].join(",")+")";t(this._overlayRoot,L)},i.prototype._getOverlayContainer=function(y,S){var L=(0,E.sE)(this._overlayContainers,function(D){return D.element===y});return!L&&!S?this._createOverlayContainer(y):L},i.prototype._addOverlay=function(y){var S=y.id,L=y.element,D=y.html,I,U;D.get&&D.constructor.prototype.jquery&&(D=D.get(0)),(0,E.HD)(D)&&(D=(0,g.H6)(D)),U=this._getOverlayContainer(L),I=(0,g.H6)('<div class="djs-overlay" data-overlay-id="'+S+'" style="position: absolute">'),I.appendChild(D),y.type&&(0,g.Sh)(I).add("djs-overlay-"+y.type),y.htmlContainer=I,U.overlays.push(y),U.html.appendChild(I),this._overlays[S]=y,this._updateOverlay(y),this._updateOverlayVisibilty(y,this._canvas.viewbox())},i.prototype._updateOverlayVisibilty=function(y,S){var L=y.show,D=L&&L.minZoom,I=L&&L.maxZoom,U=y.htmlContainer,A=!0;L&&(((0,E.$K)(D)&&D>S.scale||(0,E.$K)(I)&&I<S.scale)&&(A=!1),r(U,A)),this._updateOverlayScale(y,S)},i.prototype._updateOverlayScale=function(y,S){var L=y.scale,D,I,U=y.htmlContainer,A,N="";L!==!0&&(L===!1?(D=1,I=1):(D=L.min,I=L.max),(0,E.$K)(D)&&S.scale<D&&(A=(1/S.scale||1)*D),(0,E.$K)(I)&&S.scale>I&&(A=(1/S.scale||1)*I)),(0,E.$K)(A)&&(N="scale("+A+","+A+")"),t(U,N)},i.prototype._updateOverlaysVisibilty=function(y){var S=this;(0,E.Ed)(this._overlays,function(L){S._updateOverlayVisibilty(L,y)})},i.prototype._init=function(){var y=this._eventBus,S=this;function L(D){S._updateRoot(D),S._updateOverlaysVisibilty(D),S.show()}y.on("canvas.viewbox.changing",function(D){S.hide()}),y.on("canvas.viewbox.changed",function(D){L(D.viewbox)}),y.on(["shape.remove","connection.remove"],function(D){var I=D.element,U=S.get({element:I});(0,E.Ed)(U,function(Y){S.remove(Y.id)});var A=S._getOverlayContainer(I);if(A){(0,g.Od)(A.html);var N=S._overlayContainers.indexOf(A);N!==-1&&S._overlayContainers.splice(N,1)}}),y.on("element.changed",u,function(D){var I=D.element,U=S._getOverlayContainer(I,!0);U&&((0,E.Ed)(U.overlays,function(A){S._updateOverlay(A)}),S._updateOverlayContainer(U))}),y.on("element.marker.update",function(D){var I=S._getOverlayContainer(D.element,!0);I&&(0,g.Sh)(I.html)[D.add?"add":"remove"](D.marker)}),y.on("diagram.clear",this.clear,this)};function p(y){var S=(0,g.H6)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return y.insertBefore(S,y.firstChild),S}function s(y,S,L){(0,E.f0)(y.style,{left:S+"px",top:L+"px"})}function r(y,S){y.style.display=S===!1?"none":""}function t(y,S){y.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(L){y.style[L+"transform"]=S})}const e={__init__:["overlays"],overlays:["type",i]};var n=".entry",a=1e3;function l(y,S,L){this._eventBus=S,this._overlays=L;var D=(0,E.$K)(y&&y.scale)?y.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:D},this._current=null,this._init()}l.$inject=["config.contextPad","eventBus","overlays"],l.prototype._init=function(){var y=this._eventBus,S=this;y.on("selection.changed",function(L){var D=L.newSelection;D.length===1?S.open(D[0]):S.close()}),y.on("elements.delete",function(L){var D=L.elements;(0,E.Ed)(D,function(I){S.isOpen(I)&&S.close()})}),y.on("element.changed",function(L){var D=L.element,I=S._current;I&&I.element===D&&S.open(D,!0)})},l.prototype.registerProvider=function(y,S){S||(S=y,y=a),this._eventBus.on("contextPad.getProviders",y,function(L){L.providers.push(S)})},l.prototype.getEntries=function(y){var S=this._getProviders(),L={};return(0,E.Ed)(S,function(D){var I=D.getContextPadEntries(y);(0,E.mf)(I)?L=I(L):(0,E.Ed)(I,function(U,A){L[A]=U})}),L},l.prototype.trigger=function(y,S,L){var D=this._current.element,I=this._current.entries,U,A,N,Y=S.delegateTarget||S.target;if(!Y)return S.preventDefault();if(U=I[(0,g.Lj)(Y,"data-action")],A=U.action,N=S.originalEvent||S,(0,E.mf)(A)){if(y==="click")return A(N,D,L)}else if(A[y])return A[y](N,D,L);S.preventDefault()},l.prototype.open=function(y,S){!S&&this.isOpen(y)||(this.close(),this._updateAndOpen(y))},l.prototype._getProviders=function(y){var S=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(S),S.providers},l.prototype._updateAndOpen=function(y){var S=this.getEntries(y),L=this.getPad(y),D=L.html;(0,E.Ed)(S,function(I,U){var A=I.group||"default",N=(0,g.H6)(I.html||'<div class="entry" draggable="true"></div>'),Y;(0,g.Lj)(N,"data-action",U),Y=(0,g.IO)("[data-group="+A+"]",D),Y||(Y=(0,g.H6)('<div class="group" data-group="'+A+'"></div>'),D.appendChild(Y)),Y.appendChild(N),I.className&&T(N,I.className),I.title&&(0,g.Lj)(N,"title",I.title),I.imageUrl&&N.appendChild((0,g.H6)('<img src="'+I.imageUrl+'">'))}),(0,g.Sh)(D).add("open"),this._current={element:y,pad:L,entries:S},this._eventBus.fire("contextPad.open",{current:this._current})},l.prototype.getPad=function(y){if(this.isOpen())return this._current.pad;var S=this,L=this._overlays,D=(0,g.H6)('<div class="djs-context-pad"></div>'),I=(0,E.f0)({html:D},this._overlaysConfig);g.cl.bind(D,n,"click",function(A){S.trigger("click",A)}),g.cl.bind(D,n,"dragstart",function(A){S.trigger("dragstart",A)}),g.B.bind(D,"mousedown",function(A){A.stopPropagation()}),this._overlayId=L.add(y,"context-pad",I);var U=L.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:y,pad:U}),U},l.prototype.close=function(){!this.isOpen()||(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},l.prototype.isOpen=function(y){return!!this._current&&(y?this._current.element===y:!0)};function T(y,S){var L=(0,g.Sh)(y),D=(0,E.kJ)(S)?S:S.split(/\s+/g);D.forEach(function(I){L.add(I)})}const O={__depends__:[c.Z,e],contextPad:["type",l]}},26327:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>s});var c=m(2299),E=m(64960);function g(r,t,e,n,a,l,T,O){this._canvas=r,this._create=t,this._clipboard=e,this._elementFactory=n,this._eventBus=a,this._modeling=l,this._mouse=T,this._rules=O,a.on("copyPaste.copyElement",function(y){var S=y.descriptor,L=y.element,D=y.elements;S.priority=1,S.id=L.id;var I=(0,c.sE)(D,function(U){return U===L.parent});I&&(S.parent=L.parent.id),_(L)&&(S.priority=2,S.host=L.host.id),d(L)&&(S.priority=3,S.source=L.source.id,S.target=L.target.id,S.waypoints=u(L)),o(L)&&(S.priority=4,S.labelTarget=L.labelTarget.id),(0,c.Ed)(["x","y","width","height"],function(U){(0,c.hj)(L[U])&&(S[U]=L[U])}),S.hidden=L.hidden,S.collapsed=L.collapsed}),a.on("copyPaste.pasteElements",function(y){var S=y.hints;(0,c.f0)(S,{createElementsBehavior:!1})})}g.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],g.prototype.copy=function(r){var t,e;return(0,c.kJ)(r)||(r=r?[r]:[]),t=this._eventBus.fire("copyPaste.canCopyElements",{elements:r}),t===!1?e={}:e=this.createTree((0,c.kJ)(t)?t:r),this._clipboard.set(e),this._eventBus.fire("copyPaste.elementsCopied",{elements:r,tree:e}),e},g.prototype.paste=function(r){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var e=r&&r.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:e});var n=this._createElements(t);if(r&&r.element&&r.point)return this._paste(n,r.element,r.point,e);this._create.start(this._mouse.getLastMoveEvent(),n,{hints:e})}},g.prototype._paste=function(r,t,e,n){(0,c.Ed)(r,function(l){(0,c.hj)(l.x)||(l.x=0),(0,c.hj)(l.y)||(l.y=0)});var a=(0,E.jY)(r);return(0,c.Ed)(r,function(l){d(l)&&(l.waypoints=(0,c.UI)(l.waypoints,function(T){return{x:T.x-a.x-a.width/2,y:T.y-a.y-a.height/2}})),(0,c.f0)(l,{x:l.x-a.x-a.width/2,y:l.y-a.y-a.height/2})}),this._modeling.createElements(r,e,t,(0,c.f0)({},n))},g.prototype._createElements=function(r){var t=this,e=this._eventBus,n={},a=[];return(0,c.Ed)(r,function(l,T){T=parseInt(T,10),l=(0,c.MR)(l,"priority"),(0,c.Ed)(l,function(O){var y=(0,c.f0)({},(0,c.CE)(O,["priority"]));n[O.parent]?y.parent=n[O.parent]:delete y.parent,e.fire("copyPaste.pasteElement",{cache:n,descriptor:y});var S;if(d(y)){y.source=n[O.source],y.target=n[O.target],S=n[O.id]=t.createConnection(y),a.push(S);return}if(o(y)){y.labelTarget=n[y.labelTarget],S=n[O.id]=t.createLabel(y),a.push(S);return}y.host&&(y.host=n[y.host]),S=n[O.id]=t.createShape(y),a.push(S)})}),a},g.prototype.createConnection=function(r){var t=this._elementFactory.createConnection((0,c.CE)(r,["id"]));return t},g.prototype.createLabel=function(r){var t=this._elementFactory.createLabel((0,c.CE)(r,["id"]));return t},g.prototype.createShape=function(r){var t=this._elementFactory.createShape((0,c.CE)(r,["id"]));return t},g.prototype.hasRelations=function(r,t){var e,n,a;return!(d(r)&&(n=(0,c.sE)(t,(0,c.KQ)({id:r.source.id})),a=(0,c.sE)(t,(0,c.KQ)({id:r.target.id})),!n||!a)||o(r)&&(e=(0,c.sE)(t,(0,c.KQ)({id:r.labelTarget.id})),!e))},g.prototype.createTree=function(r){var t=this._rules,e=this,n={},a=[],l=(0,E.cd)(r);function T(S,L){return t.allowed("element.copy",{element:S,elements:L})}function O(S,L){var D=(0,c.sE)(a,function(I){return S===I.element});if(!D){a.push({element:S,depth:L});return}D.depth<L&&(a=y(D,a),a.push({element:D.element,depth:L}))}function y(S,L){var D=L.indexOf(S);return D!==-1&&L.splice(D,1),L}return(0,E.om)(l,function(S,L,D){if(o(S))return;(0,c.Ed)(S.labels,function(U){O(U,D)});function I(U){U&&U.length&&(0,c.Ed)(U,function(A){(0,c.Ed)(A.labels,function(N){O(N,D)}),O(A,D)})}return(0,c.Ed)([S.attachers,S.incoming,S.outgoing],I),O(S,D),S.children}),r=(0,c.UI)(a,function(S){return S.element}),a=(0,c.UI)(a,function(S){return S.descriptor={},e._eventBus.fire("copyPaste.copyElement",{descriptor:S.descriptor,element:S.element,elements:r}),S}),a=(0,c.MR)(a,function(S){return S.descriptor.priority}),r=(0,c.UI)(a,function(S){return S.element}),(0,c.Ed)(a,function(S){var L=S.depth;if(!e.hasRelations(S.element,r)){p(S.element,r);return}if(!T(S.element,r)){p(S.element,r);return}n[L]||(n[L]=[]),n[L].push(S.descriptor)}),n};function _(r){return!!r.host}function d(r){return!!r.waypoints}function o(r){return!!r.labelTarget}function u(r){return(0,c.UI)(r.waypoints,function(t){return t=i(t),t.original&&(t.original=i(t.original)),t})}function i(r){return(0,c.f0)({},r)}function p(r,t){var e=t.indexOf(r);return e===-1?t:t.splice(e,1)}const s=g},98059:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});function c(){}c.prototype.get=function(){return this._data},c.prototype.set=function(s){this._data=s},c.prototype.clear=function(){var s=this._data;return delete this._data,s},c.prototype.isEmpty=function(){return!this._data};const E={clipboard:["type",c]};var g=m(7984);function _(s){var r=this;this._lastMoveEvent=null;function t(e){r._lastMoveEvent=e}s.on("canvas.init",function(e){var n=r._svg=e.svg;n.addEventListener("mousemove",t)}),s.on("canvas.destroy",function(){r._lastMouseEvent=null,r._svg.removeEventListener("mousemove",t)})}_.$inject=["eventBus"],_.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||d(0,0)};function d(s,r){var t=document.createEvent("MouseEvent"),e=s,n=r,a=s,l=r;return t.initMouseEvent&&t.initMouseEvent("mousemove",!0,!0,window,0,e,n,a,l,!1,!1,!1,!1,0,null),t}const o={__init__:["mouse"],mouse:["type",_]};var u=m(67989),i=m(26327);const p={__depends__:[E,g.Z,o,u.Z],__init__:["copyPaste"],copyPaste:["type",i.Z]}},7984:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>I});var c=m(13203),E=m(10009),g=m(67989),_=m(42226),d=m(2299),o=m(64960),u="drop-ok",i="drop-not-ok",p="attach-ok",s="new-parent",r="create",t=2e3;function e(U,A,N,Y,Q){function it(H,M,f,x){if(!M)return!1;H=(0,d.hX)(H,function(j){var b=j.labelTarget;return!j.parent&&!(T(j)&&H.indexOf(b)!==-1)});var h=(0,d.sE)(H,function(j){return!a(j)}),v=!1,C=!1,P=!1;return l(H)&&(v=Q.allowed("shape.attach",{position:f,shape:h,target:M})),v||(l(H)?P=Q.allowed("shape.create",{position:f,shape:h,source:x,target:M}):P=Q.allowed("elements.create",{elements:H,position:f,target:M})),P||v?(h&&x&&(C=Q.allowed("connection.create",{source:x,target:h,hints:{targetParent:M,targetAttach:v}})),{attach:v,connect:C}):P===null||v===null?null:!1}function tt(H,M){[p,u,i,s].forEach(function(f){f===M?U.addMarker(H,f):U.removeMarker(H,f)})}N.on(["create.move","create.hover"],function(H){var M=H.context,f=M.elements,x=H.hover,h=M.source;if(!x){M.canExecute=!1,M.target=null;return}n(H);var v={x:H.x,y:H.y},C=M.canExecute=x&&it(f,x,v,h);x&&C!==null&&(M.target=x,C&&C.attach?tt(x,p):tt(x,C?s:i))}),N.on(["create.end","create.out","create.cleanup"],function(H){var M=H.hover;M&&tt(M,null)}),N.on("create.end",function(H){var M=H.context,f=M.source,x=M.shape,h=M.elements,v=M.target,C=M.hints,P=M.canExecute,j=P&&P.attach,b=P&&P.connect;if(P===!1||!v)return!1;n(H);var F={x:H.x,y:H.y};b?x=Y.appendShape(f,x,F,v,{attach:j,connection:b===!0?{}:b}):(h=Y.createElements(h,F,v,(0,d.f0)({},C,{attach:j})),x=(0,d.sE)(h,function(V){return!a(V)})),(0,d.f0)(M,{elements:h,shape:x}),(0,d.f0)(H,{elements:h,shape:x})});function $(){var H=A.context();H&&H.prefix===r&&A.cancel()}N.on("create.init",function(){N.on("elements.changed",$),N.once(["create.cancel","create.end"],t,function(){N.off("elements.changed",$)})}),this.start=function(H,M,f){(0,d.kJ)(M)||(M=[M]);var x=(0,d.sE)(M,function(v){return!a(v)});if(!!x){f=(0,d.f0)({elements:M,hints:{},shape:x},f||{}),(0,d.Ed)(M,function(v){(0,d.hj)(v.x)||(v.x=0),(0,d.hj)(v.y)||(v.y=0)});var h=(0,o.jY)(M);(0,d.Ed)(M,function(v){a(v)&&(v.waypoints=(0,d.UI)(v.waypoints,function(C){return{x:C.x-h.x-Math.round(h.width/2),y:C.y-h.y-Math.round(h.height/2)}})),(0,d.f0)(v,{x:v.x-h.x-Math.round(h.width/2),y:v.y-h.y-Math.round(h.height/2)})}),A.init(H,r,{cursor:"grabbing",autoActivate:!0,data:{shape:x,elements:M,context:f}})}}}e.$inject=["canvas","dragging","eventBus","modeling","rules"];function n(U){var A=U.context,N=A.createConstraints;!N||(N.left&&(U.x=Math.max(U.x,N.left)),N.right&&(U.x=Math.min(U.x,N.right)),N.top&&(U.y=Math.max(U.y,N.top)),N.bottom&&(U.y=Math.min(U.y,N.bottom)))}function a(U){return!!U.waypoints}function l(U){return U&&U.length===1&&!a(U[0])}function T(U){return!!U.labelTarget}var O=m(18872),y=m(21202),S=m(21537),L=750;function D(U,A,N,Y,Q){function it(tt){var $=(0,S.Ue)("g");(0,S.Lj)($,Q.cls("djs-drag-group",["no-events"]));var H=(0,S.Ue)("g");return tt.forEach(function(M){var f;(0,S.Lj)($,{"data-element-id":M.id}),!M.hidden&&(M.waypoints?(f=N._createContainer("connection",H),N.drawConnection((0,y.s)(f),M)):(f=N._createContainer("shape",H),N.drawShape((0,y.s)(f),M),(0,O.Iu)(f,M.x,M.y)),Y.addDragger(M,$,f))}),$}A.on("create.move",L,function(tt){var $=tt.hover,H=tt.context,M=H.elements,f=H.dragGroup;f||(f=H.dragGroup=it(M));var x;$?(f.parentNode||(x=U.getDefaultLayer(),(0,S.R3)(x,f)),(0,O.Iu)(f,tt.x,tt.y)):(0,S.Od)(f)}),A.on("create.cleanup",function(tt){var $=tt.context,H=$.dragGroup;H&&(0,S.Od)(H)})}D.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const I={__depends__:[c.Z,E.Z,g.Z,_.Z],__init__:["create","createPreview"],create:["type",e],createPreview:["type",D]}},13203:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>T});var c=m(42226),E=m(2299),g=m(9012),_=m(46534),d=m(63253),o=m(19863),u=m(43273),i=Math.round,p="djs-drag-active";function s(O){O.preventDefault()}function r(O){return typeof TouchEvent<"u"&&O instanceof TouchEvent}function t(O){return Math.sqrt(Math.pow(O.x,2)+Math.pow(O.y,2))}function e(O,y,S,L){var D={threshold:5,trapClick:!0},I;function U(v){var C=y.viewbox(),P=y._container.getBoundingClientRect();return{x:C.x+(v.x-P.left)/C.scale,y:C.y+(v.y-P.top)/C.scale}}function A(v,C){C=C||I;var P=O.createEvent((0,E.f0)({},C.payload,C.data,{isTouch:C.isTouch}));return O.fire("drag."+v,P)===!1?!1:O.fire(C.prefix+"."+v,P)}function N(v){var C=v.filter(function(P){return L.get(P.id)});C.length&&S.select(C)}function Y(v,C){var P=I.payload,j=I.displacement,b=I.globalStart,F=(0,_.jt)(v),V=(0,u.p)(F,b),X=I.localStart,q=U(F),nt=(0,u.p)(q,X);if(!I.active&&(C||t(V)>I.threshold)){if((0,E.f0)(P,{x:i(X.x+j.x),y:i(X.y+j.y),dx:0,dy:0},{originalEvent:v}),A("start")===!1)return f();I.active=!0,I.keepSelection||(P.previousSelection=S.get(),S.select(null)),I.cursor&&(0,d.t8)(I.cursor),y.addMarker(y.getRootElement(),p)}(0,_.UW)(v),I.active&&((0,E.f0)(P,{x:i(q.x+j.x),y:i(q.y+j.y),dx:i(nt.x),dy:i(nt.y)},{originalEvent:v}),A("move"))}function Q(v){var C,P=!0;I.active&&(v&&(I.payload.originalEvent=v,(0,_.UW)(v)),P=A("end")),P===!1&&A("rejected"),C=x(P!==!0),A("ended",C)}function it(v){v.which===27&&(s(v),f())}function tt(v){var C;I.active&&(C=(0,o.N)(O),setTimeout(C,400),s(v)),Q(v)}function $(v){Y(v)}function H(v){var C=I.payload;C.hoverGfx=v.gfx,C.hover=v.element,A("hover")}function M(v){A("out");var C=I.payload;C.hoverGfx=null,C.hover=null}function f(v){var C;if(!!I){var P=I.active;P&&A("cancel"),C=x(v),P&&A("canceled",C)}}function x(v){var C,P;A("cleanup"),(0,d.zN)(),I.trapClick?P=tt:P=Q,g.B.unbind(document,"mousemove",Y),g.B.unbind(document,"dragstart",s),g.B.unbind(document,"selectstart",s),g.B.unbind(document,"mousedown",P,!0),g.B.unbind(document,"mouseup",P,!0),g.B.unbind(document,"keyup",it),g.B.unbind(document,"touchstart",$,!0),g.B.unbind(document,"touchcancel",f,!0),g.B.unbind(document,"touchmove",Y,!0),g.B.unbind(document,"touchend",Q,!0),O.off("element.hover",H),O.off("element.out",M),y.removeMarker(y.getRootElement(),p);var j=I.payload.previousSelection;return v!==!1&&j&&!S.get().length&&N(j),C=I,I=null,C}function h(v,C,P,j){I&&f(!1),typeof C=="string"&&(j=P,P=C,C=null),j=(0,E.f0)({},D,j||{});var b=j.data||{},F,V,X,q,nt;j.trapClick?q=tt:q=Q,v?(F=(0,_.Ku)(v)||v,V=(0,_.jt)(v),(0,_.UW)(v),F.type==="dragstart"&&s(F)):(F=null,V={x:0,y:0}),X=U(V),C||(C=X),nt=r(F),I=(0,E.f0)({prefix:P,data:b,payload:{},globalStart:V,displacement:(0,u.p)(C,X),localStart:X,isTouch:nt},j),j.manual||(nt?(g.B.bind(document,"touchstart",$,!0),g.B.bind(document,"touchcancel",f,!0),g.B.bind(document,"touchmove",Y,!0),g.B.bind(document,"touchend",Q,!0)):(g.B.bind(document,"mousemove",Y),g.B.bind(document,"dragstart",s),g.B.bind(document,"selectstart",s),g.B.bind(document,"mousedown",q,!0),g.B.bind(document,"mouseup",q,!0)),g.B.bind(document,"keyup",it),O.on("element.hover",H),O.on("element.out",M)),A("init"),j.autoActivate&&Y(v,!0)}O.on("diagram.destroy",f),this.init=h,this.move=Y,this.hover=H,this.out=M,this.end=Q,this.cancel=f,this.context=function(){return I},this.setOptions=function(v){(0,E.f0)(D,v)}}e.$inject=["eventBus","canvas","selection","elementRegistry"];var n=1500;function a(O,y,S){var L=this;function D(I){if(!I.hover){var U=I.originalEvent,A=L._findTargetGfx(U),N=A&&S.get(A);A&&N&&(I.stopPropagation(),y.hover({element:N,gfx:A}),y.move(U))}}O.on("drag.start",function(I){O.once("drag.move",n,function(U){D(U)})}),O.on("drag.init",function(){var I,U;function A(Q){I=Q.hover,U=Q.hoverGfx}function N(){I=null,U=null}function Y(){if(!!I){var Q=I,it=U;I=null,U=null,y.out({element:Q,gfx:it})}}O.on("drag.hover",A),O.on("element.out",N),O.on("element.hover",n,Y),O.once("drag.cleanup",function(){O.off("drag.hover",A),O.off("element.out",N),O.off("element.hover",Y)})}),this._findTargetGfx=function(I){var U,A;if(I instanceof MouseEvent)return U=(0,_.jt)(I),A=document.elementFromPoint(U.x,U.y),l(A)}}a.$inject=["eventBus","dragging","elementRegistry"];function l(O){return(0,g.oq)(O,"svg, .djs-element",!0)}const T={__init__:["hoverFix"],__depends__:[c.Z],dragging:["type",e],hoverFix:["type",a]}},73906:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var c=m(2299),E="is not a registered action",g="is already registered";function _(o,u){this._actions={};var i=this;o.on("diagram.init",function(){i._registerDefaultActions(u),o.fire("editorActions.init",{editorActions:i})})}_.$inject=["eventBus","injector"],_.prototype._registerDefaultActions=function(o){var u=o.get("commandStack",!1),i=o.get("modeling",!1),p=o.get("selection",!1),s=o.get("zoomScroll",!1),r=o.get("copyPaste",!1),t=o.get("canvas",!1),e=o.get("rules",!1),n=o.get("keyboardMove",!1),a=o.get("keyboardMoveSelection",!1);u&&(this.register("undo",function(){u.undo()}),this.register("redo",function(){u.redo()})),r&&p&&this.register("copy",function(){var l=p.get();r.copy(l)}),r&&this.register("paste",function(){r.paste()}),s&&this.register("stepZoom",function(l){s.stepZoom(l.value)}),t&&this.register("zoom",function(l){t.zoom(l.value)}),i&&p&&e&&this.register("removeSelection",function(){var l=p.get();if(!!l.length){var T=e.allowed("elements.delete",{elements:l}),O;T!==!1&&((0,c.kJ)(T)?O=T:O=l,O.length&&i.removeElements(O.slice()))}}),n&&this.register("moveCanvas",function(l){n.moveCanvas(l)}),a&&this.register("moveSelection",function(l){a.moveSelection(l.direction,l.accelerated)})},_.prototype.trigger=function(o,u){if(!this._actions[o])throw d(o,E);return this._actions[o](u)},_.prototype.register=function(o,u){var i=this;if(typeof o=="string")return this._registerAction(o,u);(0,c.Ed)(o,function(p,s){i._registerAction(s,p)})},_.prototype._registerAction=function(o,u){if(this.isRegistered(o))throw d(o,g);this._actions[o]=u},_.prototype.unregister=function(o){if(!this.isRegistered(o))throw d(o,E);this._actions[o]=void 0},_.prototype.getActions=function(){return Object.keys(this._actions)},_.prototype.isRegistered=function(o){return!!this._actions[o]};function d(o,u){return new Error(o+" "+u)}},51365:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var c=m(44610),E=m(28229),g=m(2299),_=m(56746),d=1200,o=800;function u(e,n,a){var l=!a||a.active!==!1;this._eventBus=n;var T=this;n.on("diagram.init",o,function(){T.setActive(l)}),n.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],d,function(O){var y=O.originalEvent;if(!(!T.active||y&&(0,E.JS)(y))){var S=O.context,L=S.gridSnappingContext;L||(L=S.gridSnappingContext={}),["x","y"].forEach(function(D){var I={},U=p(O,D,e);U&&(I.offset=U);var A=i(O,D);A&&(0,g.f0)(I,A),(0,c.Wn)(O,D)||T.snapEvent(O,D,I)})}})}u.prototype.snapEvent=function(e,n,a){var l=this.snapValue(e[n],a);(0,c.U)(e,n,l)},u.prototype.getGridSpacing=function(){return _.N},u.prototype.snapValue=function(e,n){var a=0;n&&n.offset&&(a=n.offset),e+=a,e=(0,_.q)(e,_.N);var l,T;return n&&n.min&&(l=n.min,(0,g.hj)(l)&&(l=(0,_.q)(l+a,_.N,"ceil"),e=Math.max(e,l))),n&&n.max&&(T=n.max,(0,g.hj)(T)&&(T=(0,_.q)(T+a,_.N,"floor"),e=Math.min(e,T))),e-=a,e},u.prototype.isActive=function(){return this.active},u.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})},u.prototype.toggleActive=function(){this.setActive(!this.active)},u.$inject=["elementRegistry","eventBus","config.gridSnapping"];function i(e,n){var a=e.context,l=a.createConstraints,T=a.resizeConstraints||{},O=a.gridSnappingContext,y=O.snapConstraints;if(y&&y[n])return y[n];y||(y=O.snapConstraints={}),y[n]||(y[n]={});var S=a.direction;l&&(s(n)?(y.x.min=l.left,y.x.max=l.right):(y.y.min=l.top,y.y.max=l.bottom));var L=T.min,D=T.max;return L&&(s(n)?t(S)?y.x.max=L.left:y.x.min=L.right:r(S)?y.y.max=L.top:y.y.min=L.bottom),D&&(s(n)?t(S)?y.x.min=D.left:y.x.max=D.right:r(S)?y.y.min=D.top:y.y.max=D.bottom),y[n]}function p(e,n,a){var l=e.context,T=e.shape,O=l.gridSnappingContext,y=O.snapLocation,S=O.snapOffset;return S&&(0,g.hj)(S[n])||(S||(S=O.snapOffset={}),(0,g.hj)(S[n])||(S[n]=0),!T)||(a.get(T.id)||(s(n)?S[n]+=T[n]+T.width/2:S[n]+=T[n]+T.height/2),!y)||(n==="x"?/left/.test(y)?S[n]-=T.width/2:/right/.test(y)&&(S[n]+=T.width/2):/top/.test(y)?S[n]-=T.height/2:/bottom/.test(y)&&(S[n]+=T.height/2)),S[n]}function s(e){return e==="x"}function r(e){return e.indexOf("n")!==-1}function t(e){return e.indexOf("w")!==-1}},56746:(rt,G,m)=>{"use strict";m.d(G,{N:()=>c,q:()=>E});var c=10;function E(g,_,d){return d||(d="round"),Math[d](g/_)*_}},85960:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>d});var c=m(98827),E=m(28229),g=1500,_="grab";function d(u,i,p,s,r){this._dragging=p;var t=this,e=s.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),u.on("element.mousedown",g,function(n){if((0,c.RJ)(n))return this.activateMove(n.originalEvent),!1},this),e&&e.addListener(g,function(n){if(!o(n.keyEvent)||t.isActive())return;function a(T){t.activateMove(T),window.removeEventListener("mousemove",a)}window.addEventListener("mousemove",a);function l(T){!o(T.keyEvent)||(window.removeEventListener("mousemove",a),e.removeListener(l,"keyboard.keyup"),p.cancel())}e.addListener(g,l,"keyboard.keyup")},"keyboard.keydown"),u.on("hand.end",function(n){var a=n.originalEvent.target;if(!n.hover&&!(a instanceof SVGElement))return!1;u.once("hand.ended",function(){this.activateMove(n.originalEvent,{reactivate:!0})},this)},this),u.on("hand.move.move",function(n){var a=i.viewbox().scale;i.scroll({dx:n.dx*a,dy:n.dy*a})}),u.on("hand.move.end",function(n){var a=n.context,l=a.reactivate;return!(0,c.RJ)(n)&&l&&u.once("hand.move.ended",function(T){this.activateHand(T.originalEvent,!0,!0)},this),!1},this)}d.$inject=["eventBus","canvas","dragging","injector","toolManager"],d.prototype.activateMove=function(u,i,p){typeof i=="object"&&(p=i,i=!1),this._dragging.init(u,"hand.move",{autoActivate:i,cursor:_,data:{context:p||{}}})},d.prototype.activateHand=function(u,i,p){this._dragging.init(u,"hand",{trapClick:!1,autoActivate:i,cursor:_,data:{context:{reactivate:p}}})},d.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},d.prototype.isActive=function(){var u=this._dragging.context();return u?/^(hand|hand\.move)$/.test(u.prefix):!1};function o(u){return(0,E.ot)(" ",u)}},85637:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var c=m(2299),E=m(9012),g=m(98827),_=m(21537),d=m(7824);function o(s){return!0}var u=500;function i(s,r,t){var e=this;function n(M,f,x){if(!T(M,f)){var h,v,C;x?v=r.getGraphics(x):(h=f.delegateTarget||f.target,h&&(v=h,x=r.get(v))),!(!v||!x)&&(C=s.fire(M,{element:x,gfx:v,originalEvent:f}),C===!1&&(f.stopPropagation(),f.preventDefault()))}}var a={};function l(M){return a[M]}function T(M,f){var x=y[M]||g.Id;return!x(f)}var O={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},y={"element.contextmenu":o};function S(M,f,x){var h=O[M];if(!h)throw new Error("unmapped DOM event name <"+M+">");return n(h,f,x)}var L="svg, .djs-element";function D(M,f,x,h){var v=a[x]=function(C){n(x,C)};h&&(y[x]=h),v.$delegate=E.cl.bind(M,L,f,v)}function I(M,f,x){var h=l(x);!h||E.cl.unbind(M,f,h.$delegate)}function U(M){(0,c.Ed)(O,function(f,x){D(M,x,f)})}function A(M){(0,c.Ed)(O,function(f,x){I(M,x,f)})}s.on("canvas.destroy",function(M){A(M.svg)}),s.on("canvas.init",function(M){U(M.svg)}),s.on(["shape.added","connection.added"],function(M){var f=M.element,x=M.gfx;s.fire("interactionEvents.createHit",{element:f,gfx:x})}),s.on(["shape.changed","connection.changed"],u,function(M){var f=M.element,x=M.gfx;s.fire("interactionEvents.updateHit",{element:f,gfx:x})}),s.on("interactionEvents.createHit",u,function(M){var f=M.element,x=M.gfx;e.createDefaultHit(f,x)}),s.on("interactionEvents.updateHit",function(M){var f=M.element,x=M.gfx;e.updateDefaultHit(f,x)});var N=tt("djs-hit djs-hit-stroke"),Y=tt("djs-hit djs-hit-click-stroke"),Q=tt("djs-hit djs-hit-all"),it={all:Q,"click-stroke":Y,stroke:N};function tt(M,f){return f=(0,c.f0)({stroke:"white",strokeWidth:15},f||{}),t.cls(M,["no-fill","no-border"],f)}function $(M,f){var x=it[f];if(!x)throw new Error("invalid hit type <"+f+">");return(0,_.Lj)(M,x),M}function H(M,f){(0,_.R3)(M,f)}this.removeHits=function(M){var f=(0,E.Kt)(".djs-hit",M);(0,c.Ed)(f,_.Od)},this.createDefaultHit=function(M,f){var x=M.waypoints,h=M.isFrame,v;return x?this.createWaypointsHit(f,x):(v=h?"stroke":"all",this.createBoxHit(f,v,{width:M.width,height:M.height}))},this.createWaypointsHit=function(M,f){var x=(0,d.W5)(f);return $(x,"stroke"),H(M,x),x},this.createBoxHit=function(M,f,x){x=(0,c.f0)({x:0,y:0},x);var h=(0,_.Ue)("rect");return $(h,f),(0,_.Lj)(h,x),H(M,h),h},this.updateDefaultHit=function(M,f){var x=(0,E.IO)(".djs-hit",f);if(!!x)return M.waypoints?(0,d.cq)(x,M.waypoints):(0,_.Lj)(x,{width:M.width,height:M.height}),x},this.fire=n,this.triggerMouseEvent=S,this.mouseHandler=l,this.registerEvent=D,this.unregisterEvent=I}i.$inject=["eventBus","elementRegistry","styles"];const p={__init__:["interactionEvents"],interactionEvents:["type",i]}},91112:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(28229),E=500;function g(_,d){var o=this;_.on("editorActions.init",E,function(u){var i=u.editorActions;o.registerBindings(d,i)})}g.$inject=["eventBus","keyboard"],g.prototype.registerBindings=function(_,d){function o(u,i){d.isRegistered(u)&&_.addListener(i)}o("undo",function(u){var i=u.keyEvent;if((0,c.JS)(i)&&!(0,c.cY)(i)&&(0,c.ot)(["z","Z"],i))return d.trigger("undo"),!0}),o("redo",function(u){var i=u.keyEvent;if((0,c.JS)(i)&&((0,c.ot)(["y","Y"],i)||(0,c.ot)(["z","Z"],i)&&(0,c.cY)(i)))return d.trigger("redo"),!0}),o("copy",function(u){var i=u.keyEvent;if((0,c.JS)(i)&&(0,c.ot)(["c","C"],i))return d.trigger("copy"),!0}),o("paste",function(u){var i=u.keyEvent;if((0,c.JS)(i)&&(0,c.ot)(["v","V"],i))return d.trigger("paste"),!0}),o("stepZoom",function(u){var i=u.keyEvent;if((0,c.ot)(["+","Add"],i)&&(0,c.JS)(i))return d.trigger("stepZoom",{value:1}),!0}),o("stepZoom",function(u){var i=u.keyEvent;if((0,c.ot)(["-","Subtract"],i)&&(0,c.JS)(i))return d.trigger("stepZoom",{value:-1}),!0}),o("zoom",function(u){var i=u.keyEvent;if((0,c.ot)("0",i)&&(0,c.JS)(i))return d.trigger("zoom",{value:1}),!0}),o("removeSelection",function(u){var i=u.keyEvent;if((0,c.ot)(["Delete","Del"],i))return d.trigger("removeSelection"),!0})}},28229:(rt,G,m)=>{"use strict";m.d(G,{JS:()=>g,aw:()=>E,cY:()=>d,ot:()=>_});var c=m(2299);function E(o){return o.ctrlKey||o.metaKey||o.shiftKey||o.altKey}function g(o){return o.altKey?!1:o.ctrlKey||o.metaKey}function _(o,u){return o=(0,c.kJ)(o)?o:[o],o.indexOf(u.key)>-1}function d(o){return o.shiftKey}},20677:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>s});var c=m(2299),E=m(9012),g=m(28229),_="keyboard.keydown",d="keyboard.keyup",o=1e3;function u(r,t){var e=this;this._config=r||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){e._fire("destroy"),e.unbind()}),t.on("diagram.init",function(){e._fire("init")}),t.on("attach",function(){r&&r.bindTo&&e.bind(r.bindTo)}),t.on("detach",function(){e.unbind()})}u.$inject=["config.keyboard","eventBus"],u.prototype._keydownHandler=function(r){this._keyHandler(r,_)},u.prototype._keyupHandler=function(r){this._keyHandler(r,d)},u.prototype._keyHandler=function(r,t){var e=r.target,n;if(!i(e)){var a={keyEvent:r};n=this._eventBus.fire(t||_,a),!(r.ctrlKey&&!r.altKey&&!r.shiftKey&&r.keyCode===67)&&n&&r.preventDefault()}},u.prototype.bind=function(r){this.unbind(),this._node=r,E.B.bind(r,"keydown",this._keydownHandler,!0),E.B.bind(r,"keyup",this._keyupHandler,!0),this._fire("bind")},u.prototype.getBinding=function(){return this._node},u.prototype.unbind=function(){var r=this._node;r&&(this._fire("unbind"),E.B.unbind(r,"keydown",this._keydownHandler,!0),E.B.unbind(r,"keyup",this._keyupHandler,!0)),this._node=null},u.prototype._fire=function(r){this._eventBus.fire("keyboard."+r,{node:this._node})},u.prototype.addListener=function(r,t,e){(0,c.mf)(r)&&(e=t,t=r,r=o),this._eventBus.on(e||_,r,t)},u.prototype.removeListener=function(r,t){this._eventBus.off(t||_,r)},u.prototype.hasModifier=g.aw,u.prototype.isCmd=g.JS,u.prototype.isShift=g.cY,u.prototype.isKey=g.ot;function i(r){return r&&((0,E.wB)(r,"input, textarea")||r.contentEditable==="true")}var p=m(91112);const s={__init__:["keyboard","keyboardBindings"],keyboard:["type",u],keyboardBindings:["type",p.Z]}},13463:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var c=m(2299),E=m(59879),g=m.n(E),_=m(91499),d=m(80352),o=m(91658),u=250,i=1400;function p(r,t,e){o.Z.call(this,t);var n=r.get("movePreview",!1);t.on("shape.move.start",i,function(a){var l=a.context,T=l.shapes,O=l.validatedShapes;l.shapes=s(T),l.validatedShapes=s(O)}),n&&t.on("shape.move.start",u,function(a){var l=a.context,T=l.shapes,O=[];(0,c.Ed)(T,function(y){(0,c.Ed)(y.labels,function(S){!S.hidden&&l.shapes.indexOf(S)===-1&&O.push(S),y.labelTarget&&O.push(y)})}),(0,c.Ed)(O,function(y){n.makeDraggable(l,y,!0)})}),this.preExecuted("elements.move",i,function(a){var l=a.context,T=l.closure,O=T.enclosedElements,y=[];(0,c.Ed)(O,function(S){(0,c.Ed)(S.labels,function(L){O[L.id]||y.push(L)})}),T.addAll(y)}),this.preExecute(["connection.delete","shape.delete"],function(a){var l=a.context,T=l.connection||l.shape;(0,d.r)(T.labels,function(O){e.removeShape(O,{nested:!0})})}),this.execute("shape.delete",function(a){var l=a.context,T=l.shape,O=T.labelTarget;O&&(l.labelTargetIndex=(0,_.cq)(O.labels,T),l.labelTarget=O,T.labelTarget=null)}),this.revert("shape.delete",function(a){var l=a.context,T=l.shape,O=l.labelTarget,y=l.labelTargetIndex;O&&((0,_.IH)(O.labels,T,y),T.labelTarget=O)})}g()(p,o.Z),p.$inject=["injector","eventBus","modeling"];function s(r){return(0,c.hX)(r,function(t){return r.indexOf(t.labelTarget)===-1})}},43801:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>o});var c=m(2299),E=m(64960),g=m(98827),_=m(21537),d="crosshair";function o(i,p,s,r,t,e){this._selection=t,this._dragging=s;var n=this,a={create:function(l){var T=p.getDefaultLayer(),O;O=l.frame=(0,_.Ue)("rect"),(0,_.Lj)(O,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,_.R3)(T,O)},update:function(l){var T=l.frame,O=l.bbox;(0,_.Lj)(T,{x:O.x,y:O.y,width:O.width,height:O.height})},remove:function(l){l.frame&&(0,_.Od)(l.frame)}};e.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),i.on("lasso.selection.end",function(l){var T=l.originalEvent.target;!l.hover&&!(T instanceof SVGElement)||i.once("lasso.selection.ended",function(){n.activateLasso(l.originalEvent,!0)})}),i.on("lasso.end",function(l){var T=u(l),O=r.filter(function(y){return y});n.select(O,T)}),i.on("lasso.start",function(l){var T=l.context;T.bbox=u(l),a.create(T)}),i.on("lasso.move",function(l){var T=l.context;T.bbox=u(l),a.update(T)}),i.on("lasso.cleanup",function(l){var T=l.context;a.remove(T)}),i.on("element.mousedown",1500,function(l){if((0,g.Dw)(l))return n.activateLasso(l.originalEvent),!0})}o.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],o.prototype.activateLasso=function(i,p){this._dragging.init(i,"lasso",{autoActivate:p,cursor:d,data:{context:{}}})},o.prototype.activateSelection=function(i){this._dragging.init(i,"lasso.selection",{trapClick:!1,cursor:d,data:{context:{}}})},o.prototype.select=function(i,p){var s=(0,E.RH)(i,p);this._selection.select((0,c.VO)(s))},o.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},o.prototype.isActive=function(){var i=this._dragging.context();return i&&/^lasso/.test(i.prefix)};function u(i){var p={x:i.x-i.dx,y:i.y-i.dy},s={x:i.x,y:i.y},r;return p.x<=s.x&&p.y<s.y||p.x<s.x&&p.y<=s.y?r={x:p.x,y:p.y,width:s.x-p.x,height:s.y-p.y}:p.x>=s.x&&p.y<s.y||p.x>s.x&&p.y<=s.y?r={x:s.x,y:p.y,width:p.x-s.x,height:s.y-p.y}:p.x<=s.x&&p.y>s.y||p.x<s.x&&p.y>=s.y?r={x:p.x,y:s.y,width:s.x-p.x,height:p.y-s.y}:p.x>=s.x&&p.y>s.y||p.x>s.x&&p.y>=s.y?r={x:s.x,y:s.y,width:p.x-s.x,height:p.y-s.y}:r={x:s.x,y:s.y,width:0,height:0},r}},40549:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>i});var c=m(13203),E=m(2299),g=m(9012),_=250;function d(p,s){this._eventBus=p,this._dragging=s,this._tools=[],this._active=null}d.$inject=["eventBus","dragging"],d.prototype.registerTool=function(p,s){var r=this._tools;if(!s)throw new Error(`A tool has to be registered with it's "events"`);r.push(p),this.bindEvents(p,s)},d.prototype.isActive=function(p){return p&&this._active===p},d.prototype.length=function(p){return this._tools.length},d.prototype.setActive=function(p){var s=this._eventBus;this._active!==p&&(this._active=p,s.fire("tool-manager.update",{tool:p}))},d.prototype.bindEvents=function(p,s){var r=this._eventBus,t=this._dragging,e=[];r.on(s.tool+".init",function(n){var a=n.context;if(!a.reactivate&&this.isActive(p)){this.setActive(null),t.cancel();return}this.setActive(p)},this),(0,E.Ed)(s,function(n){e.push(n+".ended"),e.push(n+".canceled")}),r.on(e,_,function(n){var a=n.originalEvent;!this._active||a&&(0,g.oq)(a.target,'.group[data-group="tools"]')||this.setActive(null)},this)};const o={__depends__:[c.Z],__init__:["toolManager"],toolManager:["type",d]};var u=m(43801);const i={__depends__:[o],__init__:["lassoTool"],lassoTool:["type",u.Z]}},8644:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>M});var c=m(2299),E=m(83962);function g(f,x){this._modeling=f,this._canvas=x}g.$inject=["modeling","canvas"],g.prototype.preExecute=function(f){var x=this._modeling,h=f.elements,v=f.alignment;(0,c.Ed)(h,function(C){var P={x:0,y:0};v.left?P.x=v.left-C.x:v.right?P.x=v.right-C.width-C.x:v.center?P.x=v.center-Math.round(C.width/2)-C.x:v.top?P.y=v.top-C.y:v.bottom?P.y=v.bottom-C.height-C.y:v.middle&&(P.y=v.middle-Math.round(C.height/2)-C.y),x.moveElements([C],P,C.parent)})},g.prototype.postExecute=function(f){};function _(f){this._modeling=f}_.$inject=["modeling"],_.prototype.preExecute=function(f){var x=f.source;if(!x)throw new Error("source required");var h=f.target||x.parent,v=f.shape;v=f.shape=this._modeling.createShape(v,f.position,h,{attach:f.attach}),f.shape=v},_.prototype.postExecute=function(f){var x=f.connectionParent||f.shape.parent;d(f.source,f.shape)||this._modeling.connect(f.source,f.shape,f.connection,x)};function d(f,x){return(0,c.G)(f.outgoing,function(h){return h.target===x})}function o(f,x){this._canvas=f,this._layouter=x}o.$inject=["canvas","layouter"],o.prototype.execute=function(f){var x=f.connection,h=f.source,v=f.target,C=f.parent,P=f.parentIndex,j=f.hints;if(!h||!v)throw new Error("source and target required");if(!C)throw new Error("parent required");return x.source=h,x.target=v,x.waypoints||(x.waypoints=this._layouter.layoutConnection(x,j)),this._canvas.addConnection(x,C,P),x},o.prototype.revert=function(f){var x=f.connection;return this._canvas.removeConnection(x),x.source=null,x.target=null,x};var u=m(27879),i=m(86534),p=m(28158),s=m(91499);function r(f,x){this._canvas=f,this._modeling=x}r.$inject=["canvas","modeling"],r.prototype.execute=function(f){var x=f.connection,h=x.parent;return f.parent=h,f.parentIndex=(0,s.cq)(h.children,x),f.source=x.source,f.target=x.target,this._canvas.removeConnection(x),x.source=null,x.target=null,x},r.prototype.revert=function(f){var x=f.connection,h=f.parent,v=f.parentIndex;return x.source=f.source,x.target=f.target,(0,s.IH)(h.children,x,v),this._canvas.addConnection(x,h),x};function t(f,x){this._modeling=f,this._elementRegistry=x}t.$inject=["modeling","elementRegistry"],t.prototype.postExecute=function(f){var x=this._modeling,h=this._elementRegistry,v=f.elements;(0,c.Ed)(v,function(C){!h.get(C.id)||(C.waypoints?x.removeConnection(C):x.removeShape(C))})};var e=m(27695);function n(f){this._modeling=f}n.$inject=["modeling"];var a={x:"y",y:"x"};n.prototype.preExecute=function(f){var x=this._modeling,h=f.groups,v=f.axis,C=f.dimension;function P(w,k){w.range.min=Math.min(k[v],w.range.min),w.range.max=Math.max(k[v]+k[C],w.range.max)}function j(w){return w[v]+w[C]/2}function b(w){return w.length-1}function F(w){return w.max-w.min}function V(w,k){var J={y:0};J[v]=w-j(k),J[v]&&(J[a[v]]=0,x.moveElements([k],J,k.parent))}var X=h[0],q=b(h),nt=h[q],W,z,K=0;(0,c.Ed)(h,function(w,k){var J,ot,st;if(w.elements.length<2){k&&k!==h.length-1&&(P(w,w.elements[0]),K+=F(w.range));return}J=(0,c.MR)(w.elements,v),ot=J[0],k===q&&(ot=J[b(J)]),st=j(ot),w.range=null,(0,c.Ed)(J,function(ut){if(V(st,ut),w.range===null){w.range={min:ut[v],max:ut[v]+ut[C]};return}P(w,ut)}),k&&k!==h.length-1&&(K+=F(w.range))}),z=Math.abs(nt.range.min-X.range.max),W=Math.round((z-K)/(h.length-1)),!(W<h.length-1)&&(0,c.Ed)(h,function(w,k){var J={},ot;w===X||w===nt||(ot=h[k-1],w.range.max=0,(0,c.Ed)(w.elements,function(st,ut){J[a[v]]=0,J[v]=ot.range.max-st[v]+W,w.range.min!==st[v]&&(J[v]+=st[v]-w.range.min),J[v]&&x.moveElements([st],J,st.parent),w.range.max=Math.max(st[v]+st[C],ut?w.range.max:0)}))})},n.prototype.postExecute=function(f){};function l(f,x){this._layouter=f,this._canvas=x}l.$inject=["layouter","canvas"],l.prototype.execute=function(f){var x=f.connection,h=x.waypoints;return(0,c.f0)(f,{oldWaypoints:h}),x.waypoints=this._layouter.layoutConnection(x,f.hints),x},l.prototype.revert=function(f){var x=f.connection;return x.waypoints=f.oldWaypoints,x};function T(){}T.prototype.execute=function(f){var x=f.connection,h=f.delta,v=f.newParent||x.parent,C=f.newParentIndex,P=x.parent;return f.oldParent=P,f.oldParentIndex=(0,s.Od)(P.children,x),(0,s.IH)(v.children,x,C),x.parent=v,(0,c.Ed)(x.waypoints,function(j){j.x+=h.x,j.y+=h.y,j.original&&(j.original.x+=h.x,j.original.y+=h.y)}),x},T.prototype.revert=function(f){var x=f.connection,h=x.parent,v=f.oldParent,C=f.oldParentIndex,P=f.delta;return(0,s.Od)(h.children,x),(0,s.IH)(v.children,x,C),x.parent=v,(0,c.Ed)(x.waypoints,function(j){j.x-=P.x,j.y-=P.y,j.original&&(j.original.x-=P.x,j.original.y-=P.y)}),x};var O=m(60415),y=m(78542),S=m(39229),L=m(37227);function D(f,x){this._modeling=f,this._rules=x}D.$inject=["modeling","rules"],D.prototype.preExecute=function(f){var x=this,h=this._modeling,v=this._rules,C=f.oldShape,P=f.newData,j=f.hints||{},b;function F(z,K,w){return v.allowed("connection.reconnect",{connection:w,source:z,target:K})}var V={x:P.x,y:P.y},X={x:C.x,y:C.y,width:C.width,height:C.height};b=f.newShape=f.newShape||x.createShape(P,V,C.parent,j),C.host&&h.updateAttachment(b,C.host);var q;j.moveChildren!==!1&&(q=C.children.slice(),h.moveElements(q,{x:0,y:0},b,j));var nt=C.incoming.slice(),W=C.outgoing.slice();(0,c.Ed)(nt,function(z){var K=z.source,w=F(K,b,z);w&&x.reconnectEnd(z,b,(0,L.Qd)(z,b,X),j)}),(0,c.Ed)(W,function(z){var K=z.target,w=F(b,K,z);w&&x.reconnectStart(z,b,(0,L.SL)(z,b,X),j)})},D.prototype.postExecute=function(f){var x=f.oldShape;this._modeling.removeShape(x)},D.prototype.execute=function(f){},D.prototype.revert=function(f){},D.prototype.createShape=function(f,x,h,v){return this._modeling.createShape(f,x,h,v)},D.prototype.reconnectStart=function(f,x,h,v){this._modeling.reconnectStart(f,x,h,v)},D.prototype.reconnectEnd=function(f,x,h,v){this._modeling.reconnectEnd(f,x,h,v)};var I=m(77010),U=m(64053);function A(f){this._modeling=f}A.$inject=["modeling"],A.prototype.execute=function(f){var x=f.shape,h=x.children;f.oldChildrenVisibility=N(h),x.collapsed=!x.collapsed;var v=Y(h,x.collapsed);return[x].concat(v)},A.prototype.revert=function(f){var x=f.shape,h=f.oldChildrenVisibility,v=x.children,C=Q(v,h);return x.collapsed=!x.collapsed,[x].concat(C)};function N(f){var x={};return(0,c.Ed)(f,function(h){x[h.id]=h.hidden,h.children&&(x=(0,c.f0)({},x,N(h.children)))}),x}function Y(f,x){var h=[];return(0,c.Ed)(f,function(v){v.hidden=x,h=h.concat(v),v.children&&(h=h.concat(Y(v.children,v.collapsed||x)))}),h}function Q(f,x){var h=[];return(0,c.Ed)(f,function(v){v.hidden=x[v.id],h=h.concat(v),v.children&&(h=h.concat(Q(v.children,x)))}),h}function it(f){this._modeling=f}it.$inject=["modeling"],it.prototype.execute=function(f){var x=f.shape,h=f.newHost,v=x.host;return f.oldHost=v,f.attacherIdx=tt(v,x),$(h,x),x.host=h,x},it.prototype.revert=function(f){var x=f.shape,h=f.newHost,v=f.oldHost,C=f.attacherIdx;return x.host=v,tt(h,x),$(v,x,C),x};function tt(f,x){return(0,s.Od)(f&&f.attachers,x)}function $(f,x,h){if(!!f){var v=f.attachers;v||(f.attachers=v=[]),(0,s.IH)(v,x,h)}}function H(){}H.prototype.execute=function(f){var x=f.connection,h=f.newWaypoints;return f.oldWaypoints=x.waypoints,x.waypoints=h,x},H.prototype.revert=function(f){var x=f.connection,h=f.oldWaypoints;return x.waypoints=h,x};function M(f,x,h){this._eventBus=f,this._elementFactory=x,this._commandStack=h;var v=this;f.on("diagram.init",function(){v.registerHandlers(h)})}M.$inject=["eventBus","elementFactory","commandStack"],M.prototype.getHandlers=function(){return{"shape.append":_,"shape.create":p.Z,"shape.delete":e.Z,"shape.move":y.Z,"shape.resize":I.Z,"shape.replace":D,"shape.toggleCollapse":A,spaceTool:U.Z,"label.create":i.Z,"connection.create":o,"connection.delete":r,"connection.move":T,"connection.layout":l,"connection.updateWaypoints":H,"connection.reconnect":S.Z,"elements.create":u.Z,"elements.move":O.Z,"elements.delete":t,"elements.distribute":n,"elements.align":g,"element.updateAttachment":it}},M.prototype.registerHandlers=function(f){(0,c.Ed)(this.getHandlers(),function(x,h){f.registerHandler(h,x)})},M.prototype.moveShape=function(f,x,h,v,C){typeof v=="object"&&(C=v,v=null);var P={shape:f,delta:x,newParent:h,newParentIndex:v,hints:C||{}};this._commandStack.execute("shape.move",P)},M.prototype.updateAttachment=function(f,x){var h={shape:f,newHost:x};this._commandStack.execute("element.updateAttachment",h)},M.prototype.moveElements=function(f,x,h,v){v=v||{};var C=v.attach,P=h,j;C===!0?(j=h,P=h.parent):C===!1&&(j=null);var b={shapes:f,delta:x,newParent:P,newHost:j,hints:v};this._commandStack.execute("elements.move",b)},M.prototype.moveConnection=function(f,x,h,v,C){typeof v=="object"&&(C=v,v=void 0);var P={connection:f,delta:x,newParent:h,newParentIndex:v,hints:C||{}};this._commandStack.execute("connection.move",P)},M.prototype.layoutConnection=function(f,x){var h={connection:f,hints:x||{}};this._commandStack.execute("connection.layout",h)},M.prototype.createConnection=function(f,x,h,v,C,P){typeof h=="object"&&(P=C,C=v,v=h,h=void 0),v=this._create("connection",v);var j={source:f,target:x,parent:C,parentIndex:h,connection:v,hints:P};return this._commandStack.execute("connection.create",j),j.connection},M.prototype.createShape=function(f,x,h,v,C){typeof v!="number"&&(C=v,v=void 0),C=C||{};var P=C.attach,j,b;f=this._create("shape",f),P?(j=h.parent,b=h):j=h;var F={position:x,shape:f,parent:j,parentIndex:v,host:b,hints:C};return this._commandStack.execute("shape.create",F),F.shape},M.prototype.createElements=function(f,x,h,v,C){(0,c.kJ)(f)||(f=[f]),typeof v!="number"&&(C=v,v=void 0),C=C||{};var P={position:x,elements:f,parent:h,parentIndex:v,hints:C};return this._commandStack.execute("elements.create",P),P.elements},M.prototype.createLabel=function(f,x,h,v){h=this._create("label",h);var C={labelTarget:f,position:x,parent:v||f.parent,shape:h};return this._commandStack.execute("label.create",C),C.shape},M.prototype.appendShape=function(f,x,h,v,C){C=C||{},x=this._create("shape",x);var P={source:f,position:h,target:v,shape:x,connection:C.connection,connectionParent:C.connectionParent,attach:C.attach};return this._commandStack.execute("shape.append",P),P.shape},M.prototype.removeElements=function(f){var x={elements:f};this._commandStack.execute("elements.delete",x)},M.prototype.distributeElements=function(f,x,h){var v={groups:f,axis:x,dimension:h};this._commandStack.execute("elements.distribute",v)},M.prototype.removeShape=function(f,x){var h={shape:f,hints:x||{}};this._commandStack.execute("shape.delete",h)},M.prototype.removeConnection=function(f,x){var h={connection:f,hints:x||{}};this._commandStack.execute("connection.delete",h)},M.prototype.replaceShape=function(f,x,h){var v={oldShape:f,newData:x,hints:h||{}};return this._commandStack.execute("shape.replace",v),v.newShape},M.prototype.alignElements=function(f,x){var h={elements:f,alignment:x};this._commandStack.execute("elements.align",h)},M.prototype.resizeShape=function(f,x,h,v){var C={shape:f,newBounds:x,minBounds:h,hints:v};this._commandStack.execute("shape.resize",C)},M.prototype.createSpace=function(f,x,h,v,C){var P={delta:h,direction:v,movingShapes:f,resizingShapes:x,start:C};this._commandStack.execute("spaceTool",P)},M.prototype.updateWaypoints=function(f,x,h){var v={connection:f,newWaypoints:x,hints:h||{}};this._commandStack.execute("connection.updateWaypoints",v)},M.prototype.reconnect=function(f,x,h,v,C){var P={connection:f,newSource:x,newTarget:h,dockingOrPoints:v,hints:C||{}};this._commandStack.execute("connection.reconnect",P)},M.prototype.reconnectStart=function(f,x,h,v){v||(v={}),this.reconnect(f,x,f.target,h,(0,c.f0)(v,{docking:"source"}))},M.prototype.reconnectEnd=function(f,x,h,v){v||(v={}),this.reconnect(f,f.source,x,h,(0,c.f0)(v,{docking:"target"}))},M.prototype.connect=function(f,x,h,v){return this.createConnection(f,x,h||{},f.parent,v)},M.prototype._create=function(f,x){return x instanceof E.XY?x:this._elementFactory.create(f,x)},M.prototype.toggleCollapse=function(f,x){var h={shape:f,hints:x||{}};this._commandStack.execute("shape.toggleCollapse",h)}},27879:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var c=m(2299),E=m(64960),g=Math.round;function _(o){this._modeling=o}_.$inject=["modeling"],_.prototype.preExecute=function(o){var u=o.elements,i=o.parent,p=o.parentIndex,s=o.position,r=o.hints,t=this._modeling;(0,c.Ed)(u,function(T){(0,c.hj)(T.x)||(T.x=0),(0,c.hj)(T.y)||(T.y=0)});var e=(0,E.jY)(u);(0,c.Ed)(u,function(T){d(T)&&(T.waypoints=(0,c.UI)(T.waypoints,function(O){return{x:O.x-e.x-g(e.width/2)+s.x,y:O.y-e.y-g(e.height/2)+s.y}})),(0,c.f0)(T,{x:T.x-e.x-g(e.width/2)+s.x,y:T.y-e.y-g(e.height/2)+s.y})});var n=(0,E.cd)(u),a={},l=this;(0,c.Ed)(u,function(T){if(d(T)){a[T.id]=(0,c.hj)(p)?t.createConnection(a[T.source.id],a[T.target.id],p,T,T.parent||i,r):t.createConnection(a[T.source.id],a[T.target.id],T,T.parent||i,r);return}var O=(0,c.f0)({},r);n.indexOf(T)===-1&&(O.autoResize=!1),a[T.id]=(0,c.hj)(p)?t.createShape(T,(0,c.ei)(T,["x","y","width","height"]),l.getParent(T,o),p,O):t.createShape(T,(0,c.ei)(T,["x","y","width","height"]),l.getParent(T,o),O)}),o.elements=(0,c.VO)(a)},_.prototype.getParent=function(o,u){return o.parent||u.parent};function d(o){return!!o.waypoints}},86534:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var c=m(59879),E=m.n(c),g=m(28158);function _(i){g.Z.call(this,i)}E()(_,g.Z),_.$inject=["canvas"];var d=g.Z.prototype.execute;_.prototype.execute=function(i){var p=i.shape;return u(p),p.labelTarget=i.labelTarget,d.call(this,i)};var o=g.Z.prototype.revert;_.prototype.revert=function(i){return i.shape.labelTarget=null,o.call(this,i)};function u(i){["width","height"].forEach(function(p){typeof i[p]>"u"&&(i[p]=0)})}},28158:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(2299),E=Math.round;function g(_){this._canvas=_}g.$inject=["canvas"],g.prototype.execute=function(_){var d=_.shape,o=_.position,u=_.parent,i=_.parentIndex;if(!u)throw new Error("parent required");if(!o)throw new Error("position required");return o.width!==void 0?(0,c.f0)(d,o):(0,c.f0)(d,{x:o.x-E(d.width/2),y:o.y-E(d.height/2)}),this._canvas.addShape(d,u,i),d},g.prototype.revert=function(_){var d=_.shape;return this._canvas.removeShape(d),d}},27695:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(91499),E=m(80352);function g(d,o){this._canvas=d,this._modeling=o}g.$inject=["canvas","modeling"],g.prototype.preExecute=function(d){var o=this._modeling,u=d.shape;(0,E.r)(u.incoming,function(i){o.removeConnection(i,{nested:!0})}),(0,E.r)(u.outgoing,function(i){o.removeConnection(i,{nested:!0})}),(0,E.r)(u.children,function(i){_(i)?o.removeConnection(i,{nested:!0}):o.removeShape(i,{nested:!0})})},g.prototype.execute=function(d){var o=this._canvas,u=d.shape,i=u.parent;return d.oldParent=i,d.oldParentIndex=(0,c.cq)(i.children,u),o.removeShape(u),u},g.prototype.revert=function(d){var o=this._canvas,u=d.shape,i=d.oldParent,p=d.oldParentIndex;return(0,c.IH)(i.children,u,p),o.addShape(u,i),u};function _(d){return d.waypoints}},60415:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(64482);function E(g){this._helper=new c.Z(g)}E.$inject=["modeling"],E.prototype.preExecute=function(g){g.closure=this._helper.getClosure(g.shapes)},E.prototype.postExecute=function(g){var _=g.hints,d;_&&_.primaryShape&&(d=_.primaryShape,_.oldParent=d.parent),this._helper.moveClosure(g.closure,g.delta,g.newParent,g.newHost,d)}},78542:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>d});var c=m(2299),E=m(64482),g=m(91499),_=m(37227);function d(o){this._modeling=o,this._helper=new E.Z(o)}d.$inject=["modeling"],d.prototype.execute=function(o){var u=o.shape,i=o.delta,p=o.newParent||u.parent,s=o.newParentIndex,r=u.parent;return o.oldBounds=(0,c.ei)(u,["x","y","width","height"]),o.oldParent=r,o.oldParentIndex=(0,g.Od)(r.children,u),(0,g.IH)(p.children,u,s),(0,c.f0)(u,{parent:p,x:u.x+i.x,y:u.y+i.y}),u},d.prototype.postExecute=function(o){var u=o.shape,i=o.delta,p=o.hints,s=this._modeling;p.layout!==!1&&((0,c.Ed)(u.incoming,function(r){s.layoutConnection(r,{connectionEnd:(0,_.h4)(r,u,i)})}),(0,c.Ed)(u.outgoing,function(r){s.layoutConnection(r,{connectionStart:(0,_.H9)(r,u,i)})})),p.recurse!==!1&&this.moveChildren(o)},d.prototype.revert=function(o){var u=o.shape,i=o.oldParent,p=o.oldParentIndex,s=o.delta;return(0,g.IH)(i.children,u,p),(0,c.f0)(u,{parent:i,x:u.x-s.x,y:u.y-s.y}),u},d.prototype.moveChildren=function(o){var u=o.delta,i=o.shape;this._helper.moveRecursive(i.children,u,null)},d.prototype.getNewParent=function(o){return o.newParent||o.shape.parent}},39229:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(2299);function E(_){this._modeling=_}E.$inject=["modeling"],E.prototype.execute=function(_){var d=_.newSource,o=_.newTarget,u=_.connection,i=_.dockingOrPoints;if(!d&&!o)throw new Error("newSource or newTarget required");return(0,c.kJ)(i)&&(_.oldWaypoints=u.waypoints,u.waypoints=i),d&&(_.oldSource=u.source,u.source=d),o&&(_.oldTarget=u.target,u.target=o),u},E.prototype.postExecute=function(_){var d=_.connection,o=_.newSource,u=_.newTarget,i=_.dockingOrPoints,p=_.hints||{};if(p.layoutConnection!==!1){var s={};o&&(!u||p.docking==="source")&&(s.connectionStart=g((0,c.kJ)(i)?i[0]:i)),u&&(!o||p.docking==="target")&&(s.connectionEnd=g((0,c.kJ)(i)?i[i.length-1]:i)),p.newWaypoints&&(s.waypoints=p.newWaypoints),this._modeling.layoutConnection(d,s)}},E.prototype.revert=function(_){var d=_.oldSource,o=_.oldTarget,u=_.oldWaypoints,i=_.connection;return d&&(i.source=d),o&&(i.target=o),u&&(i.waypoints=u),i};function g(_){return _.original||_}},77010:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(2299),E=m(37227);function g(_){this._modeling=_}g.$inject=["modeling"],g.prototype.execute=function(_){var d=_.shape,o=_.newBounds,u=_.minBounds;if(o.x===void 0||o.y===void 0||o.width===void 0||o.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(u&&(o.width<u.width||o.height<u.height))throw new Error("width and height cannot be less than minimum height and width");if(!u&&o.width<10||o.height<10)throw new Error("width and height cannot be less than 10px");return _.oldBounds={width:d.width,height:d.height,x:d.x,y:d.y},(0,c.f0)(d,{width:o.width,height:o.height,x:o.x,y:o.y}),d},g.prototype.postExecute=function(_){var d=this._modeling,o=_.shape,u=_.oldBounds,i=_.hints||{};i.layout!==!1&&((0,c.Ed)(o.incoming,function(p){d.layoutConnection(p,{connectionEnd:(0,E.Qd)(p,o,u)})}),(0,c.Ed)(o.outgoing,function(p){d.layoutConnection(p,{connectionStart:(0,E.SL)(p,o,u)})}))},g.prototype.revert=function(_){var d=_.shape,o=_.oldBounds;return(0,c.f0)(d,{width:o.width,height:o.height,x:o.x,y:o.y}),d}},64053:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var c=m(2299),E=m(26737);function g(i){this._modeling=i}g.$inject=["modeling"],g.prototype.preExecute=function(i){var p=i.delta,s=i.direction,r=i.movingShapes,t=i.resizingShapes,e=i.start;this.moveShapes(r,p),this.resizeShapes(t,p,s),this.updateConnectionWaypoints((0,E.wb)(r,t),p,s,e,r,t)},g.prototype.execute=function(){},g.prototype.revert=function(){},g.prototype.moveShapes=function(i,p){var s=this;(0,c.Ed)(i,function(r){s._modeling.moveShape(r,p,null,{autoResize:!1,layout:!1,recurse:!1})})},g.prototype.resizeShapes=function(i,p,s){var r=this;(0,c.Ed)(i,function(t){var e=(0,E.zY)(t,s,p);r._modeling.resizeShape(t,e,null,{attachSupport:!1,autoResize:!1,layout:!1})})},g.prototype.updateConnectionWaypoints=function(i,p,s,r,t,e){var n=this;(0,c.Ed)(i,function(a){var l=a.source,T=a.target,O=d(a),y=o(s);O=(0,c.UI)(O,function(S,L){var D=L===0,I=L===O.length-1;return D&&!u(t.concat(e),l)||I&&!u(t.concat(e),T)||((S[y]>r&&/e|s/.test(s)||S[y]<r&&/n|w/.test(s))&&(S[y]=S[y]+p[y]),S.original&&(S.original[y]>r&&/e|s/.test(s)||S.original[y]<r&&/n|w/.test(s))&&(S.original[y]=S.original[y]+p[y])),S}),n._modeling.updateWaypoints(a,O,{labelBehavior:!1})})};function _(i){return(0,c.f0)({},i)}function d(i){return(0,c.UI)(i.waypoints,function(p){return p=_(p),p.original&&(p.original=_(p.original)),p})}function o(i){switch(i){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function u(i,p){return i.indexOf(p)!==-1}},37227:(rt,G,m)=>{"use strict";m.d(G,{H9:()=>u,h4:()=>i,SL:()=>d,Qd:()=>o});var c=m(86463),E=m(43273);function g(r,t,e){var n=(0,E.b)(t),a=(0,E.b)(e),l=(0,E.p)(r,n),T={x:l.x*(e.width/t.width),y:l.y*(e.height/t.height)};return(0,c.ex)({x:a.x+T.x,y:a.y+T.y})}function _(r,t,e){var n=center(r),a=center(t),l=center(e),T=delta(r,n),O=delta(n,a),y={x:O.x*(e.width/t.width),y:O.y*(e.height/t.height)},S={x:l.x+y.x,y:l.y+y.y};return roundPoint({x:S.x+T.x-r.x,y:S.y+T.y-r.y})}function d(r,t,e){var n=s(r),a=n[0];return g(a.original||a,e,t)}function o(r,t,e){var n=s(r),a=n[n.length-1];return g(a.original||a,e,t)}function u(r,t,e){return d(r,t,p(t,e))}function i(r,t,e){return o(r,t,p(t,e))}function p(r,t){return{x:r.x-t.x,y:r.y-t.y,width:r.width,height:r.height}}function s(r){var t=r.waypoints;if(!t.length)throw new Error("connection#"+r.id+": no waypoints");return t}},64482:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>d});var c=m(2299),E=m(37227),g=m(64960);function _(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}_.prototype.add=function(o,u){return this.addAll([o],u)},_.prototype.addAll=function(o,u){var i=(0,g.vA)(o,!!u,this);return(0,c.f0)(this,i),this};function d(o){this._modeling=o}d.prototype.moveRecursive=function(o,u,i){return o?this.moveClosure(this.getClosure(o),u,i):[]},d.prototype.moveClosure=function(o,u,i,p,s){var r=this._modeling,t=o.allShapes,e=o.allConnections,n=o.enclosedConnections,a=o.topLevel,l=!1;s&&s.parent===i&&(l=!0),(0,c.Ed)(t,function(T){r.moveShape(T,u,a[T.id]&&!l&&i,{recurse:!1,layout:!1})}),(0,c.Ed)(e,function(T){var O=!!t[T.source.id],y=!!t[T.target.id];n[T.id]&&O&&y?r.moveConnection(T,u,a[T.id]&&!l&&i):r.layoutConnection(T,{connectionStart:O&&(0,E.H9)(T,T.source,u),connectionEnd:y&&(0,E.h4)(T,T.target,u),shapeMoving:!0})})},d.prototype.getClosure=function(o){return new _().addAll(o,!0)}},88848:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>i});var c=m(26019);const E={commandStack:["type",c.Z]};var g=m(98192),_=m(42226),d=m(67989),o=m(8644),u=m(279);const i={__depends__:[E,g.Z,_.Z,d.Z],__init__:["modeling"],modeling:["type",o.Z],layouter:["type",u.Z]}},23430:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>it});var c=m(85637),E=m(42226),g=m(4828),_=m(67989),d=m(13203),o=m(10009),u=m(2299),i=m(46534),p=500,s=1250,r=1500,t=Math.round;function e(tt){return{x:tt.x+t(tt.width/2),y:tt.y+t(tt.height/2)}}function n(tt,$,H,M,f){function x(v,C,P,j){return f.allowed("elements.move",{shapes:v,delta:C,position:P,target:j})}tt.on("shape.move.start",r,function(v){var C=v.context,P=v.shape,j=M.get().slice();j.indexOf(P)===-1&&(j=[P]),j=a(j),(0,u.f0)(C,{shapes:j,validatedShapes:j,shape:P})}),tt.on("shape.move.start",s,function(v){var C=v.context,P=C.validatedShapes,j;if(j=C.canExecute=x(P),!j)return!1}),tt.on("shape.move.move",p,function(v){var C=v.context,P=C.validatedShapes,j=v.hover,b={x:v.dx,y:v.dy},F={x:v.x,y:v.y},V;if(V=x(P,b,F,j),C.delta=b,C.canExecute=V,V===null){C.target=null;return}C.target=j}),tt.on("shape.move.end",function(v){var C=v.context,P=C.delta,j=C.canExecute,b=j==="attach",F=C.shapes;if(j===!1)return!1;P.x=t(P.x),P.y=t(P.y),!(P.x===0&&P.y===0)&&H.moveElements(F,P,C.target,{primaryShape:C.shape,attach:b})}),tt.on("element.mousedown",function(v){var C=(0,i.Ku)(v);if(!C)throw new Error("must supply DOM mousedown event");return h(C,v.element)});function h(v,C,P,j){if((0,u.Kn)(P)&&(j=P,P=!1),!(C.waypoints||!C.parent)){var b=e(C);return $.init(v,b,"shape.move",{cursor:"grabbing",autoActivate:P,data:{shape:C,context:j||{}}}),!0}}this.start=h}n.$inject=["eventBus","dragging","modeling","selection","rules"];function a(tt){var $=(0,u.vM)(tt,"id");return(0,u.hX)(tt,function(H){for(;H=H.parent;)if($[H.id])return!1;return!0})}var l=m(64960),T=m(21537),O=m(18872),y=499,S="djs-dragging",L="drop-ok",D="drop-not-ok",I="new-parent",U="attach-ok";function A(tt,$,H,M){function f(C){var P=x(C),j=N(P);return j}function x(C){var P=(0,l.PB)(C,!0),j=(0,u.UI)(P,function(b){return(b.incoming||[]).concat(b.outgoing||[])});return(0,u.xH)(P.concat(j))}function h(C,P){[U,L,D,I].forEach(function(j){j===P?$.addMarker(C,j):$.removeMarker(C,j)})}function v(C,P,j){M.addDragger(P,C.dragGroup),j&&$.addMarker(P,S),C.allDraggedElements?C.allDraggedElements.push(P):C.allDraggedElements=[P]}tt.on("shape.move.start",y,function(C){var P=C.context,j=P.shapes,b=P.allDraggedElements,F=f(j);if(!P.dragGroup){var V=(0,T.Ue)("g");(0,T.Lj)(V,H.cls("djs-drag-group",["no-events"]));var X=$.getDefaultLayer();(0,T.R3)(X,V),P.dragGroup=V}F.forEach(function(q){M.addDragger(q,P.dragGroup)}),b?b=(0,u.xH)([b,x(j)]):b=x(j),(0,u.Ed)(b,function(q){$.addMarker(q,S)}),P.allDraggedElements=b,P.differentParents=Y(j)}),tt.on("shape.move.move",y,function(C){var P=C.context,j=P.dragGroup,b=P.target,F=P.shape.parent,V=P.canExecute;b&&(V==="attach"?h(b,U):P.canExecute&&b&&b.id!==F.id?h(b,I):h(b,P.canExecute?L:D)),(0,O.Iu)(j,C.dx,C.dy)}),tt.on(["shape.move.out","shape.move.cleanup"],function(C){var P=C.context,j=P.target;j&&h(j,null)}),tt.on("shape.move.cleanup",function(C){var P=C.context,j=P.allDraggedElements,b=P.dragGroup;(0,u.Ed)(j,function(F){$.removeMarker(F,S)}),b&&(0,T.Od)(b)}),this.makeDraggable=v}A.$inject=["eventBus","canvas","styles","previewSupport"];function N(tt){var $=(0,u.hX)(tt,function(H){return Q(H)?(0,u.sE)(tt,(0,u.KQ)({id:H.source.id}))&&(0,u.sE)(tt,(0,u.KQ)({id:H.target.id})):!0});return $}function Y(tt){return(0,u.dp)((0,u.vM)(tt,function($){return $.parent&&$.parent.id}))!==1}function Q(tt){return tt.waypoints}const it={__depends__:[c.Z,E.Z,g.Z,_.Z,d.Z,o.Z],__init__:["move","movePreview"],move:["type",n],movePreview:["type",A]}},85766:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var c=m(59879),E=m.n(c),g=m(91658);function _(d){g.Z.call(this,d);var o=this;this.preExecute(["shape.create","connection.create"],function(u){var i=u.context,p=i.shape||i.connection,s=i.parent,r=o.getOrdering(p,s);r&&(r.parent!==void 0&&(i.parent=r.parent),i.parentIndex=r.index)}),this.preExecute(["shape.move","connection.move"],function(u){var i=u.context,p=i.shape||i.connection,s=i.newParent||p.parent,r=o.getOrdering(p,s);r&&(r.parent!==void 0&&(i.newParent=r.parent),i.newParentIndex=r.index)})}_.prototype.getOrdering=function(d,o){return null},E()(_,g.Z)},4828:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var c=m(64960),E=m(21537),g=m(9012),_=m(2299),d=500;function o(i,p,s){this.offset=6;var r=p.cls("djs-outline",["no-fill"]),t=this;function e(n,a){var l=(0,E.Ue)("rect");return(0,E.Lj)(l,(0,_.f0)({x:10,y:10,width:100,height:100},r)),(0,E.R3)(n,l),l}i.on(["shape.added","shape.changed"],d,function(n){var a=n.element,l=n.gfx,T=(0,g.IO)(".djs-outline",l);T||(T=e(l,a)),t.updateShapeOutline(T,a)}),i.on(["connection.added","connection.changed"],function(n){var a=n.element,l=n.gfx,T=(0,g.IO)(".djs-outline",l);T||(T=e(l,a)),t.updateConnectionOutline(T,a)})}o.prototype.updateShapeOutline=function(i,p){(0,E.Lj)(i,{x:-this.offset,y:-this.offset,width:p.width+this.offset*2,height:p.height+this.offset*2})},o.prototype.updateConnectionOutline=function(i,p){var s=(0,c.jY)(p);(0,E.Lj)(i,{x:s.x-this.offset,y:s.y-this.offset,width:s.width+this.offset*2,height:s.height+this.offset*2})},o.$inject=["eventBus","styles","elementRegistry"];const u={__init__:["outline"],outline:["type",o]}},42890:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var c=m(2299),E=m(9012),g=".djs-palette-toggle",_=".entry",d=g+", "+_,o="open",u="two-column",i=1e3;function p(t,e){this._eventBus=t,this._canvas=e;var n=this;t.on("tool-manager.update",function(a){var l=a.tool;n.updateToolHighlight(l)}),t.on("i18n.changed",function(){n._update()}),t.on("diagram.init",function(){n._diagramInitialized=!0,n._rebuild()})}p.$inject=["eventBus","canvas"],p.prototype.registerProvider=function(t,e){e||(e=t,t=i),this._eventBus.on("palette.getProviders",t,function(n){n.providers.push(e)}),this._rebuild()},p.prototype.getEntries=function(){var t=this._getProviders();return t.reduce(r,{})},p.prototype._rebuild=function(){if(!!this._diagramInitialized){var t=this._getProviders();!t.length||(this._container||this._init(),this._update())}},p.prototype._init=function(){var t=this,e=this._eventBus,n=this._getParentContainer(),a=this._container=(0,E.H6)(p.HTML_MARKUP);n.appendChild(a),E.cl.bind(a,d,"click",function(l){var T=l.delegateTarget;if((0,E.wB)(T,g))return t.toggle();t.trigger("click",l)}),E.B.bind(a,"mousedown",function(l){l.stopPropagation()}),E.cl.bind(a,_,"dragstart",function(l){t.trigger("dragstart",l)}),e.on("canvas.resized",this._layoutChanged,this),e.fire("palette.create",{container:a})},p.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},p.prototype._toggleState=function(t){t=t||{};var e=this._getParentContainer(),n=this._container,a=this._eventBus,l,T=(0,E.Sh)(n);"twoColumn"in t?l=t.twoColumn:l=this._needsCollapse(e.clientHeight,this._entries||{}),T.toggle(u,l),"open"in t&&T.toggle(o,t.open),a.fire("palette.changed",{twoColumn:l,open:this.isOpen()})},p.prototype._update=function(){var t=(0,E.IO)(".djs-palette-entries",this._container),e=this._entries=this.getEntries();(0,E.ZH)(t),(0,c.Ed)(e,function(n,a){var l=n.group||"default",T=(0,E.IO)("[data-group="+l+"]",t);T||(T=(0,E.H6)('<div class="group" data-group="'+l+'"></div>'),t.appendChild(T));var O=n.html||(n.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),y=(0,E.H6)(O);T.appendChild(y),n.separator||((0,E.Lj)(y,"data-action",a),n.title&&(0,E.Lj)(y,"title",n.title),n.className&&s(y,n.className),n.imageUrl&&y.appendChild((0,E.H6)('<img src="'+n.imageUrl+'">')))}),this.open()},p.prototype.trigger=function(t,e,n){var a=this._entries,l,T,O,y=e.delegateTarget||e.target;if(!y)return e.preventDefault();l=a[(0,E.Lj)(y,"data-action")],l&&(T=l.action,O=e.originalEvent||e,(0,c.mf)(T)?t==="click"&&T(O,n):T[t]&&T[t](O,n),e.preventDefault())},p.prototype._layoutChanged=function(){this._toggleState({})},p.prototype._needsCollapse=function(t,e){var n=50,a=Object.keys(e).length*46;return t<a+n},p.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},p.prototype.open=function(){this._toggleState({open:!0})},p.prototype.toggle=function(t){this.isOpen()?this.close():this.open()},p.prototype.isActiveTool=function(t){return t&&this._activeTool===t},p.prototype.updateToolHighlight=function(t){var e,n;this._toolsContainer||(e=(0,E.IO)(".djs-palette-entries",this._container),this._toolsContainer=(0,E.IO)("[data-group=tools]",e)),n=this._toolsContainer,(0,c.Ed)(n.children,function(a){var l=a.getAttribute("data-action");if(!!l){var T=(0,E.Sh)(a);l=l.replace("-tool",""),T.contains("entry")&&l===t?T.add("highlighted-entry"):T.remove("highlighted-entry")}})},p.prototype.isOpen=function(){return(0,E.Sh)(this._container).has(o)},p.prototype._getParentContainer=function(){return this._canvas.getContainer()},p.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function s(t,e){var n=(0,E.Sh)(t),a=(0,c.kJ)(e)?e:e.split(/\s+/g);a.forEach(function(l){n.add(l)})}function r(t,e){var n=e.getPaletteEntries();return(0,c.mf)(n)?n(t):((0,c.Ed)(n,function(a,l){t[l]=a}),t)}},82032:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(42890);const E={__init__:["palette"],palette:["type",c.Z]}},41525:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>o});var c=m(2299),E=m(9012),g="data-id",_=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],d=1e3;function o(i,p,s){var r=(0,c.$K)(i&&i.scale)?i.scale:{min:1,max:1.5};this._config={scale:r},this._eventBus=p,this._canvas=s,this._providers={},this._current={}}o.$inject=["config.popupMenu","eventBus","canvas"],o.prototype.registerProvider=function(i,p,s){s||(s=p,p=d),this._eventBus.on("popupMenu.getProviders."+i,p,function(r){r.providers.push(s)})},o.prototype.isEmpty=function(i,p){if(!i)throw new Error("element parameter is missing");if(!p)throw new Error("providerId parameter is missing");var s=this._getProviders(p);if(!s)return!0;var r=this._getEntries(i,s),t=this._getHeaderEntries(i,s),e=(0,c.dp)(r)>0,n=t&&(0,c.dp)(t)>0;return!e&&!n},o.prototype.open=function(i,p,s){var r=this._getProviders(p);if(!i)throw new Error("Element is missing");if(!r||!r.length)throw new Error("No registered providers for: "+p);if(!s)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var t=this._current={className:p,element:i,position:s},e=this._getEntries(i,r),n=this._getHeaderEntries(i,r);t.entries=(0,c.f0)({},e,n),t.container=this._createContainer(),(0,c.dp)(n)&&t.container.appendChild(this._createEntries(n,"djs-popup-header")),(0,c.dp)(e)&&t.container.appendChild(this._createEntries(e,"djs-popup-body"));var a=this._canvas,l=a.getContainer();this._attachContainer(t.container,l,s.cursor),this._bindAutoClose()},o.prototype.close=function(){!this.isOpen()||(this._emit("close"),this._unbindAutoClose(),(0,E.Od)(this._current.container),this._current.container=null)},o.prototype.isOpen=function(){return!!this._current.container},o.prototype.trigger=function(i){i.preventDefault();var p=i.delegateTarget||i.target,s=(0,E.Lj)(p,g),r=this._getEntry(s);if(r.action)return r.action.call(null,i,r)},o.prototype._getProviders=function(i){var p=this._eventBus.createEvent({type:"popupMenu.getProviders."+i,providers:[]});return this._eventBus.fire(p),p.providers},o.prototype._getEntries=function(i,p){var s={};return(0,c.Ed)(p,function(r){if(!r.getPopupMenuEntries){(0,c.Ed)(r.getEntries(i),function(e){var n=e.id;if(!n)throw new Error("every entry must have the id property set");s[n]=(0,c.CE)(e,["id"])});return}var t=r.getPopupMenuEntries(i);(0,c.mf)(t)?s=t(s):(0,c.Ed)(t,function(e,n){s[n]=e})}),s},o.prototype._getHeaderEntries=function(i,p){var s={};return(0,c.Ed)(p,function(r){if(!r.getPopupMenuHeaderEntries){if(!r.getHeaderEntries)return;(0,c.Ed)(r.getHeaderEntries(i),function(e){var n=e.id;if(!n)throw new Error("every entry must have the id property set");s[n]=(0,c.CE)(e,["id"])});return}var t=r.getPopupMenuHeaderEntries(i);(0,c.mf)(t)?s=t(s):(0,c.Ed)(t,function(e,n){s[n]=e})}),s},o.prototype._getEntry=function(i){var p=this._current.entries[i];if(!p)throw new Error("entry not found");return p},o.prototype._emit=function(i){this._eventBus.fire("popupMenu."+i)},o.prototype._createContainer=function(){var i=(0,E.H6)('<div class="djs-popup">'),p=this._current.position,s=this._current.className;return(0,c.f0)(i.style,{position:"absolute",left:p.x+"px",top:p.y+"px",visibility:"hidden"}),(0,E.Sh)(i).add(s),i},o.prototype._attachContainer=function(i,p,s){var r=this;E.cl.bind(i,".entry","click",function(t){r.trigger(t)}),this._updateScale(i),p.appendChild(i),s&&this._assureIsInbounds(i,s)},o.prototype._updateScale=function(i){var p=this._canvas.zoom(),s=this._config.scale,r,t,e=p;s!==!0&&(s===!1?(r=1,t=1):(r=s.min,t=s.max),(0,c.$K)(r)&&p<r&&(e=r),(0,c.$K)(t)&&p>t&&(e=t)),u(i,"scale("+e+")")},o.prototype._assureIsInbounds=function(i,p){var s=this._canvas,r=s._container.getBoundingClientRect(),t=i.offsetLeft,e=i.offsetTop,n=i.scrollWidth,a=i.scrollHeight,l={},T,O,y={x:p.x-r.left,y:p.y-r.top};t+n>r.width&&(l.x=!0),e+a>r.height&&(l.y=!0),l.x&&l.y?(T=y.x-n+"px",O=y.y-a+"px"):l.x?(T=y.x-n+"px",O=y.y+"px"):l.y&&y.y<a?(T=y.x+"px",O=10+"px"):l.y&&(T=y.x+"px",O=y.y-a+"px"),(0,c.f0)(i.style,{left:T,top:O},{visibility:"visible","z-index":1e3})},o.prototype._createEntries=function(i,p){var s=(0,E.H6)("<div>"),r=this;return(0,E.Sh)(s).add(p),(0,c.Ed)(i,function(t,e){var n=r._createEntry(t,e);s.appendChild(n)}),s},o.prototype._createEntry=function(i,p){var s=(0,E.H6)("<div>"),r=(0,E.Sh)(s);if(r.add("entry"),i.className&&i.className.split(" ").forEach(function(e){r.add(e)}),(0,E.Lj)(s,g,p),i.label){var t=(0,E.H6)("<span>");t.textContent=i.label,s.appendChild(t)}return i.imageUrl&&s.appendChild((0,E.H6)('<img src="'+i.imageUrl+'" />')),i.active===!0&&r.add("active"),i.disabled===!0&&r.add("disabled"),i.title&&(s.title=i.title),s},o.prototype._bindAutoClose=function(){this._eventBus.once(_,this.close,this)},o.prototype._unbindAutoClose=function(){this._eventBus.off(_,this.close,this)};function u(i,p){i.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(s){i.style[s+"transform"]=p})}},42776:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(41525);const E={__init__:["popupMenu"],popupMenu:["type",c.Z]}},40222:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var c=m(2299),E=m(21537),g=m(9012),_=m(21202),d=["marker-start","marker-mid","marker-end"],o=["circle","ellipse","line","path","polygon","polyline","rect"];function u(t,e,n,a){this._elementRegistry=t,this._canvas=n,this._styles=a,this._clonedMarkers={};var l=this;e.on("drag.cleanup",function(){(0,c.Ed)(l._clonedMarkers,function(T){(0,E.Od)(T)}),l._clonedMarkers={}})}u.$inject=["elementRegistry","eventBus","canvas","styles"],u.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)},u.prototype.addDragger=function(t,e,n){n=n||this.getGfx(t);var a=(0,E.d9)(n),l=n.getBoundingClientRect();return this._cloneMarkers((0,_.s)(a)),(0,E.Lj)(a,this._styles.cls("djs-dragger",[],{x:l.top,y:l.left})),(0,E.R3)(e,a),a},u.prototype.addFrame=function(t,e){var n=(0,E.Ue)("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return(0,E.R3)(e,n),n},u.prototype._cloneMarkers=function(t){var e=this;if(t.childNodes)for(var n=0;n<t.childNodes.length;n++)e._cloneMarkers(t.childNodes[n]);!r(t)||d.forEach(function(a){if((0,E.Lj)(t,a)){var l=i(t,a,e._canvas.getContainer());e._cloneMarker(t,l,a)}})},u.prototype._cloneMarker=function(t,e,n){var a=e.id,l=this._clonedMarkers[a];if(!l){l=(0,E.d9)(e);var T=a+"-clone";l.id=T,(0,E.Sh)(l).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[a]=l;var O=(0,g.IO)("defs",this._canvas._svg);O||(O=(0,E.Ue)("defs"),(0,E.R3)(this._canvas._svg,O)),(0,E.R3)(O,l)}var y=s(this._clonedMarkers[a].id);(0,E.Lj)(t,n,y)};function i(t,e,n){var a=p((0,E.Lj)(t,e));return(0,g.IO)("marker#"+a,n||document)}function p(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function s(t){return"url(#"+t+")"}function r(t){return o.indexOf(t.nodeName)!==-1}},10009:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(40222);const E={__init__:["previewSupport"],previewSupport:["type",c.Z]}},85081:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>d,e:()=>u});var c=m(2299),E=m(29337),g=m(86463),_=10;function d(p,s,r,t){this._dragging=t,this._rules=s;var e=this;function n(T,O){var y=T.shape,S=T.direction,L=T.resizeConstraints,D;T.delta=O,D=(0,E.zY)(y,S,O),T.newBounds=(0,E.QG)(D,L),T.canExecute=e.canResize(T)}function a(T){var O=T.resizeConstraints,y=T.minBounds;O===void 0&&(y===void 0&&(y=e.computeMinResizeBox(T)),T.resizeConstraints={min:(0,g.JA)(y)})}function l(T){var O=T.shape,y=T.canExecute,S=T.newBounds;if(y){if(S=(0,g.aR)(S),!o(O,S))return;r.resizeShape(O,S)}}p.on("resize.start",function(T){a(T.context)}),p.on("resize.move",function(T){var O={x:T.dx,y:T.dy};n(T.context,O)}),p.on("resize.end",function(T){l(T.context)})}d.prototype.canResize=function(p){var s=this._rules,r=(0,c.ei)(p,["newBounds","shape","delta","direction"]);return s.allowed("shape.resize",r)},d.prototype.activate=function(p,s,r){var t=this._dragging,e,n;if(typeof r=="string"&&(r={direction:r}),e=(0,c.f0)({shape:s},r),n=e.direction,!n)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");t.init(p,u(s,n),"resize",{autoActivate:!0,cursor:i(n),data:{shape:s,context:e}})},d.prototype.computeMinResizeBox=function(p){var s=p.shape,r=p.direction,t,e;return t=p.minDimensions||{width:_,height:_},e=(0,E.gE)(s,p.childrenBoxPadding),(0,E.oN)(r,s,t,e)},d.$inject=["eventBus","rules","modeling","dragging"];function o(p,s){return p.x!==s.x||p.y!==s.y||p.width!==s.width||p.height!==s.height}function u(p,s){var r=(0,g.wS)(p),t=(0,g.JA)(p),e={x:r.x,y:r.y};return s.indexOf("n")!==-1?e.y=t.top:s.indexOf("s")!==-1&&(e.y=t.bottom),s.indexOf("e")!==-1?e.x=t.right:s.indexOf("w")!==-1&&(e.x=t.left),e}function i(p){var s="resize-";return p==="n"||p==="s"?s+"ns":p==="e"||p==="w"?s+"ew":p==="nw"||p==="se"?s+"nwse":s+"nesw"}},63343:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>t});var c=m(2299),E=m(21537),g=m(9012),_=m(98827),d=m(18872),o=m(85081),u=-6,i=4,p=20,s="djs-resizer",r=["n","w","s","e","nw","ne","se","sw"];function t(n,a,l,T){this._resize=T,this._canvas=a;var O=this;n.on("selection.changed",function(y){var S=y.newSelection;O.removeResizers(),S.length===1&&(0,c.Ed)(S,(0,c.ak)(O.addResizer,O))}),n.on("shape.changed",function(y){var S=y.element;l.isSelected(S)&&(O.removeResizers(),O.addResizer(S))})}t.prototype.makeDraggable=function(n,a,l){var T=this._resize;function O(y){(0,_.Id)(y)&&T.activate(y,n,l)}g.B.bind(a,"mousedown",O),g.B.bind(a,"touchstart",O)},t.prototype._createResizer=function(n,a,l,T){var O=this._getResizersParent(),y=e(T),S=(0,E.Ue)("g");(0,E.Sh)(S).add(s),(0,E.Sh)(S).add(s+"-"+n.id),(0,E.Sh)(S).add(s+"-"+T),(0,E.R3)(O,S);var L=(0,E.Ue)("rect");(0,E.Lj)(L,{x:-i/2+y.x,y:-i/2+y.y,width:i,height:i}),(0,E.Sh)(L).add(s+"-visual"),(0,E.R3)(S,L);var D=(0,E.Ue)("rect");return(0,E.Lj)(D,{x:-p/2+y.x,y:-p/2+y.y,width:p,height:p}),(0,E.Sh)(D).add(s+"-hit"),(0,E.R3)(S,D),(0,d.vs)(S,a,l),S},t.prototype.createResizer=function(n,a){var l=(0,o.e)(n,a),T=this._createResizer(n,l.x,l.y,a);this.makeDraggable(n,T,a)},t.prototype.addResizer=function(n){var a=this,l=this._resize;!l.canResize({shape:n})||(0,c.Ed)(r,function(T){a.createResizer(n,T)})},t.prototype.removeResizers=function(){var n=this._getResizersParent();(0,E.ZH)(n)},t.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},t.$inject=["eventBus","canvas","selection","resize"];function e(n){var a={x:0,y:0};return n.indexOf("e")!==-1?a.x=-u:n.indexOf("w")!==-1&&(a.x=u),n.indexOf("s")!==-1?a.y=-u:n.indexOf("n")!==-1&&(a.y=u),a}},76795:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>d});var c=m(21537),E="djs-resizing",g="resize-not-ok",_=500;function d(o,u,i){function p(r){var t=r.shape,e=r.newBounds,n=r.frame;n||(n=r.frame=i.addFrame(t,u.getDefaultLayer()),u.addMarker(t,E)),e.width>5&&(0,c.Lj)(n,{x:e.x,width:e.width}),e.height>5&&(0,c.Lj)(n,{y:e.y,height:e.height}),r.canExecute?(0,c.Sh)(n).remove(g):(0,c.Sh)(n).add(g)}function s(r){var t=r.shape,e=r.frame;e&&(0,c.Od)(r.frame),u.removeMarker(t,E)}o.on("resize.move",_,function(r){p(r.context)}),o.on("resize.cleanup",function(r){s(r.context)})}d.$inject=["eventBus","canvas","previewSupport"]},29337:(rt,G,m)=>{"use strict";m.d(G,{QG:()=>t,gE:()=>T,oN:()=>e,zY:()=>i});var c=m(2299),E=m(64960),g=m(86463),_=Math.max,d=Math.min,o=20;function u(O,y){return{top:O.top-y.top,right:O.right-y.right,bottom:O.bottom-y.bottom,left:O.left-y.left}}function i(O,y,S){var L=S.x,D=S.y,I={x:O.x,y:O.y,width:O.width,height:O.height};return y.indexOf("n")!==-1?(I.y=O.y+D,I.height=O.height-D):y.indexOf("s")!==-1&&(I.height=O.height+D),y.indexOf("e")!==-1?I.width=O.width+L:y.indexOf("w")!==-1&&(I.x=O.x+L,I.width=O.width-L),I}function p(O,y){return{x:O.x+(y.left||0),y:O.y+(y.top||0),width:O.width-(y.left||0)+(y.right||0),height:O.height-(y.top||0)+(y.bottom||0)}}function s(O,y,S){var L=O.width/y.width,D=O.height/y.height;return{x:Math.round(y.x+y.width/2)-Math.floor((O.x+O.width/2-S.x)/L),y:Math.round(y.y+y.height/2)-Math.floor((O.y+O.height/2-S.y)/D)}}function r(O,y,S){var L=y[O],D=S.min&&S.min[O],I=S.max&&S.max[O];return(0,c.hj)(D)&&(L=(/top|left/.test(O)?d:_)(L,D)),(0,c.hj)(I)&&(L=(/top|left/.test(O)?_:d)(L,I)),L}function t(O,y){if(!y)return O;var S=(0,g.JA)(O);return(0,g.z_)({top:r("top",S,y),right:r("right",S,y),bottom:r("bottom",S,y),left:r("left",S,y)})}function e(O,y,S,L){var D=(0,g.JA)(y),I={top:/n/.test(O)?D.bottom-S.height:D.top,left:/w/.test(O)?D.right-S.width:D.left,bottom:/s/.test(O)?D.top+S.height:D.bottom,right:/e/.test(O)?D.left+S.width:D.right},U=L?(0,g.JA)(L):I,A={top:d(I.top,U.top),left:d(I.left,U.left),bottom:_(I.bottom,U.bottom),right:_(I.right,U.right)};return(0,g.z_)(A)}function n(O,y){return typeof O<"u"?O:o}function a(O,y){var S,L,D,I;return typeof y=="object"?(S=n(y.left),L=n(y.right),D=n(y.top),I=n(y.bottom)):S=L=D=I=n(y),{x:O.x-S,y:O.y-D,width:O.width+S+L,height:O.height+D+I}}function l(O){return!(O.waypoints||O.type==="label")}function T(O,y){var S;if(O.length===void 0?S=(0,c.hX)(O.children,l):S=O,S.length)return a((0,E.jY)(S),y)}},61788:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var c=m(59879),E=m.n(c),g=m(91658);function _(d){g.Z.call(this,d),this.init()}_.$inject=["eventBus"],E()(_,g.Z),_.prototype.addRule=function(d,o,u){var i=this;typeof d=="string"&&(d=[d]),d.forEach(function(p){i.canExecute(p,o,function(s,r,t){return u(s)},!0)})},_.prototype.init=function(){}},67989:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});function c(g){this._commandStack=g.get("commandStack",!1)}c.$inject=["injector"],c.prototype.allowed=function(g,_){var d=!0,o=this._commandStack;return o&&(d=o.canExecute(g,_)),d===void 0?!0:d};const E={__init__:["rules"],rules:["type",c]}},42893:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(2299);function E(g){this._eventBus=g,this._selectedElements=[];var _=this;g.on(["shape.remove","connection.remove"],function(d){var o=d.element;_.deselect(o)}),g.on(["diagram.clear"],function(d){_.select(null)})}E.$inject=["eventBus"],E.prototype.deselect=function(g){var _=this._selectedElements,d=_.indexOf(g);if(d!==-1){var o=_.slice();_.splice(d,1),this._eventBus.fire("selection.changed",{oldSelection:o,newSelection:_})}},E.prototype.get=function(){return this._selectedElements},E.prototype.isSelected=function(g){return this._selectedElements.indexOf(g)!==-1},E.prototype.select=function(g,_){var d=this._selectedElements,o=d.slice();(0,c.kJ)(g)||(g=g?[g]:[]),_?(0,c.Ed)(g,function(u){d.indexOf(u)===-1&&d.push(u)}):this._selectedElements=d=g.slice(),this._eventBus.fire("selection.changed",{oldSelection:o,newSelection:d})}},42226:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>r});var c=m(85637),E=m(4828),g=m(42893),_=m(2299),d="hover",o="selected";function u(t,e,n,a){this._multiSelectionBox=null;function l(O,y){e.addMarker(O,y)}function T(O,y){e.removeMarker(O,y)}t.on("element.hover",function(O){l(O.element,d)}),t.on("element.out",function(O){T(O.element,d)}),t.on("selection.changed",function(O){function y(I){T(I,o)}function S(I){l(I,o)}var L=O.oldSelection,D=O.newSelection;(0,_.Ed)(L,function(I){D.indexOf(I)===-1&&y(I)}),(0,_.Ed)(D,function(I){L.indexOf(I)===-1&&S(I)})})}u.$inject=["eventBus","canvas","selection","styles"];var i=m(98827);function p(t,e,n,a){t.on("create.end",500,function(l){var T=l.context,O=T.canExecute,y=T.elements,S=T.hints||{},L=S.autoSelect;if(O){if(L===!1)return;(0,_.kJ)(L)?e.select(L):e.select(y.filter(s))}}),t.on("connect.end",500,function(l){l.context.canExecute&&l.context.connection&&e.select(l.context.connection)}),t.on("shape.move.end",500,function(l){var T=l.previousSelection||[],O=a.get(l.context.shape.id),y=(0,_.sE)(T,function(S){return O.id===S.id});y||e.select(O)}),t.on("element.click",function(l){var T=l.element;T===n.getRootElement()&&(T=null);var O=e.isSelected(T),y=e.get().length>1,S=(0,i.RJ)(l);if(O&&y)return S?e.deselect(T):e.select(T);O||e.select(T,S)})}p.$inject=["eventBus","selection","canvas","elementRegistry"];function s(t){return!t.hidden}const r={__init__:["selectionVisuals","selectionBehavior"],__depends__:[c.Z,E.Z],selection:["type",g.Z],selectionVisuals:["type",u],selectionBehavior:["type",p]}},44610:(rt,G,m)=>{"use strict";m.d(G,{By:()=>g,G:()=>r,Pi:()=>i,U:()=>s,Wn:()=>p,hT:()=>u,w3:()=>_});var c=Math.abs,E=Math.round;function g(t,e,n){n=n===void 0?10:n;var a,l;for(a=0;a<e.length;a++)if(l=e[a],c(l-t)<=n)return l}function _(t){return{x:t.x,y:t.y}}function d(t){return{x:t.x+t.width,y:t.y}}function o(t){return{x:t.x,y:t.y+t.height}}function u(t){return{x:t.x+t.width,y:t.y+t.height}}function i(t,e){return!t||isNaN(t.x)||isNaN(t.y)?e:{x:E(t.x+t.width/2),y:E(t.y+t.height/2)}}function p(t,e){var n=t.snapped;return n?typeof e=="string"?n[e]:n.x&&n.y:!1}function s(t,e,n){if(typeof e!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var a,l=t[e],T=t.snapped=t.snapped||{};return n===!1?T[e]=!1:(T[e]=!0,a=n-l,t[e]+=a,t["d"+e]+=a),l}function r(t){return t.children||[]}},28605:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>o});var c=m(2299),E=m(44610),g=m(21537),_=7,d=1e3;function o(u){this._canvas=u,this._asyncHide=(0,c.Ds)((0,c.ak)(this.hide,this),d)}o.$inject=["canvas"],o.prototype.snap=function(u,i){var p=u.context,s=p.snapContext,r=s.getSnapLocations(),t={x:(0,E.Wn)(u,"x"),y:(0,E.Wn)(u,"y")};(0,c.Ed)(r,function(e){var n=s.getSnapOrigin(e),a={x:u.x+n.x,y:u.y+n.y};if((0,c.Ed)(["x","y"],function(l){var T;t[l]||(T=i.snap(a,e,l,_),T!==void 0&&(t[l]={value:T,originValue:T-n[l]}))}),t.x&&t.y)return!1}),this.showSnapLine("vertical",t.x&&t.x.value),this.showSnapLine("horizontal",t.y&&t.y.value),(0,c.Ed)(["x","y"],function(e){var n=t[e];(0,c.Kn)(n)&&(0,E.U)(u,e,n.originValue)})},o.prototype._createLine=function(u){var i=this._canvas.getLayer("snap"),p=(0,g.Ue)("path");return(0,g.Lj)(p,{d:"M0,0 L0,0"}),(0,g.Sh)(p).add("djs-snap-line"),(0,g.R3)(i,p),{update:function(s){(0,c.hj)(s)?u==="horizontal"?(0,g.Lj)(p,{d:"M-100000,"+s+" L+100000,"+s,display:""}):(0,g.Lj)(p,{d:"M "+s+",-100000 L "+s+", +100000",display:""}):(0,g.Lj)(p,{display:"none"})}}},o.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},o.prototype.showSnapLine=function(u,i){var p=this.getSnapLine(u);p&&p.update(i),this._asyncHide()},o.prototype.getSnapLine=function(u){return this._snapLines||this._createSnapLines(),this._snapLines[u]},o.prototype.hide=function(){(0,c.Ed)(this._snapLines,function(u){u.update()})}},16860:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>D});var c=m(2299),E=m(44610);function g(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}g.prototype.getSnapOrigin=function(I){return this._snapOrigins[I]},g.prototype.setSnapOrigin=function(I,U){this._snapOrigins[I]=U,this._snapLocations.indexOf(I)===-1&&this._snapLocations.push(I)},g.prototype.addDefaultSnap=function(I,U){var A=this._defaultSnaps[I];A||(A=this._defaultSnaps[I]=[]),A.push(U)},g.prototype.getSnapLocations=function(){return this._snapLocations},g.prototype.setSnapLocations=function(I){this._snapLocations=I},g.prototype.pointsForTarget=function(I){var U=I.id||I,A=this._targets[U];return A||(A=this._targets[U]=new _,A.initDefaults(this._defaultSnaps)),A};function _(I){this._snapValues={}}_.prototype.add=function(I,U){var A=this._snapValues[I];A||(A=this._snapValues[I]={x:[],y:[]}),A.x.indexOf(U.x)===-1&&A.x.push(U.x),A.y.indexOf(U.y)===-1&&A.y.push(U.y)},_.prototype.snap=function(I,U,A,N){var Y=this._snapValues[U];return Y&&(0,E.By)(I[A],Y[A],N)},_.prototype.initDefaults=function(I){var U=this;(0,c.Ed)(I||{},function(A,N){(0,c.Ed)(A,function(Y){U.add(N,Y)})})};var d=m(28229),o=1250;function u(I,U,A){var N=this;this._elementRegistry=I,U.on(["create.start","shape.move.start"],function(Y){N.initSnap(Y)}),U.on(["create.move","create.end","shape.move.move","shape.move.end"],o,function(Y){var Q=Y.context,it=Q.shape,tt=Q.snapContext,$=Q.target;if(!(Y.originalEvent&&(0,d.JS)(Y.originalEvent))&&!((0,E.Wn)(Y)||!$)){var H=tt.pointsForTarget($);H.initialized||(H=N.addSnapTargetPoints(H,it,$),H.initialized=!0),A.snap(Y,H)}}),U.on(["create.cleanup","shape.move.cleanup"],function(){A.hide()})}u.$inject=["elementRegistry","eventBus","snapping"],u.prototype.initSnap=function(I){var U=this._elementRegistry,A=I.context,N=A.shape,Y=A.snapContext;Y||(Y=A.snapContext=new g);var Q;U.get(N.id)?Q=(0,E.Pi)(N,I):Q={x:I.x+(0,E.Pi)(N).x,y:I.y+(0,E.Pi)(N).y};var it={x:Q.x-N.width/2,y:Q.y-N.height/2},tt={x:Q.x+N.width/2,y:Q.y+N.height/2};return Y.setSnapOrigin("mid",{x:Q.x-I.x,y:Q.y-I.y}),s(N)||(Y.setSnapOrigin("top-left",{x:it.x-I.x,y:it.y-I.y}),Y.setSnapOrigin("bottom-right",{x:tt.x-I.x,y:tt.y-I.y})),Y},u.prototype.addSnapTargetPoints=function(I,U,A){var N=this.getSnapTargets(U,A);return(0,c.Ed)(N,function(Y){if(s(Y)){s(U)&&I.add("mid",(0,E.Pi)(Y));return}if(i(Y)){if(Y.waypoints.length<3)return;var Q=Y.waypoints.slice(1,-1);(0,c.Ed)(Q,function(it){I.add("mid",it)});return}I.add("mid",(0,E.Pi)(Y))}),!(0,c.hj)(U.x)||!(0,c.hj)(U.y)||this._elementRegistry.get(U.id)&&I.add("mid",(0,E.Pi)(U)),I},u.prototype.getSnapTargets=function(I,U){return(0,E.G)(U).filter(function(A){return!p(A)})};function i(I){return!!I.waypoints}function p(I){return!!I.hidden}function s(I){return!!I.labelTarget}var r=m(86463),t=1250;function e(I,U){var A=this;I.on(["resize.start"],function(N){A.initSnap(N)}),I.on(["resize.move","resize.end"],t,function(N){var Y=N.context,Q=Y.shape,it=Q.parent,tt=Y.direction,$=Y.snapContext;if(!(N.originalEvent&&(0,d.JS)(N.originalEvent))&&!(0,E.Wn)(N)){var H=$.pointsForTarget(it);H.initialized||(H=A.addSnapTargetPoints(H,Q,it,tt),H.initialized=!0),y(tt)&&(0,E.U)(N,"x",N.x),S(tt)&&(0,E.U)(N,"y",N.y),U.snap(N,H)}}),I.on(["resize.cleanup"],function(){U.hide()})}e.prototype.initSnap=function(I){var U=I.context,A=U.shape,N=U.direction,Y=U.snapContext;Y||(Y=U.snapContext=new g);var Q=n(A,N);return Y.setSnapOrigin("corner",{x:Q.x-I.x,y:Q.y-I.y}),Y},e.prototype.addSnapTargetPoints=function(I,U,A,N){var Y=this.getSnapTargets(U,A);return(0,c.Ed)(Y,function(Q){I.add("corner",(0,E.hT)(Q)),I.add("corner",(0,E.w3)(Q))}),I.add("corner",n(U,N)),I},e.$inject=["eventBus","snapping"],e.prototype.getSnapTargets=function(I,U){return(0,E.G)(U).filter(function(A){return!a(A,I)&&!l(A)&&!T(A)&&!O(A)})};function n(I,U){var A=(0,r.wS)(I),N=(0,r.JA)(I),Y={x:A.x,y:A.y};return U.indexOf("n")!==-1?Y.y=N.top:U.indexOf("s")!==-1&&(Y.y=N.bottom),U.indexOf("e")!==-1?Y.x=N.right:U.indexOf("w")!==-1&&(Y.x=N.left),Y}function a(I,U){return I.host===U}function l(I){return!!I.waypoints}function T(I){return!!I.hidden}function O(I){return!!I.labelTarget}function y(I){return I==="n"||I==="s"}function S(I){return I==="e"||I==="w"}var L=m(28605);const D={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",u],resizeSnapping:["type",e],snapping:["type",L.Z]}},19304:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>a});var c=m(2299),E=m(86463),g=m(64960),_=m(26737),d=m(98827),o=m(63253),u=Math.abs,i=Math.round,p={x:"width",y:"height"},s="crosshair",r={n:"top",w:"left",s:"bottom",e:"right"},t=1500,e={n:"s",w:"e",s:"n",e:"w"},n=20;function a(D,I,U,A,N,Y){this._canvas=D,this._dragging=I,this._eventBus=U,this._modeling=A,this._rules=N,this._toolManager=Y;var Q=this;Y.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),U.on("spaceTool.selection.end",function(it){U.once("spaceTool.selection.ended",function(){Q.activateMakeSpace(it.originalEvent)})}),U.on("spaceTool.move",t,function(it){var tt=it.context,$=tt.initialized;$||($=tt.initialized=Q.init(it,tt)),$&&T(it)}),U.on("spaceTool.end",function(it){var tt=it.context,$=tt.direction,H=tt.movingShapes,M=tt.resizingShapes,f=tt.start;if(!!tt.initialized){T(it);var x=Q.getDelta(it);Q.makeSpace(H,M,x,$,f),U.once("spaceTool.ended",function(h){Q.activateSelection(h.originalEvent,!0,!0)})}})}a.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],a.prototype.activateSelection=function(D,I,U){this._dragging.init(D,"spaceTool.selection",{autoActivate:I,cursor:s,data:{context:{reactivate:U}},trapClick:!1})},a.prototype.activateMakeSpace=function(D){this._dragging.init(D,"spaceTool",{autoActivate:!0,cursor:s,data:{context:{}}})},a.prototype.makeSpace=function(D,I,U,A,N){return this._modeling.createSpace(D,I,U,A,N)},a.prototype.init=function(D,I){var U=u(D.dx)>u(D.dy)?"x":"y",A=D["d"+U],N=D[U]-A;if(u(A)<5)return!1;A<0&&(A*=-1),(0,d.RJ)(D)&&(A*=-1);var Y=(0,_.Mg)(U,A),Q=this._canvas.getRootElement(),it=(0,g.PB)(Q,!0),tt=this.calculateAdjustments(it,U,A,N),$=this._eventBus.fire("spaceTool.getMinDimensions",{shapes:tt.resizingShapes}),H=O(tt,U,Y,N,$);return(0,c.f0)(I,tt,{axis:U,direction:Y,spaceToolConstraints:H,start:N}),(0,o.t8)("resize-"+(U==="x"?"ew":"ns")),!0},a.prototype.calculateAdjustments=function(D,I,U,A){var N=this._rules,Y=[],Q=[];return(0,c.Ed)(D,function(it){if(!(!it.parent||S(it))){var tt=it[I],$=tt+it[p[I]];if(U>0&&tt>A||U<0&&$<A)return Y.push(it);if(tt<A&&$>A&&N.allowed("shape.resize",{shape:it}))return Q.push(it)}}),{movingShapes:Y,resizingShapes:Q}},a.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},a.prototype.isActive=function(){var D=this._dragging.context();return D&&/^spaceTool/.test(D.prefix)},a.prototype.getDelta=function(D){var I=D.context,U=I.axis,A={x:0,y:0};return A[U]=i(D["d"+U]),A};function l(D){return{top:D.top-n,right:D.right+n,bottom:D.bottom+n,left:D.left-n}}function T(D){var I=D.context,U=I.spaceToolConstraints;if(!!U){var A,N;(0,c.hj)(U.left)&&(A=Math.max(D.x,U.left),D.dx=D.dx+A-D.x,D.x=A),(0,c.hj)(U.right)&&(A=Math.min(D.x,U.right),D.dx=D.dx+A-D.x,D.x=A),(0,c.hj)(U.top)&&(N=Math.max(D.y,U.top),D.dy=D.dy+N-D.y,D.y=N),(0,c.hj)(U.bottom)&&(N=Math.min(D.y,U.bottom),D.dy=D.dy+N-D.y,D.y=N)}}function O(D,I,U,A,N){var Y=D.movingShapes,Q=D.resizingShapes;if(!!Q.length){var it={},tt,$;return(0,c.Ed)(Q,function(H){var M=(0,E.JA)(H),f=(0,c.hX)(H.children,function(j){return!S(j)&&!L(j)&&!y(Y,j)&&!y(Q,j)}),x=(0,c.hX)(H.children,function(j){return!S(j)&&!L(j)&&y(Y,j)}),h,v,C;f.length&&(v=l((0,E.JA)((0,g.jY)(f))),h=A-M[r[U]]+v[r[U]],U==="n"?it.bottom=$=(0,c.hj)($)?Math.min($,h):h:U==="w"?it.right=$=(0,c.hj)($)?Math.min($,h):h:U==="s"?it.top=tt=(0,c.hj)(tt)?Math.max(tt,h):h:U==="e"&&(it.left=tt=(0,c.hj)(tt)?Math.max(tt,h):h)),x.length&&(C=l((0,E.JA)((0,g.jY)(x))),h=A-C[r[e[U]]]+M[r[e[U]]],U==="n"?it.bottom=$=(0,c.hj)($)?Math.min($,h):h:U==="w"?it.right=$=(0,c.hj)($)?Math.min($,h):h:U==="s"?it.top=tt=(0,c.hj)(tt)?Math.max(tt,h):h:U==="e"&&(it.left=tt=(0,c.hj)(tt)?Math.max(tt,h):h));var P=N&&N[H.id];P&&(U==="n"?(h=A+H[p[I]]-P[p[I]],it.bottom=$=(0,c.hj)($)?Math.min($,h):h):U==="w"?(h=A+H[p[I]]-P[p[I]],it.right=$=(0,c.hj)($)?Math.min($,h):h):U==="s"?(h=A-H[p[I]]+P[p[I]],it.top=tt=(0,c.hj)(tt)?Math.max(tt,h):h):U==="e"&&(h=A-H[p[I]]+P[p[I]],it.left=tt=(0,c.hj)(tt)?Math.max(tt,h):h))}),it}}function y(D,I){return D.indexOf(I)!==-1}function S(D){return!!D.waypoints}function L(D){return!!D.labelTarget}},98080:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>i});var c=m(2299),E=m(21537),g=m(18872),_="djs-dragging",d="djs-resizing",o=250,u=Math.max;function i(s,r,t,e,n){var a=this;function l(T,O){(0,c.Ed)(T,function(y){n.addDragger(y,O),t.addMarker(y,_)})}s.on("spaceTool.selection.start",function(T){var O=t.getLayer("space"),y=T.context,S={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},L=(0,E.Ue)("g");(0,E.Lj)(L,e.cls("djs-crosshair-group",["no-events"])),(0,E.R3)(O,L);var D=(0,E.Ue)("path");(0,E.Lj)(D,"d",S.x),(0,E.Sh)(D).add("djs-crosshair"),(0,E.R3)(L,D);var I=(0,E.Ue)("path");(0,E.Lj)(I,"d",S.y),(0,E.Sh)(I).add("djs-crosshair"),(0,E.R3)(L,I),y.crosshairGroup=L}),s.on("spaceTool.selection.move",function(T){var O=T.context.crosshairGroup;(0,g.Iu)(O,T.x,T.y)}),s.on("spaceTool.selection.cleanup",function(T){var O=T.context,y=O.crosshairGroup;y&&(0,E.Od)(y)}),s.on("spaceTool.move",o,function(T){var O=T.context,y=O.line,S=O.axis,L=O.movingShapes,D=O.resizingShapes;if(!!O.initialized){if(!O.dragGroup){var I=t.getLayer("space");y=(0,E.Ue)("path"),(0,E.Lj)(y,"d","M0,0 L0,0"),(0,E.Sh)(y).add("djs-crosshair"),(0,E.R3)(I,y),O.line=y;var U=(0,E.Ue)("g");(0,E.Lj)(U,e.cls("djs-drag-group",["no-events"])),(0,E.R3)(t.getDefaultLayer(),U),l(L,U);var A=O.movingConnections=r.filter(function(tt){var $=!1;(0,c.Ed)(L,function(x){(0,c.Ed)(x.outgoing,function(h){tt===h&&($=!0)})});var H=!1;(0,c.Ed)(L,function(x){(0,c.Ed)(x.incoming,function(h){tt===h&&(H=!0)})});var M=!1;(0,c.Ed)(D,function(x){(0,c.Ed)(x.outgoing,function(h){tt===h&&(M=!0)})});var f=!1;return(0,c.Ed)(D,function(x){(0,c.Ed)(x.incoming,function(h){tt===h&&(f=!0)})}),p(tt)&&($||M)&&(H||f)});l(A,U),O.dragGroup=U}if(!O.frameGroup){var N=(0,E.Ue)("g");(0,E.Lj)(N,e.cls("djs-frame-group",["no-events"])),(0,E.R3)(t.getDefaultLayer(),N);var Y=[];(0,c.Ed)(D,function(tt){var $=n.addFrame(tt,N),H=$.getBBox();Y.push({element:$,initialBounds:H}),t.addMarker(tt,d)}),O.frameGroup=N,O.frames=Y}var Q={x:"M"+T.x+", -10000 L"+T.x+", 10000",y:"M -10000, "+T.y+" L 10000, "+T.y};(0,E.Lj)(y,{d:Q[S]});var it=a.getDelta(T);(0,g.Iu)(O.dragGroup,it.x,it.y),(0,c.Ed)(O.frames,function(tt){var $=tt.element,H=tt.initialBounds,M,f;O.direction==="e"?(0,E.Lj)($,{width:u(H.width+it.x,5)}):(M=u(H.width-it.x,5),(0,E.Lj)($,{width:M,x:H.x+H.width-M})),O.direction==="s"?(0,E.Lj)($,{height:u(H.height+it.y,5)}):(f=u(H.height-it.y,5),(0,E.Lj)($,{height:f,y:H.y+H.height-f}))})}}),s.on("spaceTool.cleanup",function(T){var O=T.context,y=O.movingShapes,S=O.movingConnections,L=O.resizingShapes,D=O.line,I=O.dragGroup,U=O.frameGroup;(0,c.Ed)(y,function(A){t.removeMarker(A,_)}),(0,c.Ed)(S,function(A){t.removeMarker(A,_)}),I&&((0,E.Od)(D),(0,E.Od)(I)),(0,c.Ed)(L,function(A){t.removeMarker(A,d)}),U&&(0,E.Od)(U)})}i.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];function p(s){return s.waypoints}i.prototype.getDelta=function(s){var r=s.context,t={x:"y",y:"x"},e={x:s.dx,y:s.dy};return e[t[r.axis]]=0,e}},26737:(rt,G,m)=>{"use strict";m.d(G,{Mg:()=>E,wb:()=>g,zY:()=>d});var c=m(2299);function E(o,u){if(o==="x"){if(u>0)return"e";if(u<0)return"w"}if(o==="y"){if(u>0)return"s";if(u<0)return"n"}return null}function g(o,u){var i=[];return(0,c.Ed)(o,function(p){var s=p.incoming,r=p.outgoing;(0,c.Ed)(s.concat(r),function(t){var e=t.source,n=t.target;(_(o,e)||_(o,n)||_(u,e)||_(u,n))&&(_(i,t)||i.push(t))})}),i}function _(o,u){return o.indexOf(u)!==-1}function d(o,u,i){var p=o.x,s=o.y,r=o.width,t=o.height,e=i.x,n=i.y;switch(u){case"n":return{x:p,y:s+n,width:r,height:t-n};case"s":return{x:p,y:s,width:r,height:t+n};case"w":return{x:p+e,y:s,width:r-e,height:t};case"e":return{x:p,y:s,width:r+e,height:t};default:throw new Error("unknown direction: "+u)}}},83208:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>r});var c=m(2299),E=m(9012),g=m(50296),_=new g.Z("tt");function d(t){var e=(0,E.H6)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return t.insertBefore(e,t.firstChild),e}function o(t,e,n){(0,c.f0)(t.style,{left:e+"px",top:n+"px"})}function u(t,e){t.style.display=e===!1?"none":""}var i="djs-tooltip",p="."+i;function s(t,e){this._eventBus=t,this._canvas=e,this._ids=_,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=d(e.getContainer());var n=this;E.cl.bind(this._tooltipRoot,p,"mousedown",function(a){a.stopPropagation()}),E.cl.bind(this._tooltipRoot,p,"mouseover",function(a){n.trigger("mouseover",a)}),E.cl.bind(this._tooltipRoot,p,"mouseout",function(a){n.trigger("mouseout",a)}),this._init()}s.$inject=["eventBus","canvas"],s.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var e=this._ids.next();return t=(0,c.f0)({},this._tooltipDefaults,t,{id:e}),this._addTooltip(t),t.timeout&&this.setTimeout(t),e},s.prototype.trigger=function(t,e){var n=e.delegateTarget||e.target,a=this.get((0,E.Lj)(n,"data-tooltip-id"));!a||(t==="mouseover"&&a.timeout&&this.clearTimeout(a),t==="mouseout"&&a.timeout&&(a.timeout=1e3,this.setTimeout(a)))},s.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]},s.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var e=t.removeTimer;e&&(clearTimeout(e),t.removeTimer=null)}},s.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var e=this;t.removeTimer=setTimeout(function(){e.remove(t)},t.timeout)}},s.prototype.remove=function(t){var e=this.get(t);e&&((0,E.Od)(e.html),(0,E.Od)(e.htmlContainer),delete e.htmlContainer,delete this._tooltips[e.id])},s.prototype.show=function(){u(this._tooltipRoot)},s.prototype.hide=function(){u(this._tooltipRoot,!1)},s.prototype._updateRoot=function(t){var e=t.scale||1,n=t.scale||1,a="matrix("+e+",0,0,"+n+","+-1*t.x*e+","+-1*t.y*n+")";this._tooltipRoot.style.transform=a,this._tooltipRoot.style["-ms-transform"]=a},s.prototype._addTooltip=function(t){var e=t.id,n=t.html,a,l=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),(0,c.HD)(n)&&(n=(0,E.H6)(n)),a=(0,E.H6)('<div data-tooltip-id="'+e+'" class="'+i+'" style="position: absolute">'),a.appendChild(n),t.type&&(0,E.Sh)(a).add("djs-tooltip-"+t.type),t.className&&(0,E.Sh)(a).add(t.className),t.htmlContainer=a,l.appendChild(a),this._tooltips[e]=t,this._updateTooltip(t)},s.prototype._updateTooltip=function(t){var e=t.position,n=t.htmlContainer;o(n,e.x,e.y)},s.prototype._updateTooltipVisibilty=function(t){(0,c.Ed)(this._tooltips,function(e){var n=e.show,a=e.htmlContainer,l=!0;n&&((n.minZoom>t.scale||n.maxZoom<t.scale)&&(l=!1),u(a,l))})},s.prototype._init=function(){var t=this;function e(n){t._updateRoot(n),t._updateTooltipVisibilty(n),t.show()}this._eventBus.on("canvas.viewbox.changing",function(n){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){e(n.viewbox)})};const r={__init__:["tooltips"],tooltips:["type",s]}},279:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(86463);function E(){}E.prototype.layoutConnection=function(g,_){return _=_||{},[_.connectionStart||(0,c.wS)(_.source||g.source),_.connectionEnd||(0,c.wS)(_.target||g.target)]}},70734:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var c=m(2299),E=m(86463);function g(d){return(0,c.f0)({original:d.point.original||d.point},d.actual)}function _(d,o){this._elementRegistry=d,this._graphicsFactory=o}_.$inject=["elementRegistry","graphicsFactory"],_.prototype.getCroppedWaypoints=function(d,o,u){o=o||d.source,u=u||d.target;var i=this.getDockingPoint(d,o,!0),p=this.getDockingPoint(d,u),s=d.waypoints.slice(i.idx+1,p.idx);return s.unshift(g(i)),s.push(g(p)),s},_.prototype.getDockingPoint=function(d,o,u){var i=d.waypoints,p,s,r;return p=u?0:i.length-1,s=i[p],r=this._getIntersection(o,d,u),{point:s,actual:r||s,idx:p}},_.prototype._getIntersection=function(d,o,u){var i=this._getShapePath(d),p=this._getConnectionPath(o);return(0,E.Hz)(i,p,u)},_.prototype._getConnectionPath=function(d){return this._graphicsFactory.getConnectionPath(d)},_.prototype._getShapePath=function(d){return this._graphicsFactory.getShapePath(d)},_.prototype._getGfx=function(d){return this._elementRegistry.getGraphics(d)}},86463:(rt,G,m)=>{"use strict";m.d(G,{Hz:()=>r,JA:()=>u,Re:()=>e,T8:()=>s,aR:()=>d,ex:()=>o,wS:()=>p,z_:()=>i});var c=m(2299),E=m(41741),g=m(7502),_=m.n(g);function d(n){return{x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)}}function o(n){return{x:Math.round(n.x),y:Math.round(n.y)}}function u(n){return{top:n.y,right:n.x+(n.width||0),bottom:n.y+(n.height||0),left:n.x}}function i(n){return{x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top}}function p(n){return o({x:n.x+(n.width||0)/2,y:n.y+(n.height||0)/2})}function s(n,a,l){l=l||0,(0,c.Kn)(l)||(l={x:l,y:l});var T=u(n),O=u(a),y=T.bottom+l.y<=O.top,S=T.left-l.x>=O.right,L=T.top-l.y>=O.bottom,D=T.right+l.x<=O.left,I=y?"top":L?"bottom":null,U=D?"left":S?"right":null;return U&&I?I+"-"+U:U||I||"intersect"}function r(n,a,l){var T=t(n,a);return T.length===1||T.length===2&&(0,E.tW)(T[0],T[1])<1?o(T[0]):T.length>1?(T=(0,c.MR)(T,function(O){var y=Math.floor(O.t2*100)||1;return y=100-y,y=(y<10?"0":"")+y,O.segment2+"#"+y}),o(T[l?0:T.length-1])):null}function t(n,a){return _()(n,a)}function e(n){n=n.slice();for(var a=0,l,T,O;n[a];)l=n[a],T=n[a-1],O=n[a+1],(0,E.tW)(l,O)===0||(0,E.ZS)(T,O,l)?n.splice(a,1):a++;return n}},71709:(rt,G,m)=>{"use strict";m.d(G,{Fb:()=>H,I6:()=>y,ju:()=>S});var c=m(2299),E=m(86463),g=m(41741),_=20,d=5,o=Math.round,u=20,i={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function p(M,f){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[f].test(M)}function s(M,f){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[M].test(f)}function r(M,f,x){var h=(0,E.T8)(f,M,d),v=x.split(":")[0],C=o((f.x-M.x)/2+M.x),P=o((f.y-M.y)/2+M.y),j,b,F=s(v,h),V=/h|r|l/.test(v),X=!1,q=!1;return F?(j=V?{x:C,y:M.y}:{x:M.x,y:P},b=V?"h:h":"v:v"):(X=p(h,v),b=V?"h:v":"v:h",X?V?(q=P===M.y,j={x:M.x+_*(/l/.test(v)?-1:1),y:q?P+_:P}):(q=C===M.x,j={x:q?C+_:C,y:M.y+_*(/t/.test(v)?-1:1)}):j={x:C,y:P}),{waypoints:T(M,j,b).concat(j),directions:b,turnNextDirections:q}}function t(M,f,x){return r(M,f,x)}function e(M,f,x){var h=r(f,M,a(x));return{waypoints:h.waypoints.slice().reverse(),directions:a(h.directions),turnNextDirections:h.turnNextDirections}}function n(M,f){var x=M.directions.split(":")[1],h=f.directions.split(":")[0];M.turnNextDirections&&(x=x=="h"?"v":"h"),f.turnNextDirections&&(h=h=="h"?"v":"h");var v=x+":"+h,C=T(M.waypoints[M.waypoints.length-1],f.waypoints[0],v);return{waypoints:C,directions:v}}function a(M){return M.split(":").reverse().join(":")}function l(M,f,x){var h=o((f.x-M.x)/2+M.x),v=o((f.y-M.y)/2+M.y);if(x==="h:v")return[{x:f.x,y:M.y}];if(x==="v:h")return[{x:M.x,y:f.y}];if(x==="h:h")return[{x:h,y:M.y},{x:h,y:f.y}];if(x==="v:v")return[{x:M.x,y:v},{x:f.x,y:v}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function T(M,f,x){if(x=x||"h:h",!Q(x))throw new Error("unknown directions: <"+x+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(it(x)){var h=t(M,f,x),v=e(M,f,x),C=n(h,v);return[].concat(h.waypoints,C.waypoints,v.waypoints)}return l(M,f,x)}function O(M,f,x){var h=T(M,f,x);return h.unshift(M),h.push(f),H(h)}function y(M,f,x,h,v){var C=v&&v.preferredLayouts||[],P=(0,c.zu)(C,"straight")[0]||"h:h",j=i[P]||0,b=(0,E.T8)(M,f,j),F=Y(b,P);x=x||(0,E.wS)(M),h=h||(0,E.wS)(f);var V=F.split(":"),X=$(x,M,V[0],tt(b)),q=$(h,f,V[1],b);return O(X,q,F)}function S(M,f,x,h,v,C){(0,c.kJ)(x)&&(v=x,C=h,x=(0,E.wS)(M),h=(0,E.wS)(f)),C=(0,c.f0)({preferredLayouts:[]},C),v=v||[];var P=C.preferredLayouts,j=P.indexOf("straight")!==-1,b;return b=j&&I(M,f,x,h,C),b||(b=C.connectionEnd&&A(f,M,h,v),b)||(b=C.connectionStart&&U(M,f,x,v),b)?b:!C.connectionStart&&!C.connectionEnd&&v&&v.length?v:y(M,f,x,h,C)}function L(M,f,x){return M>=f&&M<=x}function D(M,f,x){var h={x:"width",y:"height"};return L(f[M],x[M],x[M]+x[h[M]])}function I(M,f,x,h,v){var C={},P,j;return j=(0,E.T8)(M,f),/^(top|bottom|left|right)$/.test(j)?(/top|bottom/.test(j)&&(P="x"),/left|right/.test(j)&&(P="y"),v.preserveDocking==="target"?D(P,h,M)?(C[P]=h[P],[{x:C.x!==void 0?C.x:x.x,y:C.y!==void 0?C.y:x.y,original:{x:C.x!==void 0?C.x:x.x,y:C.y!==void 0?C.y:x.y}},{x:h.x,y:h.y}]):null:D(P,x,f)?(C[P]=x[P],[{x:x.x,y:x.y},{x:C.x!==void 0?C.x:h.x,y:C.y!==void 0?C.y:h.y,original:{x:C.x!==void 0?C.x:h.x,y:C.y!==void 0?C.y:h.y}}]):null):null}function U(M,f,x,h){return N(M,f,x,h)}function A(M,f,x,h){var v=h.slice().reverse();return v=N(M,f,x,v),v?v.reverse():null}function N(M,f,x,h){function v(V){return V.length<3?!0:V.length>4?!1:!!(0,c.sE)(V,function(X,q){var nt=V[q-1];return nt&&(0,g.tW)(X,nt)<3})}function C(V,X,q){var nt=(0,g.Or)(X,V);switch(nt){case"v":return{x:q.x,y:V.y};case"h":return{x:V.x,y:q.y}}return{x:V.x,y:V.y}}function P(V,X,q){var nt;for(nt=V.length-2;nt!==0;nt--)if((0,g.qr)(V[nt],X,u)||(0,g.qr)(V[nt],q,u))return V.slice(nt);return V}if(v(h))return null;var j=h[0],b=h.slice(),F;return b[0]=x,b[1]=C(b[1],j,x),F=P(b,M,f),F!==b&&(b=N(M,f,x,F)),b&&(0,g.Or)(b)?null:b}function Y(M,f){if(it(f))return f;switch(M){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return f}}function Q(M){return M&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(M)}function it(M){return M&&/t|r|b|l/.test(M)}function tt(M){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[M]}function $(M,f,x,h){if(x==="h"&&(x=/left/.test(h)?"l":"r"),x==="v"&&(x=/top/.test(h)?"t":"b"),x==="t")return{original:M,x:M.x,y:f.y};if(x==="r")return{original:M,x:f.x+f.width,y:M.y};if(x==="b")return{original:M,x:M.x,y:f.y+f.height};if(x==="l")return{original:M,x:f.x,y:M.y};throw new Error("unexpected dockingDirection: <"+x+">")}function H(M){return M.reduce(function(f,x,h){var v=f[f.length-1],C=M[h+1];return(0,g.ZS)(v,C,x,0)||f.push(x),f},[])}},83962:(rt,G,m)=>{"use strict";m.d(G,{Ue:()=>T,XY:()=>r,fC:()=>e});var c=m(2299),E=m(59879),g=m.n(E),_=m(19891),d=m.n(_),o=new(d())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),u=new(d())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),i=new(d())({name:"attachers",collection:!0},{name:"host"}),p=new(d())({name:"outgoing",collection:!0},{name:"source"}),s=new(d())({name:"incoming",collection:!0},{name:"target"});function r(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(O){var y=this.label,S=this.labels;!O&&y?S.remove(y):S.add(O,0)}}),o.bind(this,"parent"),u.bind(this,"labels"),p.bind(this,"outgoing"),s.bind(this,"incoming")}function t(){r.call(this),o.bind(this,"children"),i.bind(this,"host"),i.bind(this,"attachers")}g()(t,r);function e(){t.call(this)}g()(e,t);function n(){t.call(this),u.bind(this,"labelTarget")}g()(n,t);function a(){r.call(this),p.bind(this,"source"),s.bind(this,"target")}g()(a,r);var l={connection:a,shape:t,label:n,root:e};function T(O,y){var S=l[O];if(!S)throw new Error("unknown type: <"+O+">");return(0,c.f0)(new S,y)}},67859:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var c=m(63253),E=m(19863),g=m(43273),_=m(9012),d=m(46534),o=15;function u(s,r){var t;s.on("element.mousedown",500,function(l){return a(l.originalEvent)});function e(l){var T=t.start,O=(0,d.jt)(l),y=(0,g.p)(O,T);if(!t.dragging&&i(y)>o&&(t.dragging=!0,(0,E.N)(s),(0,c.t8)("grab")),t.dragging){var S=t.last||t.start;y=(0,g.p)(O,S),r.scroll({dx:y.x,dy:y.y}),t.last=O}l.preventDefault()}function n(l){_.B.unbind(document,"mousemove",e),_.B.unbind(document,"mouseup",n),t=null,(0,c.zN)()}function a(l){if(!(0,_.oq)(l.target,".djs-draggable")&&!(l.button||l.ctrlKey||l.shiftKey||l.altKey))return t={start:(0,d.jt)(l)},_.B.bind(document,"mousemove",e),_.B.bind(document,"mouseup",n),!0}}u.$inject=["eventBus","canvas"];function i(s){return Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))}const p={__init__:["moveCanvas"],moveCanvas:["type",u]}},52232:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>O});var c=m(85637),E=m(2299),g=m(9012),_=m(11524),d=m.n(_),o=m(46534),u=.2,i=4,p=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function s(){}function r(y,S){return S.get(y,!1)}function t(y){y.preventDefault(),y.stopPropagation(),typeof y.stopImmediatePropagation=="function"&&y.stopImmediatePropagation()}function e(y){function S(Q){(0,E.Ed)(p,function(it){g.B.bind(y,it,t,!0)})}function L(Q){setTimeout(function(){(0,E.Ed)(p,function(it){g.B.unbind(y,it,t,!0)})},500)}g.B.bind(y,"touchstart",S,!0),g.B.bind(y,"touchend",L,!0),g.B.bind(y,"touchcancel",L,!0);var D=new(d()).Manager(y,{inputClass:d().TouchInput,recognizers:[]}),I=new(d()).Tap,U=new(d()).Pan({threshold:10}),A=new(d()).Press,N=new(d()).Pinch,Y=new(d()).Tap({event:"doubletap",taps:2});return N.requireFailure(U),N.requireFailure(A),D.add([U,A,N,Y,I]),D.reset=function(Q){var it=this.recognizers,tt=this.session;tt.stopped||(D.stop(Q),setTimeout(function(){var $,H;for($=0;H=it[$];$++)H.reset(),H.state=8;tt.curRecognizer=null},0))},D.on("hammer.input",function(Q){Q.srcEvent.defaultPrevented&&D.reset(!0)}),D}function n(y,S,L,D,I){var U=r("dragging",y),A=r("move",y),N=r("contextPad",y),Y=r("palette",y),Q;function it(H){return function(M){I.fire(H,M)}}function tt(H){var M=(0,g.oq)(H,"svg, .djs-element",!0);return M}function $(H){Q=e(H),Q.on("doubletap",it("element.dblclick")),Q.on("tap",it("element.click"));function M(h){var v=0,C=0;function P(b){var F=b.deltaX-v,V=b.deltaY-C;S.scroll({dx:F,dy:V}),v=b.deltaX,C=b.deltaY}function j(b){Q.off("panmove",P),Q.off("panend",j),Q.off("pancancel",j)}Q.on("panmove",P),Q.on("panend",j),Q.on("pancancel",j)}function f(h){var v=tt(h.target),C=v&&D.get(v);if(A&&S.getRootElement()!==C)return A.start(h,C,!0);M(h)}function x(h){var v=S.zoom(),C=h.center;function P(b){var F=1-(1-b.scale)/1.5,V=Math.max(u,Math.min(i,F*v));S.zoom(V,C),t(b)}function j(b){Q.off("pinchmove",P),Q.off("pinchend",j),Q.off("pinchcancel",j),Q.reset(!0)}Q.on("pinchmove",P),Q.on("pinchend",j),Q.on("pinchcancel",j)}Q.on("panstart",f),Q.on("press",f),Q.on("pinchstart",x)}U&&L.on("drag.move",function(H){var M=H.originalEvent;if(!(!M||M instanceof MouseEvent)){var f=(0,o.jt)(M),x=document.elementFromPoint(f.x,f.y),h=tt(x),v=h&&D.get(h);v!==H.hover&&(H.hover&&U.out(H),v&&(U.hover({element:v,gfx:h}),H.hover=v,H.hoverGfx=h))}}),N&&L.on("contextPad.create",function(H){var M=H.pad.html,f=e(M);f.on("panstart",function(x){N.trigger("dragstart",x,!0)}),f.on("press",function(x){N.trigger("dragstart",x,!0)}),f.on("tap",function(x){N.trigger("click",x)})}),Y&&L.on("palette.create",function(H){var M=H.container,f=e(M);f.on("panstart",function(x){Y.trigger("dragstart",x,!0)}),f.on("press",function(x){Y.trigger("dragstart",x,!0)}),f.on("tap",function(x){Y.trigger("click",x)})}),L.on("canvas.init",function(H){$(H.svg)})}n.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];var a=m(21537);function l(y,S){var L=this;S.on("canvas.init",function(D){L.addBBoxMarker(D.svg)})}l.$inject=["canvas","eventBus"],l.prototype.addBBoxMarker=function(y){var S={fill:"none",class:"outer-bound-marker"},L=(0,a.Ue)("rect");(0,a.Lj)(L,{x:-1e4,y:1e4,width:10,height:10}),(0,a.Lj)(L,S),(0,a.R3)(y,L);var D=(0,a.Ue)("rect");(0,a.Lj)(D,{x:1e4,y:1e4,width:10,height:10}),(0,a.Lj)(D,S),(0,a.R3)(y,D)};const O={__depends__:[{__depends__:[c.Z],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",n],touchFix:["type",l]}]}},89851:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>s});var c=m(9012),E=m(25128),g=m(26001),_=m(2299),d=Math.sign||function(r){return r>=0?1:-1},o={min:.2,max:4},u=10,i=.1,p=.75;function s(r,t,e){r=r||{},this._enabled=!1,this._canvas=e,this._container=e._container,this._handleWheel=(0,_.ak)(this._handleWheel,this),this._totalDelta=0,this._scale=r.scale||p;var n=this;t.on("canvas.init",function(a){n._init(r.enabled!==!1)})}s.$inject=["config.zoomScroll","eventBus","canvas"],s.prototype.scroll=function(t){this._canvas.scroll(t)},s.prototype.reset=function(){this._canvas.zoom("fit-viewport")},s.prototype.zoom=function(t,e){var n=(0,E.K)(o,u*2);this._totalDelta+=t,Math.abs(this._totalDelta)>i&&(this._zoom(t,e,n),this._totalDelta=0)},s.prototype._handleWheel=function(t){if(!(0,c.oq)(t.target,".djs-scrollable",!0)){var e=this._container;t.preventDefault();var n=t.ctrlKey,a=t.shiftKey,l=-1*this._scale,T;if(n?l*=t.deltaMode===0?.02:.32:l*=t.deltaMode===0?1:16,n){var O=e.getBoundingClientRect(),y={x:t.clientX-O.left,y:t.clientY-O.top};T=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*d(t.deltaY)*l,this.zoom(T,y)}else a?T={dx:l*t.deltaY,dy:0}:T={dx:l*t.deltaX,dy:l*t.deltaY},this.scroll(T)}},s.prototype.stepZoom=function(t,e){var n=(0,E.K)(o,u);this._zoom(t,e,n)},s.prototype._zoom=function(r,t,e){var n=this._canvas,a=r>0?1:-1,l=(0,g.m)(n.zoom()),T=Math.round(l/e)*e;T+=e*a;var O=Math.pow(10,T);n.zoom((0,E.T)(o,O),t)},s.prototype.toggle=function(t){var e=this._container,n=this._handleWheel,a=this._enabled;return typeof t>"u"&&(t=!a),a!==t&&c.B[t?"bind":"unbind"](e,"wheel",n,!1),this._enabled=t,t},s.prototype._init=function(r){this.toggle(r)}},25128:(rt,G,m)=>{"use strict";m.d(G,{K:()=>E,T:()=>g});var c=m(26001);function E(_,d){var o=(0,c.m)(_.min),u=(0,c.m)(_.max),i=Math.abs(o)+Math.abs(u);return i/d}function g(_,d){return Math.max(_.min,Math.min(_.max,d))}},5206:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var c=m(89851);const E={__init__:["zoomScroll"],zoomScroll:["type",c.Z]}},19863:(rt,G,m)=>{"use strict";m.d(G,{N:()=>E});var c=5e3;function E(g,_){_=_||"element.click";function d(){return!1}return g.once(_,c,d),function(){g.off(_,d)}}},91499:(rt,G,m)=>{"use strict";m.d(G,{IH:()=>E,Od:()=>c,cq:()=>g});function c(_,d){if(!_||!d)return-1;var o=_.indexOf(d);return o!==-1&&_.splice(o,1),o}function E(_,d,o){if(!(!_||!d)){typeof o!="number"&&(o=-1);var u=_.indexOf(d);if(u!==-1){if(u===o)return;if(o!==-1)_.splice(u,1);else return}o!==-1?_.splice(o,0,d):_.push(d)}}function g(_,d){return!_||!d?-1:_.indexOf(d)}},63253:(rt,G,m)=>{"use strict";m.d(G,{t8:()=>g,zN:()=>_});var c=m(9012),E=/^djs-cursor-.*$/;function g(o){var u=(0,c.Sh)(document.body);u.removeMatching(E),o&&u.add("djs-cursor-"+o)}function _(){g(null)}function d(o){var u=domClasses(document.body);return u.has("djs-cursor-"+o)}},64960:(rt,G,m)=>{"use strict";m.d(G,{He:()=>e,PB:()=>i,RH:()=>r,cd:()=>E,jY:()=>s,oL:()=>t,om:()=>d,vA:()=>p});var c=m(2299);function E(a){return(0,c.hX)(a,function(l){return!(0,c.sE)(a,function(T){return T!==l&&g(l,T)})})}function g(a,l){if(!!l){if(a===l)return l;if(!!a.parent)return g(a.parent,l)}}function _(a,l,T){var O=!T||a.indexOf(l)===-1;return O&&a.push(l),O}function d(a,l,T){T=T||0,(0,c.kJ)(a)||(a=[a]),(0,c.Ed)(a,function(O,y){var S=l(O,y,T);(0,c.kJ)(S)&&S.length&&d(S,l,T+1)})}function o(a,l,T){var O=[],y=[];return d(a,function(S,L,D){_(O,S,l);var I=S.children;if((T===-1||D<T)&&I&&_(y,I,l))return I}),O}function u(a,l){return o(a,!l,1)}function i(a,l){return o(a,!l,-1)}function p(a,l,T){(0,c.o8)(l)&&(l=!0),(0,c.Kn)(l)&&(T=l,l=!0),T=T||{};var O=n(T.allShapes),y=n(T.allConnections),S=n(T.enclosedElements),L=n(T.enclosedConnections),D=n(T.topLevel,l&&(0,c.vM)(a,function(A){return A.id}));function I(A){D[A.source.id]&&D[A.target.id]&&(D[A.id]=[A]),O[A.source.id]&&O[A.target.id]&&(L[A.id]=S[A.id]=A),y[A.id]=A}function U(A){if(S[A.id]=A,A.waypoints)L[A.id]=y[A.id]=A;else return O[A.id]=A,(0,c.Ed)(A.incoming,I),(0,c.Ed)(A.outgoing,I),A.children}return d(a,U),{allShapes:O,allConnections:y,topLevel:D,enclosedConnections:L,enclosedElements:S}}function s(a,l){l=!!l,(0,c.kJ)(a)||(a=[a]);var T,O,y,S;return(0,c.Ed)(a,function(L){var D=L;L.waypoints&&!l&&(D=s(L.waypoints,!0));var I=D.x,U=D.y,A=D.height||0,N=D.width||0;(I<T||T===void 0)&&(T=I),(U<O||O===void 0)&&(O=U),(I+N>y||y===void 0)&&(y=I+N),(U+A>S||S===void 0)&&(S=U+A)}),{x:T,y:O,height:S-O,width:y-T}}function r(a,l){var T={};return(0,c.Ed)(a,function(O){var y=O;y.waypoints&&(y=s(y)),!(0,c.hj)(l.y)&&y.x>l.x&&(T[O.id]=O),!(0,c.hj)(l.x)&&y.y>l.y&&(T[O.id]=O),y.x>l.x&&y.y>l.y&&((0,c.hj)(l.width)&&(0,c.hj)(l.height)&&y.width+y.x<l.width+l.x&&y.height+y.y<l.height+l.y||!(0,c.hj)(l.width)||!(0,c.hj)(l.height))&&(T[O.id]=O)}),T}function t(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}function e(a){return!!(a&&a.isFrame)}function n(a,l){return(0,c.f0)({},a||{},l||{})}},46534:(rt,G,m)=>{"use strict";m.d(G,{Ku:()=>E,UW:()=>g,jt:()=>_});function c(d){!d||typeof d.stopPropagation!="function"||d.stopPropagation()}function E(d){return d.originalEvent||d.srcEvent}function g(d,o){c(d,o),c(E(d),o)}function _(d){return d.pointers&&d.pointers.length&&(d=d.pointers[0]),d.touches&&d.touches.length&&(d=d.touches[0]),d?{x:d.clientX,y:d.clientY}:null}},41741:(rt,G,m)=>{"use strict";m.d(G,{Or:()=>d,SO:()=>p,ZS:()=>g,qr:()=>i,tW:()=>E});var c=m(2299);function E(s,r){return!s||!r?-1:Math.sqrt(Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2))}function g(s,r,t,e){if(typeof e>"u"&&(e=5),!s||!r||!t)return!1;var n=(r.x-s.x)*(t.y-s.y)-(r.y-s.y)*(t.x-s.x),a=E(s,r);return Math.abs(n/a)<=e}var _=2;function d(s,r){var t;return(0,c.kJ)(s)?t=s:t=[s,r],o(t)?"h":u(t)?"v":!1}function o(s,r){var t;(0,c.kJ)(s)?t=s:t=[s,r];var e=t.slice().shift();return(0,c.yW)(t,function(n){return Math.abs(e.y-n.y)<=_})}function u(s,r){var t;(0,c.kJ)(s)?t=s:t=[s,r];var e=t.slice().shift();return(0,c.yW)(t,function(n){return Math.abs(e.x-n.x)<=_})}function i(s,r,t){return t=t||0,s.x>r.x-t&&s.y>r.y-t&&s.x<r.x+r.width+t&&s.y<r.y+r.height+t}function p(s,r){return{x:Math.round(s.x+(r.x-s.x)/2),y:Math.round(s.y+(r.y-s.y)/2)}}},21202:(rt,G,m)=>{"use strict";m.d(G,{G:()=>E,s:()=>c});function c(g){return g.childNodes[0]}function E(g){return g.parentNode.childNodes[1]}},50296:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>c});function c(E){this._counter=0,this._prefix=(E?E+"-":"")+Math.floor(Math.random()*1e9)+"-"}c.prototype.next=function(){return this._prefix+ ++this._counter}},26001:(rt,G,m)=>{"use strict";m.d(G,{m:()=>c});function c(E){return Math.log(E)/Math.log(10)}},98827:(rt,G,m)=>{"use strict";m.d(G,{RJ:()=>_,Dw:()=>d,Id:()=>g});var c=m(46534);function E(){return/mac/i.test(navigator.platform)}function g(o){return!((0,c.Ku)(o)||o).button}function _(o){var u=(0,c.Ku)(o)||o;return g(o)?E()?u.metaKey:u.ctrlKey:!1}function d(o){var u=(0,c.Ku)(o)||o;return g(o)&&u.shiftKey}},43273:(rt,G,m)=>{"use strict";m.d(G,{b:()=>c,p:()=>E});function c(g){return{x:g.x+g.width/2,y:g.y+g.height/2}}function E(g,_){return{x:g.x-_.x,y:g.y-_.y}}},80352:(rt,G,m)=>{"use strict";m.d(G,{r:()=>c});function c(E,g){if(typeof g!="function")throw new Error("removeFn iterator must be a function");if(!!E){for(var _;_=E[0];)g(_);return E}}},7824:(rt,G,m)=>{"use strict";m.d(G,{KO:()=>E,W5:()=>_,cq:()=>d});var c=m(21537);function E(o){return o.join(",").replace(/,?([A-z]),?/g,"$1")}function g(o){for(var u="",i=0,p;p=o[i];i++)u+=p.x+","+p.y+" ";return u}function _(o,u){var i=(0,c.Ue)("polyline");return(0,c.Lj)(i,{points:g(o)}),u&&(0,c.Lj)(i,u),i}function d(o,u){return(0,c.Lj)(o,{points:g(u)}),o}},18872:(rt,G,m)=>{"use strict";m.d(G,{Iu:()=>g,U1:()=>_,vs:()=>E});var c=m(21537);function E(o,u,i,p,s){var r=(0,c.pH)();r.setTranslate(u,i);var t=(0,c.pH)();t.setRotate(p||0,0,0);var e=(0,c.pH)();e.setScale(s||1,s||1),(0,c.vs)(o,[r,t,e])}function g(o,u,i){var p=(0,c.pH)();p.setTranslate(u,i),(0,c.vs)(o,p)}function _(o,u){var i=(0,c.pH)();i.setRotate(u,0,0),(0,c.vs)(o,i)}function d(o,u){var i=createTransform();i.setScale(u,u),svgTransform(o,i)}},23583:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>e});var c=m(2299),E=m(21537),g=0,_={width:150,height:50};function d(a){var l=a.split("-");return{horizontal:l[0]||"center",vertical:l[1]||"top"}}function o(a){return(0,c.Kn)(a)?(0,c.f0)({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function u(a,l){l.textContent=a;var T;try{var O,y=a==="";return l.textContent=y?"dummy":a,T=l.getBBox(),O={width:T.width+T.x*2,height:T.height},y&&(O.width=0),O}catch{return{width:0,height:0}}}function i(a,l,T){for(var O=a.shift(),y=O,S;;){if(S=u(y,T),S.width=y?S.width:0,y===" "||y===""||Math.round(S.width)<=Math.round(l)||y.length<2)return p(a,y,O,S);y=r(y,S.width,l)}}function p(a,l,T,O){if(l.length<T.length){var y=T.slice(l.length).trim();a.unshift(y)}return{width:O.width,height:O.height,text:l}}function s(a,l){var T=a.split(/(\s|-)/g),O,y=[],S=0;if(T.length>1)for(;O=T.shift();)if(O.length+S<l)y.push(O),S+=O.length;else{O==="-"&&y.pop();break}return y.join("")}function r(a,l,T){var O=Math.max(a.length*(T/l),1),y=s(a,O);return y||(y=a.slice(0,Math.max(Math.round(O-1),1))),y}function t(){var a=document.getElementById("helper-svg");return a||(a=(0,E.Ue)("svg"),(0,E.Lj)(a,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(a)),a}function e(a){this._config=(0,c.f0)({},{size:_,padding:g,style:{},align:"center-top"},a||{})}e.prototype.createText=function(a,l){return this.layoutText(a,l).element},e.prototype.getDimensions=function(a,l){return this.layoutText(a,l).dimensions},e.prototype.layoutText=function(a,l){var T=(0,c.f0)({},this._config.size,l.box),O=(0,c.f0)({},this._config.style,l.style),y=d(l.align||this._config.align),S=o(l.padding!==void 0?l.padding:this._config.padding),L=l.fitBox||!1,D=n(O),I=a.split(/\r?\n/g),U=[],A=T.width-S.left-S.right,N=(0,E.Ue)("text");(0,E.Lj)(N,{x:0,y:0}),(0,E.Lj)(N,O);var Y=t();for((0,E.R3)(Y,N);I.length;)U.push(i(I,A,N));y.vertical==="middle"&&(S.top=S.bottom=0);var Q=(0,c.u4)(U,function(M,f,x){return M+(D||f.height)},0)+S.top+S.bottom,it=(0,c.u4)(U,function(M,f,x){return f.width>M?f.width:M},0),tt=S.top;y.vertical==="middle"&&(tt+=(T.height-Q)/2),tt-=(D||U[0].height)/4;var $=(0,E.Ue)("text");(0,E.Lj)($,O),(0,c.Ed)(U,function(M){var f;switch(tt+=D||M.height,y.horizontal){case"left":f=S.left;break;case"right":f=(L?it:A)-S.right-M.width;break;default:f=Math.max(((L?it:A)-M.width)/2+S.left,0)}var x=(0,E.Ue)("tspan");(0,E.Lj)(x,{x:f,y:tt}),x.textContent=M.text,(0,E.R3)($,x)}),(0,E.Od)(N);var H={width:it,height:Q};return{dimensions:H,element:$}};function n(a){if("fontSize"in a&&"lineHeight"in a)return a.lineHeight*parseInt(a.fontSize,10)}},21537:(rt,G,m)=>{"use strict";m.d(G,{Lj:()=>p,Od:()=>l,R3:()=>g,Sh:()=>n,Ue:()=>I,ZH:()=>T,d9:()=>O,pH:()=>$,vs:()=>K,wz:()=>tt});function c(w,k){if(w.ownerDocument!==k.ownerDocument)try{return k.ownerDocument.importNode(w,!0)}catch{}return w}function E(w,k){return k.appendChild(c(w,k))}function g(w,k){return E(k,w),w}var _=2,d={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(w,k){return d[k]?w.style[k]:w.getAttributeNS(null,k)}function u(w,k,J){var ot=k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=d[ot];st?(st===_&&typeof J=="number"&&(J=String(J)+"px"),w.style[ot]=J):w.setAttributeNS(null,k,J)}function i(w,k){var J=Object.keys(k),ot,st;for(ot=0,st;st=J[ot];ot++)u(w,st,k[st])}function p(w,k,J){if(typeof k=="string")if(J!==void 0)u(w,k,J);else return o(w,k);else i(w,k);return w}function s(w,k){if(w.indexOf)return w.indexOf(k);for(var J=0;J<w.length;++J)if(w[J]===k)return J;return-1}var r=/\s+/,t=Object.prototype.toString;function e(w){return typeof w<"u"}function n(w){return new a(w)}function a(w){if(!w||!w.nodeType)throw new Error("A DOM element reference is required");this.el=w,this.list=w.classList}a.prototype.add=function(w){if(this.list)return this.list.add(w),this;var k=this.array(),J=s(k,w);return~J||k.push(w),e(this.el.className.baseVal)?this.el.className.baseVal=k.join(" "):this.el.className=k.join(" "),this},a.prototype.remove=function(w){if(t.call(w)==="[object RegExp]")return this.removeMatching(w);if(this.list)return this.list.remove(w),this;var k=this.array(),J=s(k,w);return~J&&k.splice(J,1),this.el.className.baseVal=k.join(" "),this},a.prototype.removeMatching=function(w){for(var k=this.array(),J=0;J<k.length;J++)w.test(k[J])&&this.remove(k[J]);return this},a.prototype.toggle=function(w,k){return this.list?(e(k)?k!==this.list.toggle(w,k)&&this.list.toggle(w):this.list.toggle(w),this):(e(k)?k?this.add(w):this.remove(w):this.has(w)?this.remove(w):this.add(w),this)},a.prototype.array=function(){var w=this.el.getAttribute("class")||"",k=w.replace(/^\s+|\s+$/g,""),J=k.split(r);return J[0]===""&&J.shift(),J},a.prototype.has=a.prototype.contains=function(w){return this.list?this.list.contains(w):!!~s(this.array(),w)};function l(w){var k=w.parentNode;return k&&k.removeChild(w),w}function T(w){for(var k;k=w.firstChild;)l(k);return w}function O(w){return w.cloneNode(!0)}var y={svg:"http://www.w3.org/2000/svg"},S='<svg xmlns="'+y.svg+'"';function L(w){var k=!1;w.substring(0,4)==="<svg"?w.indexOf(y.svg)===-1&&(w=S+w.substring(4)):(w=S+">"+w+"</svg>",k=!0);var J=D(w);if(!k)return J;for(var ot=document.createDocumentFragment(),st=J.firstChild;st.firstChild;)ot.appendChild(st.firstChild);return ot}function D(w){var k;return k=new DOMParser,k.async=!1,k.parseFromString(w,"text/xml")}function I(w,k){var J;return w.charAt(0)==="<"?(J=L(w).firstChild,J=document.importNode(J,!0)):J=document.createElementNS(y.svg,w),k&&p(J,k),J}function U(w,k,J,ot){w.addEventListener(k,J,ot)}function A(w,k,J,ot){w.removeEventListener(k,J,ot)}var N=null;function Y(){return N===null&&(N=I("svg")),N}function Q(w,k){var J,ot,st=Object.keys(k);for(J=0;ot=st[J];J++)w[ot]=k[ot];return w}function it(w,k){var J=Y().createSVGPoint();switch(arguments.length){case 0:return J;case 2:w={x:w,y:k};break}return Q(J,w)}function tt(w,k,J,ot,st,ut){var ft=Y().createSVGMatrix();switch(arguments.length){case 0:return ft;case 1:return Q(ft,w);case 6:return Q(ft,{a:w,b:k,c:J,d:ot,e:st,f:ut})}}function $(w){return w?Y().createSVGTransformFromMatrix(w):Y().createSVGTransform()}var H=/([&<>]{1})/g,M=/([\n\r"]{1})/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function x(w,k){function J(ot,st){return f[st]||st}return w.replace(k,J)}function h(w,k){var J,ot,st,ut,ft;switch(w.nodeType){case 3:k.push(x(w.textContent,H));break;case 1:if(k.push("<",w.tagName),w.hasAttributes())for(st=w.attributes,J=0,ot=st.length;J<ot;++J)ut=st.item(J),k.push(" ",ut.name,'="',x(ut.value,M),'"');if(w.hasChildNodes()){for(k.push(">"),ft=w.childNodes,J=0,ot=ft.length;J<ot;++J)h(ft.item(J),k);k.push("</",w.tagName,">")}else k.push("/>");break;case 8:k.push("<!--",x(w.nodeValue,H),"-->");break;case 4:k.push("<![CDATA[",w.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+w.nodeType)}return k}function v(w,k){var J=L(k);if(T(w),!!k){P(J)||(J=J.documentElement);for(var ot=b(J.childNodes),st=0;st<ot.length;st++)E(ot[st],w)}}function C(w){for(var k=w.firstChild,J=[];k;)h(k,J),k=k.nextSibling;return J.join("")}function P(w){return w.nodeName==="#document-fragment"}function j(w,k){if(k!==void 0){try{v(w,k)}catch(J){throw new Error("error parsing SVG: "+J.message)}return w}else return C(w)}function b(w){return Array.prototype.slice.call(w)}function F(w,k){return w.querySelector(k)}function V(w,k){var J=w.querySelectorAll(k);return[].map.call(J,function(ot){return ot})}function X(w,k){return k.insertBefore(c(w,k),k.firstChild||null)}function q(w,k){return X(k,w),w}function nt(w,k){return w.parentNode.replaceChild(c(k,w),w),k}function W(w,k){return k instanceof SVGMatrix?w.createSVGTransformFromMatrix(k):k}function z(w,k){var J,ot;for(w.clear(),J=0;ot=k[J];J++)w.appendItem(W(w,ot))}function K(w,k){var J=w.transform.baseVal;return k&&(Array.isArray(k)||(k=[k]),z(J,k)),J.consolidate()}},66270:(rt,G,m)=>{"use strict";m.d(G,{Lj:()=>p,Od:()=>e,R3:()=>g,Sh:()=>r,Ue:()=>S,d9:()=>a,vs:()=>nt,wz:()=>Y});function c(W,z){if(W.ownerDocument!==z.ownerDocument)try{return z.ownerDocument.importNode(W,!0)}catch{}return W}function E(W,z){return z.appendChild(c(W,z))}function g(W,z){return E(z,W),W}var _=2,d={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(W,z){return d[z]?W.style[z]:W.getAttributeNS(null,z)}function u(W,z,K){var w=z.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),k=d[w];k?(k===_&&typeof K=="number"&&(K=String(K)+"px"),W.style[w]=K):W.setAttributeNS(null,z,K)}function i(W,z){var K=Object.keys(z),w,k;for(w=0,k;k=K[w];w++)u(W,k,z[k])}function p(W,z,K){if(typeof z=="string")if(K!==void 0)u(W,z,K);else return o(W,z);else i(W,z);return W}const s=Object.prototype.toString;function r(W){return new t(W)}function t(W){if(!W||!W.nodeType)throw new Error("A DOM element reference is required");this.el=W,this.list=W.classList}t.prototype.add=function(W){return this.list.add(W),this},t.prototype.remove=function(W){return s.call(W)=="[object RegExp]"?this.removeMatching(W):(this.list.remove(W),this)},t.prototype.removeMatching=function(W){const z=this.array();for(let K=0;K<z.length;K++)W.test(z[K])&&this.remove(z[K]);return this},t.prototype.toggle=function(W,z){return typeof z<"u"?z!==this.list.toggle(W,z)&&this.list.toggle(W):this.list.toggle(W),this},t.prototype.array=function(){return Array.from(this.list)},t.prototype.has=t.prototype.contains=function(W){return this.list.contains(W)};function e(W){var z=W.parentNode;return z&&z.removeChild(W),W}function n(W){for(var z;z=W.firstChild;)e(z);return W}function a(W){return W.cloneNode(!0)}var l={svg:"http://www.w3.org/2000/svg"},T='<svg xmlns="'+l.svg+'"';function O(W){var z=!1;W.substring(0,4)==="<svg"?W.indexOf(l.svg)===-1&&(W=T+W.substring(4)):(W=T+">"+W+"</svg>",z=!0);var K=y(W);if(!z)return K;for(var w=document.createDocumentFragment(),k=K.firstChild;k.firstChild;)w.appendChild(k.firstChild);return w}function y(W){var z;return z=new DOMParser,z.async=!1,z.parseFromString(W,"text/xml")}function S(W,z){var K;return W.charAt(0)==="<"?(K=O(W).firstChild,K=document.importNode(K,!0)):K=document.createElementNS(l.svg,W),z&&p(K,z),K}function L(W,z,K,w){W.addEventListener(z,K,w)}function D(W,z,K,w){W.removeEventListener(z,K,w)}var I=null;function U(){return I===null&&(I=S("svg")),I}function A(W,z){var K,w,k=Object.keys(z);for(K=0;w=k[K];K++)W[w]=z[w];return W}function N(W,z){var K=U().createSVGPoint();switch(arguments.length){case 0:return K;case 2:W={x:W,y:z};break}return A(K,W)}function Y(W,z,K,w,k,J){var ot=U().createSVGMatrix();switch(arguments.length){case 0:return ot;case 1:return A(ot,W);case 6:return A(ot,{a:W,b:z,c:K,d:w,e:k,f:J})}}function Q(W){return W?U().createSVGTransformFromMatrix(W):U().createSVGTransform()}var it=/([&<>]{1})/g,tt=/([\n\r"]{1})/g,$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function H(W,z){function K(w,k){return $[k]||k}return W.replace(z,K)}function M(W,z){var K,w,k,J,ot;switch(W.nodeType){case 3:z.push(H(W.textContent,it));break;case 1:if(z.push("<",W.tagName),W.hasAttributes())for(k=W.attributes,K=0,w=k.length;K<w;++K)J=k.item(K),z.push(" ",J.name,'="',H(J.value,tt),'"');if(W.hasChildNodes()){for(z.push(">"),ot=W.childNodes,K=0,w=ot.length;K<w;++K)M(ot.item(K),z);z.push("</",W.tagName,">")}else z.push("/>");break;case 8:z.push("<!--",H(W.nodeValue,it),"-->");break;case 4:z.push("<![CDATA[",W.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+W.nodeType)}return z}function f(W,z){var K=O(z);if(n(W),!!z){h(K)||(K=K.documentElement);for(var w=C(K.childNodes),k=0;k<w.length;k++)E(w[k],W)}}function x(W){for(var z=W.firstChild,K=[];z;)M(z,K),z=z.nextSibling;return K.join("")}function h(W){return W.nodeName==="#document-fragment"}function v(W,z){if(z!==void 0){try{f(W,z)}catch(K){throw new Error("error parsing SVG: "+K.message)}return W}else return x(W)}function C(W){return Array.prototype.slice.call(W)}function P(W,z){return W.querySelector(z)}function j(W,z){var K=W.querySelectorAll(z);return[].map.call(K,function(w){return w})}function b(W,z){return z.insertBefore(c(W,z),z.firstChild||null)}function F(W,z){return b(z,W),W}function V(W,z){return W.parentNode.replaceChild(c(z,W),W),z}function X(W,z){return z instanceof SVGMatrix?W.createSVGTransformFromMatrix(z):z}function q(W,z){var K,w;for(W.clear(),K=0;w=z[K];K++)W.appendItem(X(W,w))}function nt(W,z){var K=W.transform.baseVal;return z&&(Array.isArray(z)||(z=[z]),q(K,z)),K.consolidate()}}}]);
